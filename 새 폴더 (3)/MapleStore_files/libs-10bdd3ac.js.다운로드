!function(G){var window="object"!=typeof window?G:window,prev_=window._;function _(t){if(_.isString(t))return _.method.apply(null,arguments);for(var e,i=[],n=arguments.length,r=n,s=1;s<n;s++){var o=arguments[s];o===___&&(r=s)&&(e=[])||(s<r?i.push(o):e.push(o))}var a=function(){return t.apply(this,merge_args(i,arguments,e))};return a._p_async=t._p_async,a}function _to_unde(t,e,i){e&&(t=t.concat(e)),i&&(t=t.concat(i));for(var n=0,r=t.length;n<r;n++)t[n]===_&&(t[n]=void 0);return t}function merge_args(t,e,i){if(!e.length)return i?_to_unde(t,i):_to_unde(_.clone(t));for(var n=_.clone(t),r=(e=_.to_array(e),-1),s=n.length;++r<s;)n[r]===_&&(n[r]=e.shift());if(!i)return _to_unde(n,e.length?e:void 0);var o=_.clone(i);r=o.length;if(e.length){for(;r--;)o[r]===_&&(o[r]=e.pop());return _to_unde(n,e,o)}for(;r--&&o[r]===_;)o.pop();return _to_unde(n,o)}function _1(t){var e=_.apply(null,arguments);return function(){return 0==arguments.length?e.call(this,void 0):e.apply(this,arguments)}}window._previous_underscore||!prev_||prev_._partialjs||(window._previous_underscore=function(){return prev_}),window._partial_namespace=function(){return _},_.partial=_,_.partial._partialjs=!0,_.m=_.method=function(t){function e(e){return e[t].apply(e,_.rest(arguments))}return _.apply(null,[e,_].concat(_.rest(arguments)))},_.bind=function(t){var e=Function.prototype.bind.apply(t,_.rest(arguments));return e._p_async=t._p_async,e},_._1=_1,_.is_array=_.isArray=Array.isArray,each(["Arguments","String","Number","Date","RegExp","Error"],(function(t){_["is_"+t.toLowerCase()]=_["is"+t]=function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}})),_.is_fn=_.is_function=_.isFunction=function(t){return t instanceof Function},"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.is_fn=_.is_function=_.isFunction=function(t){return"function"==typeof t||!1}),_.is_object=_.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},_.is_undefined=_.isUndefined=function(t){return void 0===t};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;function likearr(t){var e=getLength(t);return"number"==typeof e&&e>=0&&e<=MAX_ARRAY_INDEX}_.is_array_like=_.isArrayLike=likearr;var toString=Object.prototype.toString;function mr(){return arguments.__mr=!0,arguments}function mr_cat(){for(var t={length:0,__mr:!0},e=0,i=arguments.length;e<i;e++){var n=arguments[e];if(is_mr(n))for(var r=0,s=n.length;r<s;r++)t[t.length++]=n[r];else t[t.length++]=n}return t}function to_mr(t){return t.__mr=!0,t}function is_mr(t){return t&&t.__mr}function safety_mr(t){return t.length>1?to_mr(t):t[0]}function goapply(t,e,i,n){for(var r,s=n||0,o=e instanceof Error;r=i[s++];)try{if(e){if(e.__mr){if(thenable_mr(e))return go_async(t,e,i,s-1);if(o?!r.__catch_pipe:r.__catch_pipe)continue;if(e.__stop)return 1==e.length?e[0]:e.__stop=e;e=r.apply(t,e);continue}if(e.then&&_.is_fn(e.then))return go_async(t,e,i,s-1)}if(o?!r.__catch_pipe:r.__catch_pipe)continue;e=void 0===e?r.call(t):r.call(t,e),o=!1}catch(t){e=t,o=!0}if(o)throw e;return e}function __(t){var e="function"==typeof t?arguments:t;return function(){return arguments.__mr=!0,this===window||this===_?_.go(arguments,e):goapply(this,arguments,e)}}function ___(t){var e="function"==typeof t?arguments:t;return function(){return goapply(ithis(this,arguments),to_mr(arguments),e)}}function ithis(t,e){return{parent:t,arguments:e}}function thenable(t){return t&&"function"==typeof t.then}function thenable_mr(t){for(var e=t.length;e--;)if(t[e]&&"function"==typeof t[e].then)return!0}function unpack_promise(t){return is_mr(t)?thenable_mr(t)&&_.go(Promise.all(_.toArray(t)),to_mr):thenable(t)&&t}function go_async(t,e,i,n){return new Promise((function(r,s){var o,a=i.length;!function e(l){do{if(n==a)return o?s(l):r(fpro(l));var c=unpack_promise(l);if(c)return c.then(e,(function(t){o=!0,e(t)}));if(l&&l.__stop)n=a,l=1==l.length?l[0]:l.__stop=l;else if((o?i[n].__catch_pipe:!i[n].__catch_pipe)||!n++){o=!1;try{l=is_mr(l)?i[n++].apply(t,l):void 0===l?i[n++].call(t):i[n++].call(t,l)}catch(t){l=t,o=!0}}}while(n<=a)}(e)}))}function fpro(t){return is_mr(t)&&1==t.length?t[0]:t}_.is_finite=_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.is_nan=_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.is_boolean=_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===toString.call(t)},_.is_null=_.isNull=function(t){return null===t},_.is_numeric=_.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},_.is_arguments=_.isArguments=function(t){return!(!t||!t.callee)},_.is_element=_.isElement=function(t){return!(!t||1!==t.nodeType)},_.wrapArray=_.wrap_arr=function(t){return _.isArray(t)?t:[t]},_.parseInt=_.parse_int=function(t){return parseInt(t,10)},_.go=function(t,e){if(this!=_&&this!=window)return _.is_fn(e)?goapply(this,t,arguments,1):goapply(this,t,e);var i,n=0,r=arguments,s=t instanceof Error;for(_.is_fn(e)||(n=-1,r=e);i=r[++n];)try{if(t){if(t.__mr){if(thenable_mr(t))return go_async(null,t,r,n);if(s?!i.__catch_pipe:i.__catch_pipe)continue;if(t.__stop)return 1==t.length?t[0]:t.__stop=t;t=i.apply(void 0,t);continue}if(t.then&&_.is_fn(t.then))return go_async(null,t,r,n)}if(s?!i.__catch_pipe:i.__catch_pipe)continue;t=void 0===t?i():i(t),s=!1}catch(e){t=e,s=!0}if(s)throw t;return t},_.mr=mr,_.to_mr=to_mr,_.is_mr=is_mr,_.mr_cat=mr_cat,_.stop=function(){return arguments.__stop=arguments.__mr=!0,arguments},_.pipe=__,_.indent=___,_.tap=function(){var t=__(arguments);return function(e){var i=safety_mr(arguments);return _.go.call(this,i,t,_.c(i))}},_.add_arg=function(){var t=__(arguments);return function(){var e=safety_mr(arguments);return _.go.call(this,e,t,(function(){return mr_cat(e,to_mr(arguments))}))}},_.go.async=function(t){return go_async(_.go===this?null:this,t,arguments,1)},__.async=function(t){var e=_.is_fn(t)?arguments:t;function i(){return go_async(this,to_mr(arguments),e,0)}return i._p_async=!0,i},_.async=__.async,_.pipe.async=__.async,___.async=_.indent.async=function(t){var e=_.is_fn(t)?arguments:t;return function(){return go_async(ithis(this,arguments),to_mr(arguments),e,0)}},_.cb=_.callback=function(t){return __.async(map(arguments,(function(t){return function(){var e=_.toArray(arguments),i=this;return new Promise((function(n){t.apply(i,e.concat((function(){n(safety_mr(arguments))})))}))}})))},_.boomerang=function(){var t=arguments;return _.callback((function(){var e=arguments,i=e[e.length-1];e.length--;var n=ithis(this,e);n.return=i,go_async(n,to_mr(e),t,0)}))},_.branch=function(){var t=arguments;return function(){return arguments.__mr=!0,goapply(this,arguments,t),arguments}},_.catch=function(){var t=__(arguments);return t.__catch_pipe=!0,t},_.all2=function(t){for(var e,i=[],n=0,r=arguments.length,s=this===_?null:this;++n<r;)if(e=arguments[n][_.is_mr(t)?"apply":"call"](s,t),_.is_mr(e))for(var o=0,a=e.length;o<a;o++)i.push(e[o]);else i.push(e);return to_mr(i)},_.all=_.All=function(t){var e=[],i=-1;return _.is_number(t)?function n(){return++i<t?(e.push(_.pipe(arguments)),n):_.all2.apply(this,[to_mr(arguments)].concat(e))}:(e=_.last(arguments),_.is_array(e)?_.all2.apply(this,[to_mr(t)].concat(e)):(e=_.to_array(arguments),function(){return _.all2.apply(this,[to_mr(arguments)].concat(e))}))},_.spread2=function(t){for(var e,i=_.rest(arguments,1),n=[],r=0,s=i.length,o=t.length;r<s||r<o;r++)if(e=_.is_mr(t[r])?(i[r]||_.idtt).apply(this===_?null:this,t[r]):(i[r]||_.idtt).call(this===_?null:this,t[r]),_.is_mr(e))for(var a=0,l=e.length;a<l;a++)n.push(e[a]);else n.push(e);return to_mr(n)},_.spread=_.Spread=function(){var t=_.last(arguments);return _.isArray(t)?_.spread2.apply(this,[to_mr(_.initial(arguments))].concat(t)):(t=_.toArray(arguments),function(){return _.spread2.apply(this,[to_mr(arguments)].concat(t))})},_.if=_.If=function(t,e){var i=[e?[t,e]:[_.identity,t]];return G.console&&console.warn("_.if 함수는 곧 _.if2로 대체될 예정입니다."),_.extend(r,{else_if:n,elseIf:n,else:function(t){return i.push([_.constant(!0),t])&&r}});function n(t,e){return i.push(e?[t,e]:[_.identity,t])&&r}function r(){var t=arguments;return _.go.call(this,i,_.find((function(e){return e[0].apply(this,t)})),(function(e){return e?e[1].apply(this,t):void 0}))}},_.if2=_.If2=function(){var t=_.pipe(arguments);return function(){var e=[[t,_.pipe(arguments)]];return _.extend(n,{else_if:i,elseIf:i,else:function(){return e.push([_.constant(!0),_.pipe(arguments)])&&n}});function i(){var t=_.pipe.apply(this,arguments);return function(){return e.push([t,_.pipe(arguments)])&&n}}function n(){var t=arguments;return _.go.call(this,e,_.find((function(e){return e[0].apply(this,t)})),(function(e){return e?e[1].apply(this,t):void 0}))}}},_.or=function(){var t=arguments;return function(){var e=to_mr(arguments);return function i(n,r){return r==t.length-1?_.go(n,t[r]):_.go(n,t[r],(function(t){return t||i(e,r+1)}))}(e,0)}},_.noop=function(){},_.this=function(){return this},_.idtt=_.identity=function(t){return t},_.aidtt=_.async(_.idtt),_.i=_.i18n=function(t){return 1==arguments.length?t:_.toArray(arguments).join(" ")},_.args=function(){return arguments},_.args0=_.identity,_.args1=function(){return arguments[1]},_.args2=function(){return arguments[2]},_.args3=function(){return arguments[3]},_.args4=function(){return arguments[4]},_.a=_.c=_.always=_.constant=function(t){return function(){return t}},_.true=_.constant(!0),_.false=_.constant(!1),_.null=_.constant(null),_.not=function(t){return!t},_.nnot=function(t){return!!t},_.log=window.console&&window.console.log?console.log.bind?console.log.bind(console):function(){console.log.apply(console,arguments)}:_.idtt,_.loge=window.console&&window.console.error?console.error.bind?console.error.bind(console):function(){console.error.apply(console,arguments)}:_.idtt,_.Err=function(t){return new Error(t)},_.hi=_.tap(_.log),_.Hi=function(t){return _.tap(_1(_.log,t))},_.f=function(t){var e=_.val(window,t),i=Error("warning: "+t+" is not defined");return e||setTimeout((function(){(e=e||_.val(window,t))||_.loge(i)}),500)&&function(){return(e||(e=_.val(window,t))).apply(this,arguments)}},_.v=_.val=function(t,e,i){return 1==arguments.length?_.property(t):null==e?void 0:function t(e,i,n,r){return(e=e[n[i]])?r==i?e:t(e,i+1,n,r):r==i?e:void 0}(t||{},0,i=(e+"").split("."),i.length-1)},_.property=function(t){return _1(_.val,_,t)},_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}};var hasOwnProperty=Object.hasOwnProperty;_.has=function(t,e){return null!=t&&hasOwnProperty.call(t,e)};var slice=Array.prototype.slice;function _keys(t){return _.isObject(t)?Object.keys(t):[]}function _invert(t){for(var e=_keys(t),i=e.length,n={},r=0;r<i;r++)n[t[e[r]]]=e[r];return n}_.rest=function t(e,i,n){return _.isNumber(e)?_1(t,_,e):slice.call(e,null==i||n?1:i)},_.values=function(t){for(var e=_keys(t),i=e.length,n=Array(i),r=-1;++r<i;)n[r]=t[e[r]];return n},_.toArray=_.to_array=function(t){return _.isArray(t)?t:likearr(t)?slice.call(t):_.values(t)},_.keyval=_.obj=_.object=function(t,e){var i={};if(_.isString(t))i[t]=e;else for(var n=0,r=getLength(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},_.valkey=function(t,e){return _.obj(e,t)},_.obj2=_.object2=function t(e,i,n){return 2==arguments.length?_1(t,_,e,i):_.obj(_.wrap_arr(i),_.values(_.pick(e,n)))},_.keys=_keys,_.size=function(t){return likearr(t)?t.length:_keys(t).length},_.nest=function t(e,i){return 1==arguments.length?_1(t,e):_.reduceRight(e.split("."),_.valkey,i)},_.invert=_invert;var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_invert(escapeMap),createEscaper=function(t){var e=function(e){return t[e]},i="(?:"+_keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap);var idCounter=0,mid;_.unique_id=_.uniqueId=function(t){var e=++idCounter+"";return t?t+e:e},_.clone=function(t){if(!_.isObject(t))return t;if(_.isArray(t))return t.slice();var e=_.extend({},t);try{return delete e._memoize,e}catch(t){return e}},_.is_empty=_.isEmpty=function(t){return 0===(likearr(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?t:_keys(t)).length},_.memoize=function(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return _.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},_.memoize2=(mid=0,function(t){var e=++mid,i=1==arguments.length?t:__(arguments);return function(t){return _.has(t._memoize||(t._memoize=function(){}),e)?t._memoize[e]:t._memoize[e]=i(t)}}),_.wait=function(t){return function(){var e=arguments;return _.go(new Promise((function(e){setTimeout(e,t||0)})),(function(){return _.to_mr(e)}))}},_.delay=function(t,e){var i=slice.call(arguments,2);return setTimeout((function(){return t.apply(null,i)}),e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,i){var n,r,s,o=null,a=0;i||(i={});var l=function(){a=!1===i.leading?0:Date.now(),o=null,s=t.apply(n,r),o||(n=r=null)};return function(){var c=Date.now();a||!1!==i.leading||(a=c);var h=e-(c-a);return n=this,r=arguments,h<=0||h>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(n,r),o||(n=r=null)):o||!1===i.trailing||(o=setTimeout(l,h)),s}},_.debounce=function(t,e,i){var n,r,s,o,a,l=function(){var c=Date.now()-o;c<e&&c>=0?n=setTimeout(l,e-c):(n=null,i||(a=t.apply(s,r),n||(s=r=null)))};return function(){s=this,r=arguments,o=Date.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(a=t.apply(s,r),s=r=null),a}},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},_.once=_.partial(_.before,2);var eq=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=toString.call(t);if(r!==toString.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(_.is_fn(o)&&o instanceof o&&_.is_fn(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!eq(t[l],e[l],i,n))return!1}else{var c,h=_keys(t);if(l=h.length,_keys(e).length!==l)return!1;for(;l--;)if(c=h[l],!_.has(e,c)||!eq(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0};function each(t,e,i){for(var n=i||0,r=getLength(t);n<r;n++)e(t[n],n,t);return t}function map(t,e){for(var i=-1,n="number"==typeof(s=t&&t.length)?null:_keys(t),r=[],s=(n||t).length;++i<s;)r[i]=e(t[n?n[i]:i]);return r}function filter(t,e){for(var i,n=-1,r="number"==typeof(o=t&&t.length)?null:_keys(t),s=[],o=(r||t).length;++n<o;)e(i=t[r?r[n]:n])&&(s[s.length]=i);return s}function times2(t,e){for(var i=1;i<=t;i++)e(i)}_.is_equal=_.isEqual=function t(e,i){return 1==arguments.length?_1(t,e):eq(e,i)},_.is_match=_.isMatch=_.matcher=function t(e,i){if(1==arguments.length)return _1(t,_,e);var n=_keys(i),r=n.length;if(null==e)return!r;for(var s,o=0,a=Object(e);o<r;o++)if(i[s=n[o]]!=a[s]||!(s in a))return!1;return!0},_.times=function(t,e){for(var i=0;i<t;i++)e(i)};try{var has_lambda=!0;eval("a=>a")}catch(t){var has_lambda=!1}function lambda(str){if("string"!=typeof str)return str;if(str=str.replace(/\*\*/g,'"'),has_lambda||(str=str.replace(/`/g,"'")),lambda[str])return lambda[str];if(0==str.indexOf("#"))return lambda[str]=(id=str.substr(1),function(t){return t.id==id});var id;if(!str.match(/=>/))return lambda[str]=new Function(lamda_make_$args_str(str),"return ("+str+")");if(has_lambda)return lambda[str]=eval(str);var ex_par=str.split(/\s*=>\s*/);return lambda[str]=new Function(ex_par[0].replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*\s*:|this|arguments|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],"return ("+ex_par[1]+")")}function lamda_make_$args_str(t){return _.go(t.match(/\$\d*/g),_.map((function(t){return t.slice(1)})),_.max,(function(t){return""==t||null==t?"$":_.go(_.range(2,parseInt(t)+1),_.reduce((function(t,e){return t+", $"+e}),"$"))}))}function bexdf(t,e){for(var i=1,n=e.length,r=e[0];i<n;i++)r&&e[i]&&t(r,e[i]);try{r&&delete r._memoize}catch(t){}return r}function setter(t,e){for(var i in e)t[i]=e[i]}function dsetter(t,e){for(var i in e)_.has(t,i)||(t[i]=e[i])}function flat(t,e,i,n){return each(e,(function(e){if(!likearr(e)||!_.isArray(e)&&!_.isArguments(e))return t.push(e);i?each(e,(function(e){t.push(e)})):flat(t,e,i)}),n),t}function Iter(t,e){for(var i=e?3:2,n=t[t.length-(e?2:1)],r=[],s=0,o=t.length-i;s<o;s++)r[s]=t[s];r[s+i]=t[t.length-2];var a=function(){return r[s]=arguments[0],r[s+1]=arguments[1],e&&(r[s+2]=arguments[2]),n.apply(this,r)};return a._p_async=n._p_async,a}function collf(t,e){return function i(n,r){if(1==arguments.length&&(_.is_fn(n)||"string"==typeof n))return _1(i,___,n);if(arguments.length>2)var s=arguments[arguments.length-2],o=Iter(arguments);else s=n,o="string"==typeof r?_.val(r):r||_.idtt;this!=_&&this!=G&&(o=_.bind(o,this));var a,l,c=likearr(s)?null:_keys(s),h=(c||s).length;r=-1;return o._p_async?e(s,o,c,a,r,h,l):(e&&h&&(a=o(s[l=c?c[++r]:++r],l,s)),((a&&(a.__mr?thenable_mr(a):a.then&&_.is_fn(a.then))?e:t)||e)(s,o,c,a,r,h,l))}}_.l=_.lambda=lambda,_.extend=function(){return bexdf(setter,arguments)},_.defaults=function(){return bexdf(dsetter,arguments)},_.flatten=function(t,e,i){return flat([],t,e,i)},_.each=collf((function(t,e,i,n,r,s,o){for(;++r<s;)e(t[o=i?i[r]:r],o,t);return t}),(function t(e,i,n,r,s,o,a){return _.go.async(r,(function(){return++s<o?t(e,i,n,i(e[a=n?n[s]:s],a,e),s,o):e}))})),_.map=collf((function(t,e,i,n,r,s,o){if(!s)return[];for(var a=[n];++r<s;)a[r]=e(t[o=i?i[r]:r],o,t);return a}),(function t(e,i,n,r,s,o,a,l){return o?_.go.async(r,(function(r){return l?l[s]=r:l=[r],++s<o?t(e,i,n,i(e[a=n?n[s]:s],a,e),s,o,a,l||[]):l})):_.aidtt([])})),_.if_arr_map=function t(e,i){return 1==arguments.length?_1(t,_,e):_.is_array(e)?_.map(e,i):i(e)},_.cmap=collf(null,(function(t,e,i,n,r,s,o){if(!s)return _.aidtt([]);for(var a=0==r?[n]:[];++r<s;)a[r]=e(t[o=i?i[r]:r],o,t);return Promise.all(a)})),_.sum=function t(e){return _.is_fn(e)?_1(t,___,e):(_.is_fn(arguments[arguments.length-1])||(arguments[arguments.length++]=_.idtt),_.go(to_mr(arguments),_.map,(function(t){if(t.length){for(var e=0,i=t[0],n=t.length;++e<n;)i+=t[e];return i}})))},_.join=function t(e,i){return null==e||"string"==typeof e?_1(t,_,e):_.toArray(e).join(i)};var _reduce_async=function t(e,i,n,r,s){return _.go(r,(function(r){var o=n?n[s]:s;return(n||e).length==s?r:t(e,i,n,i(r,e[o],o,e),++s)}))};function reduce(t,e){return function i(n,r,s){if(1==arguments.length)return _1(i,_,___,n,_);if(2==arguments.length&&_.is_fn(n))return _1(i,___,n,_.is_fn(r)?r:_(_.clone,r));if(arguments.length<4)var o=n,a=r,l=s;else o=arguments[arguments.length-3],a=Iter(arguments,!0),l=arguments[arguments.length-1];l=_.is_fn(l)?l.call(this,n):l,this!=_&&this!=G&&(a=_.bind(a,this));var c=likearr(o)?null:_keys(o);return(a._p_async?e:t)(o,a,c,l,arguments.length>2,0)}}_.reduce=reduce((function(t,e,i,n,r,s){if(i){if(n=r?n:t[i[s++]],!(o=i.length)||o==s)return n;if((n=e(n,t[i[s]],i[s++],t))&&(n.__mr?thenable_mr(n):n.then&&_.is_fn(n.then)))return _reduce_async(t,e,i,n,s);for(;s<o;)n=e(n,t[i[s]],i[s++],t)}else{var o;if(n=r?n:t[s++],!(o=t.length)||o==s)return n;if((n=e(n,t[s],s++,t))&&(n.__mr?thenable_mr(n):n.then&&_.is_fn(n.then)))return _reduce_async(t,e,null,n,s);for(;s<o;)n=e(n,t[s],s++,t)}return n}),(function(t,e,i,n,r,s){return _reduce_async(t,e,i,r?n:i?t[i[s++]]:t[s++],s)}));var _reduce_right_async=function t(e,i,n,r,s){return _.go(r,(function(r){var o=n?n[s]:s;return(n||e).length==s?r:t(e,i,n,i(r,e[o],o,e),++s)}))};function every_or_some(t){return collf((function(e,i,n,r,s,o,a){if(!o)return!1;if(t?r:!r)return t;for(;++s<o;)if(r=i(e[a=n?n[s]:s],a,e),t?r:!r)return t;return!t}),(function e(i,n,r,s,o,a,l){return a?_.go.async(s,(function(s){return o>-1&&(t?s:!s)?t:++o<a?e(i,n,r,n(i[l=r?r[o]:o],l,i),o,a,l):!t})):_.aidtt(!1)}))}function getLength(t){return null==t?void 0:t.length}function createIndexFinder(t,e,i){return function(n,r,s){var o=0,a=getLength(n);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return n[s=i(n,r)]===r?s:-1;if(r!=r)return(s=e(slice.call(n,o,a),_.isNaN))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===r)return s;return-1}}_.reduceRight=_.reduce_right=reduce((function(t,e,i,n,r){if(i){var s=i.length-1;if(n=r?n:t[i[s--]],!i.length||-1==s)return n;if((n=e(n,t[i[s]],i[s--],t))&&(n.__mr?thenable_mr(n):n.then&&_.is_fn(n.then)))return _reduce_async(t,e,i,n,s);for(;s>-1;)n=e(n,t[i[s]],i[s--],t)}else{s=t.length-1;if(n=r?n:t[s--],!t.length||-1==s)return n;if((n=e(n,t[s],s--,t))&&(n.__mr?thenable_mr(n):n.then&&_.is_fn(n.then)))return _reduce_async(t,e,null,n,s);for(;s>-1;)n=e(n,t[s],s--,t)}return n}),(function(t,e,i,n,r){var s=(i||t).length-1;return _reduce_right_async(t,e,i,r?n:i?t[i[s--]]:t[s--],s)})),_.break=function(){return arguments.__break=!0,arguments},_.loop=function t(e,i,n){if(1==arguments.length)return _1(t,_,___,e,_);if(2==arguments.length&&_.is_fn(e))return _1(t,___,e,_.is_fn(i)?i:_(_.clone,i));if(arguments.length<4)var r=e,s=i,o=n;else r=arguments[arguments.length-3],s=Iter(arguments,!0),o=arguments[arguments.length-1];o=_.is_fn(o)?o.call(this):o,this!=_&&this!=G&&(s=_.bind(s,this));var a=likearr(r)?null:_keys(r);return o=arguments.length>2?o:r[a?a[0]:0],_.go(_.find(r,(function(t,e,i){return _.go(s(o,t,e,i),(function(t){var e=t&&t.__break;return o=e?t[0]:t,e}))})),(function(){return o}))},_.find=collf((function(t,e,i,n,r,s,o){if(n)return t[o];for(;++r<s;)if(e(t[o=i?i[r]:r],o,t))return t[o]}),(function t(e,i,n,r,s,o,a){return o?_.go(r,(function(r){return r?e[a]:++s<o?t(e,i,n,i(e[a=n?n[s]:s],a,e),s,o,a):void 0})):_.aidtt()})),_.filter=collf((function(t,e,i,n,r,s,o){if(!s)return[];for(var a=n?[t[o]]:[];++r<s;)e(t[o=i?i[r]:r],o,t)&&a.push(t[o]);return a}),(function t(e,i,n,r,s,o,a,l){return o?_.go(r,(function(r){return l=l||[],r&&l.push(e[a]),++s<o?t(e,i,n,i(e[a=n?n[s]:s],a,e),s,o,a,l):l})):_.aidtt([])})),_.reject=collf((function(t,e,i,n,r,s,o){if(!s)return[];for(var a=n?[]:[t[o]];++r<s;)e(t[o=i?i[r]:r],o,t)||a.push(t[o]);return a}),(function t(e,i,n,r,s,o,a,l){return o?_.go(r,(function(r){return l=l||[],r||l.push(e[a]),++s<o?t(e,i,n,i(e[a=n?n[s]:s],a,e),s,o,a,l):l})):_.aidtt([])})),_.every=every_or_some(!1),_.some=every_or_some(!0),_.where=function(t,e){return 1==arguments.length?_.filter((function(e){return _.is_match(e,t)})):_.filter(t,(function(t){return _.is_match(t,e)}))},_.findWhere=_.find_where=function(t,e){return 1==arguments.length?_.find((function(e){return _.is_match(e,t)})):_.find(t,(function(t){return _.is_match(t,e)}))},_.contains=function(t,e,i){return likearr(t)||(t=_.values(t)),"number"!=typeof i&&(i=0),_.indexOf(t,e,i)>=0},_.invoke=function(t,e){var i=_.rest(arguments,2),n=_.is_fn(e);return _.map(t,(function(t){var r=n?e:t[e];return r&&r.apply(t,i)}))},_.pluck=function t(e,i){return 1==arguments.length?_1(t,_,e):_.map(e,_.val(i))},_.deep_pluck=_.deepPluck=function t(e,i){if(1==arguments.length)return _1(t,_,e);var n,r=(i=_.isString(i)?i.split(/\s*\.\s*/):[""]).length;return _.reduce(likearr(e)?e:[e],(function(e,s){for(var o=s,a=-1;++a<r&&_.isObject(o)&&!_.isArray(o);)o=o[i[a]];return e.concat(a>=r?_.isArray(o)?[o]:o:_.isArray(o)?t(o,n||(n=_.rest(i,a).join("."))):void 0)}),[])},_.max=collf((function(t,e,i,n,r,s,o){if(s){for(var a,l=t[o=i?i[++r]:++r],c=e(t[o],o,t);++r<s;)c<(a=e(t[o=i?i[r]:r],o,t))&&(l=t[o],c=a);return l}})),_.min=collf((function(t,e,i,n,r,s,o){if(s){for(var a,l=t[o=i?i[++r]:++r],c=e(t[o],o,t);++r<s;)c>(a=e(t[o=i?i[r]:r],o,t))&&(l=t[o],c=a);return l}})),_.sortBy=_.sort_by=collf((function(t,e){return _.pluck(_.map(t,(function(t,i,n){return{val:t,idx:i,criteria:e(t,i,n)}})).sort((function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.idx-e.idx})),"val")})),_.groupBy=_.group_by=collf((function(t,e,i,n,r,s,o){for(var a,l={};++r<s;)_.has(l,n=e(a=t[o=i?i[r]:r],o,t))?l[n].push(a):l[n]=[a];return l})),_.indexBy=_.index_by=collf((function(t,e,i,n,r,s,o){for(var a,l={};++r<s;)l[e(a=t[o=i?i[r]:r],o,t)]=a;return l})),_.countBy=_.count_by=collf((function(t,e,i,n,r,s,o){for(var a={};++r<s;)_.has(a,n=e(t[o=i?i[r]:r],o,t))?a[n]++:a[n]=1;return a})),_.shuffle=function(t){for(var e,i=likearr(t)?t:_.values(t),n=i.length,r=Array(n),s=0;s<n;s++)(e=_.random(0,s))!==s&&(r[s]=r[e]),r[e]=i[s];return r},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.sample=function(t,e){return 2==arguments.length&&e<1?[]:e?_.shuffle(t).slice(0,e):_.shuffle(t)[0]},_.partition=collf((function(t,e,i,n,r,s,o){for(var a=[],l=[];++r<s;)(e(t[o=i?i[r]:r],o,t)?a:l).push(t[o]);return[a,l]})),_.first=_.head=_.take=function t(e,i,n){return 1==arguments.length&&_.isNumber(e)?_1(t,_,e):null!=e?null==i||n?e[0]:_.initial(e,e.length-i):void 0},_.initial=function t(e,i,n){return 1==arguments.length&&_.isNumber(e)?_1(t,_,e):slice.call(e,0,Math.max(0,e.length-(null==i||n?1:i)))},_.last=function t(e,i,n){return 1==arguments.length&&_.isNumber(e)?_1(t,_,e):null!=e?null==i||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-i)):void 0},_.compact=_.filter(_.identity),_.without=function(t){return _.difference(t,slice.call(arguments,1))},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=getLength(t);n<r;n++){var s=t[n];if(!_.contains(e,s)){for(var o=1;o<i&&_.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},_.difference=function(t){var e=_.flatten(arguments,!0,1);return _.reject(t,(function(t){return _.contains(e,t)}))},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&getLength(_.max(t,getLength))||0,i=Array(e),n=0;n<e;n++)i[n]=_.pluck(t,n);return i},_.unique=_.uniq=collf((function(t,e,i,n,r,s,o){for(var a=[],l=[];++r<s;)-1==l.indexOf(n=e(t[o=i?i[r]:r],o,t))&&(l.push(n),a.push(t[o]));return a})),_.append=function(t,e){for(var i=1,n=arguments.length;i<n;i++)t[t.length++]=arguments[i];return t},_.sortedIndex=_.sorted_i=function t(e,i,n){if(_.is_fn(e))return _1(t,_,_,e);if(arguments.length>3)var r=arguments[arguments.length-3],s=arguments[arguments.length-2],o=_.apply(null,_.last(arguments,1).concat(_.initial(arguments,3)));else r=e,s=i,o=n||_.idtt;this!=_&&this!=G&&(o=_.bind(o,this));for(var a=o(s),l=0,c=getLength(r);l<c;){var h=Math.floor((l+c)/2);o(r[h])<a?l=h+1:c=h}return l},_.find_i=_.findIndex=collf((function(t,e,i,n,r,s){for(;++r<s;)if(e(t[r],r,t))return r;return-1})),_.findLastIndex=_.find_last_i=collf((function(t,e,i,n,r,s){for(;s--;)if(e(t[s],s,t))return s;return-1})),_.index_of=_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.last_index_of=_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r},_.mapObject=_.map_object=collf((function(t,e,i,n,r,s,o){for(var a={};++r<s;)a[o=i?i[r]:r]=e(t[o],o,t);return a})),_.pairs=function(t){for(var e=_keys(t),i=e.length,n=Array(i),r=-1;++r<i;)n[r]=[e[r],t[e[r]]];return n},_.functions=function(t){var e=[];for(var i in t)_.is_fn(t[i])&&e.push(i);return e.sort()},_.find_k=_.find_key=_.findKey=collf((function(t,e,i,n,r,s,o){for(;++r<s;)if(e(t[o=i?i[r]:r],o,t))return o})),_.pick=function t(e,i){if(1==arguments.length)return _1(t,___,e);if(2==arguments.length)var n=e,r=i;else n=arguments[arguments.length-2],r=Iter(arguments);if(!n)return{};this!=_&&this!=G&&_.is_fn(r)&&(r=_.bind(r,this));var s={};i=-1;if(_.is_fn(r))for(var o=(l=_keys(n)).length;++i<o;){var a=n[c=l[i]];r(a,c,n)&&(s[c]=a)}else{var l;for(o=(l=_.wrap_arr(r)).length;++i<o;){var c;(c=l[i])in n&&(s[c]=n[c])}}return s},_.omit=function t(e,i){if(1==arguments.length)return _1(t,___,e);if(2==arguments.length)var n=e,r=i;else n=arguments[arguments.length-2],r=Iter(arguments);if(!n)return{};this!=_&&this!=G&&_.is_fn(r)&&(r=_.bind(r,this));var s={};i=-1;if(_.is_fn(r))for(var o=(l=_keys(n)).length;++i<o;)r(n[l[i]],l[i],n)||(s[l[i]]=n[l[i]]);else{var a=_keys(n),l=_.wrap_arr(r);for(o=a.length;++i<o;)-1==l.indexOf(a[i])&&(s[a[i]]=n[a[i]])}return s};var s_matcher_reg1=/\{\{\{.*?\}\}\}/g,s_matcher_reg2=/\{\{.*?\}\}/g,insert_datas1=_.partial(s_exec,s_matcher_reg1,_.escape),insert_datas2=_.partial(s_exec,s_matcher_reg2,_.idtt),TAB,TAB_SIZE,REG1,REG2,REG3,REG4,REG5,REG6,REG7,REG8;function number_of_tab(t){var e=t.match(REG1)[0],i=(e.match(/\t/g)||[]).length;return e.replace(/\t/g,"").length/TAB_SIZE+i}function s(t,e){function i(){for(var t=arguments.length;t--;)arguments[t+1]=arguments[t];return arguments.length++,arguments[0]=i,_.go(mr(n,arguments,r),insert_datas1,insert_datas2,_.idtt)}var n=remove_comment(_.map(_.rest(arguments,2),(function(t){if(_.isString(t))return t;var e=_.uniqueId("f");return i[e]=t,"__PTFS__."+e})).join("")),r={matcher:{}};return r.matcher[s_matcher_reg1]=s_matcher(3,s_matcher_reg1,n,e),n=n.replace(s_matcher_reg1,"__PJT__"),r.matcher[s_matcher_reg2]=s_matcher(2,s_matcher_reg2,n,e),n=t(n.replace(s_matcher_reg2,"{{}}").replace(/__PJT__/g,"{{{}}}")),i}function s_matcher(t,e,i,n){return map(i.match(e),(function(e){return new Function("__PTFS__"+(n?", ":"")+n,"return "+e.substring(t,e.length-t)+";")}))}function remove_comment(t){return t.replace(/\/\*(.*?)\*\//g,"").replace(REG2,"")}function s_exec(t,e,i,n,r){var s=!1,o=_.map(r.matcher[t],(function(t){var i=_.go(t.apply(null,n),e,return_check);return thenable(i)&&(s=!0),i}));return _.go(mr(i.split(t),s&&_.isArray(o)?_.map(o,_.async(_.idtt)):o),(function(t,e){var i=0;return mr(map(e,(function(e){return t[i++]+e})).join("")+t[t.length-1],n,r)}))}function convert_to_html(t){var e=[],i=t.match(REG3),n=number_of_tab(i[0]),r=0;i[i.length-1]=i[i.length-1].replace(REG4[n]||(REG4[n]=new RegExp(TAB+"{"+n+"}$")),"");for(var s=0;s<i.length;s++){for(;number_of_tab(i[s])-n<e.length&&(r=0,0!=e.length);)i[s-1]+=end_tag(e.pop());var o=i[s];r?(i[s]=i[s].replace(REG6[r]||(REG6[r]=new RegExp("("+TAB+"{"+r+"})","g")),"\n"),i[s]!==(i[s]=i[s].replace(REG7,"\n"))&&(i=push_in(i,s+1,RegExp.$1))):(i[s]=line(i[s],e),o.match(REG5)&&(r=number_of_tab(RegExp.$1)+1))}for(;e.length;)i[i.length-1]+=end_tag(e.pop());return i.join("")}function line(t,e){return(t=t.replace(REG8,"\n").replace(/^[ \t]*/,"")).match(/^[\[.#\w\-]/)?t.replace(/^(\[.*\]|\{.*?\}|\S)+ ?/,(function(t){return start_tag(t,e)})):t}function push_in(t,e,i){var n=t.splice(e);return t.push(i),t.concat(n)}function start_tag(t,e,i,n,r){return i="","input"!=(n=(n=t.match(/^\w+/))&&"d"!=n?"sp"==n?"span":n:"div")&&"br"!=n&&e.push(n),t=t.replace(/\[(.*)\]/,(function(t,e){return(i+=" "+e)&&""})),(r=_.map(t.match(/\.(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),(function(t){return t.slice(1)})).join(" "))&&i==(i=i.replace(/class\s*=\s*((\").*?\"|(\{.*?\}|\S)+)/,(function(t,e,i){return' class="'+r+" "+(i?e.slice(1,-1):e)+'"'})))&&(i=' class="'+r+'"'+i),"<"+n+(i=[""].concat(_.map(t.match(/#(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),(function(t){return t.slice(1)}))).join(" id=")+i)+" >"}function end_tag(t){return"</"+t+">"}function return_check(t){return null==t||null==t?"":t}function _set(t,e,i){t&&(t[e]=_.is_fn(i)?i(t[e]):i)}function _unset(t,e){delete t[e]}function _remove(t,e){return _.removeByIndex(t,t.indexOf(e)),t}function _pop(t){return t.pop(),t}function _shift(t){return t.shift(),t}function _push(t,e){return t.push.apply(t,_.is_fn(e)?[e(t)]:_.rest(arguments)),t}function _unshift(t,e){return t.unshift.apply(t,_.is_fn(e)?[e(t)]:_.rest(arguments)),t}function Box(){}_.TAB_SIZE=function(t){TAB_SIZE=t;var e=(TAB="( {"+t+"}|\\t)")+"+";REG1=new RegExp("^"+e),REG2=new RegExp("//"+e+".*?(?=((//)?"+e+"))|//"+e+".*","g"),REG3=new RegExp(e+"\\S.*?(?="+e+"\\S)|"+e+"\\S.*","g"),REG4={},times2(20,(function(t){REG4[t]=new RegExp(TAB+"{"+t+"}$")})),REG5=new RegExp("^("+e+")(\\[.*?\\]|\\{.*?\\}|\\S)+\\.(?!\\S)"),REG6={},times2(20,(function(t){REG6[t]=new RegExp("("+TAB+"{"+t+"})","g")})),REG7=new RegExp("\\n("+e+"[\\s\\S]*)"),REG8=new RegExp("^"+e+"\\|")},_.TAB_SIZE(2),_.template=_.t=function(){return s.apply(null,[convert_to_html].concat(_.toArray(arguments)))},_.template$=_.t$=function(){return s.apply(null,[convert_to_html,"$"].concat(_.toArray(arguments)))},_.string=_.s=function(){return s.apply(null,[_.idtt].concat(_.toArray(arguments)))},_.string$=_.s$=function(){return s.apply(null,[_.idtt,"$"].concat(_.toArray(arguments)))},_.remove=_remove,_.remove_by_i=_.removeByIndex=function(t,e){if(-1!==e){var i=t.slice(e+1||t.length);t.length=e,t.push.apply(t,i)}return e},_.sel=_.select=function t(e,i){return 1==arguments.length?_1(t,_,e):i&&_.reduce(i.split(/\s*->\s*/),(function(t,e){if(t&&e)return e.match(/^\((.+)\)/)?_.find(t,_.lambda(RegExp.$1)):e.match(/\[(.*)\]/)?function(t,e){if(e.length>2||e.length<1||_.filter(e,(function(t){return isNaN(t)})).length)return _.Err("[] sel in [num] or [num ~ num]");var i=e[0],n=e[1];return n?slice.call(t,i<0?t.length+i:i,n<0?t.length+n:n+1):t[i<0?t.length+i:i]}(t,_.map(RegExp.$1.replace(/\s/g,"").split("~"),_.parseInt)):t[e]}),e)},_.extend(_,{set:function t(e,i,n){if(2==arguments.length)return _1(t,_,e,i);if(1==arguments.length)return _1(t,_,e);var r=i.split(/\s*->\s*/),s=r.length-1;return _set(1==r.length?e:_.sel(e,r.slice(0,s).join("->")),r[s],n),e},unset:function(t,e){var i=e.split(/\s*->\s*/),n=i.length-1;return _unset(1==i.length?t:_.sel(t,i.slice(0,n).join("->")),i[n]),t},remove2:function(t,e,i){if(i)_remove(_.sel(t,e),i);else{var n=e.split(/\s*->\s*/),r=n.length-1,s=1==n.length?t:_.sel(t,n.slice(0,r).join("->"));_remove(s,_.sel(s,n[r]))}return t},extend2:function(t,e){return _.extend.apply(null,[_.sel(t,e)].concat(_.rest(arguments,2))),t},defaults2:function(t,e){return _.defaults.apply(null,[_.sel(t,e)].concat(_.rest(arguments,2))),t},pop:function(t,e){return _pop(_.sel(t,e)),t},shift:function(t,e){return _shift(_.sel(t,e)),t},push:function(t,e){return _push.apply(null,[_.sel(t,e)].concat(_.rest(arguments,2))),t},unshift:function(t,e,i){return _unshift.apply(null,[_.sel(t,e)].concat(_.rest(arguments,2))),t}}),_.immutable=_.im=_.extend((function(t,e){var i=_.clone(t);return{start:i,selected:_.reduce(e.split(/\s*->\s*/),(function(t,e){return e.match(/^\((.+)\)/)?function(t,e){return t[t.indexOf(e)]=_.clone(e)}(t,_.find(t,_.lambda(RegExp.$1))):e.match(/\[(.*)\]/)?function(t,e){if(e.length>2||e.length<1||_.filter(e,_.pipe(_.identity,isNaN)).length)return _.Err("[] sel in [num] or [num ~ num]");var i=e[0],n=e[1];return n?function(t,e){return each(e,(function(e){t[t.indexOf(e)]=_.clone(e)}))}(t,slice.call(t,i<0?t.length+i:i,n<0?t.length+n:n+1)):t[i]=_.clone(t[i<0?t.length+i:i])}(t,map(RegExp.$1.replace(/\s/g,"").split("~"),parseInt)):t[e]=_.clone(t[e])}),i)}}),{set:function(t,e,i){var n=e.split(/\s*->\s*/),r=n.length-1,s=_.im(t,n.slice(0,1==n.length?void 0:r).join("->"));return _set(1==n.length?s.start:s.selected,n[r],i),s.start},unset:function(t,e){var i=e.split(/\s*->\s*/),n=i.length-1,r=_.im(t,i.slice(0,n).join("->"));return _unset(1==i.length?r.start:r.selected,i[n]),r.start},remove2:function(t,e,i){var n=_.im(t,e);if(i)_remove(n.selected,i);else{var r=e.split(/\s*->\s*/),s=r.length-1;_remove(1==r.length?n.start:_.sel(n.start,r.slice(0,s).join("->")),n.selected)}return n.start},extend:function(t){return _.extend.apply(null,[_.is_array(t)?[]:{},t].concat(_.toArray(arguments).slice(1,arguments.length)))},defaults:function(t){return _.defaults.apply(null,[_.is_array(t)?[]:{},t].concat(_.toArray(arguments).slice(1,arguments.length)))},extend2:function(t,e){var i=_.im(t,e);return _.extend.apply(null,[i.selected].concat(_.toArray(arguments).slice(2,arguments.length))),i.start},defaults2:function(t,e){var i=_.im(t,e);return _.defaults.apply(null,[i.selected].concat(_.toArray(arguments).slice(2,arguments.length))),i.start},pop:function(t,e){var i=_.im(t,e);return _pop(i.selected),i.start},shift:function(t,e){var i=_.im(t,e);return _shift(i.selected),i.start},push:function(t,e){var i=_.im(t,e);return _push.apply(null,[i.selected].concat(_.rest(arguments,2))),i.start},unshift:function(t,e){var i=_.im(t,e);return _unshift.apply(null,[i.selected].concat(_.rest(arguments,2))),i.start}}),_.box=function(t,e){var i,n=new Box,r=_.isString(t);if(r&&2==arguments.length)n[t]=e;else if(!r&&1==arguments.length)for(i in t)n[i]=t[i];var s=function(){return n};return _.extend(s,{stringify:function(){return JSON.stringify(n)},select:o,sel:o,set:function(t,e){return _.set(n,a(t),e)},unset:function(t){return _.unset(n,a(t))},remove2:function(t){return _.remove2(n,a(t))},extend:function(t){return _.extend(n,t)},defaults:function(t){return _.defaults(n,t)},extend2:function(t){return _.extend2.apply(null,[n,a(t)].concat(_.rest(arguments)))},defaults2:function(t){return _.defaults2.apply(null,[n,a(t)].concat(_.rest(arguments)))},pop:function(t){return _.pop(n,a(t))},push:function(t){return _.push.apply(null,[n,a(t)].concat(_.rest(arguments)))},shift:function(t){return _.shift(n,a(t))},unshift:function(t){return _.unshift.apply(null,[n,a(t)].concat(_.rest(arguments)))},im:{set:function(t,e){return _.im.set(n,a(t),e)},unset:function(t){return _.im.unset(n,a(t))},remove2:function(t){return _.im.remove2(n,a(t))},extend:function(){return _.im.extend.apply(null,[n].concat(_.toArray(arguments)))},defaults:function(){return _.im.defaults.apply(null,[n].concat(_.toArray(arguments)))},extend2:function(t){return _.im.extend2.apply(null,[n,a(t)].concat(_.rest(arguments)))},defaults2:function(t){return _.im.defaults2.apply(null,[n,a(t)].concat(_.rest(arguments)))},pop:function(t){return _.im.pop(n,a(t))},push:function(t){return _.im.push.apply(null,[n,a(t)].concat(_.rest(arguments)))},shift:function(t){return _.im.shift(n,a(t))},unshift:function(t){return _.im.unshift.apply(null,[n,a(t)].concat(_.rest(arguments)))}}});function o(t){if(t&&(!likearr(t)||t.length))return _.select(n,a(t))}function a(t){return _.isString(t)?function(t){return t.indexOf("./")<0?t:a(document.querySelector('[_sel="'+t+'"]'))}(t):function(t){try{var e=t.getAttribute("_sel").trim();return e.indexOf("./")<0?e:arguments.callee(t.parentElement.closest("[_sel]"))+"->"+e.replace("./","")}catch(e){var i=$.closest(t,"[_sel]");return i?arguments.callee(i):void 0}}(likearr(t)?t[0]:t)}},function(t,e){function i(t,i,n,r){var s=e[t];return n.is_once=!!r,s||(s=e[t]={}),(s[i]=s[i]||[]).push(n),n}function n(e,i,n){_set(i,n,t.reject(i[n],(function(t){return t.apply(null,e),t.is_once})))}t.noti=t.notice={on:i,once:t(i,t,t,t,!0),off:function(i,n){var r=e[i];1==arguments.length?_unset(e,i):r&&2==arguments.length&&each(t.isString(n)?[n]:n,t(_unset,r))},emit:function(i,r,s){!function(e,i){e&&(t.isString(i)?n(s,e,i):t.isArray(i)&&each(i,t(n,s,e)))}(e[i],t.is_fn(r)?r(t.keys(e[i])):r)},emitAll:function(t,i){var r,s=e[t];if(s)for(r in s)n(i,s,r)}}}(_,{});var L=window.L=_.L={},queues,reg;function Ladd(t,e,i,n,r){if(t&&t._p_lz)return t.is_strict&&n?t.data=i(t.data,n):e&&(t[t.length]=e),t;var s,o=t&&t.length;return r=r||"number"!=typeof o,e?r?(s=[]).data=i(t,n):(s=[e]).data=t:(s=[]).data=t,s._p_lz=!0,s.is_strict=r,s}function Lloop(t,e,i,n){var r,s,o,a=-1,l=t.data,c=l.length,h=t.length;t:for(;++a<c;){for(r=-1,o=l[a];++r<h;)if((s=t[r])._p_lzt_m)o=(s=s.fn)(o);else if(!s(o))continue t;if(n?i=e(i,o):(i=o,n=!0),i&&i.__break)return i[0]}return i}function Ltake1(t,e){return L.take(Ladd(t&&t._p_lz&&t.is_strict?t.data:t,e),1)}function $trim(t){return"string"==typeof t?t.trim():t}L.map=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:Ladd(e,{fn:i,_p_lzt_m:!0},map,i)},L.filter=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:Ladd(e,i,filter,i)},L.reject=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:Ladd(e,_.negate(i),_.reject,i)},L.take=function t(e,i){if(!e||!e._p_lz)return function(i){return t(i,e)};if(e.is_strict)return e.data.length>i&&(e.data.length=i||1),e.data;i=i||1;var n,r,s,o=[],a=-1,l=e.data,c=l.length,h=e.length;t:for(;++a<c;){for(n=-1,s=l[a];++n<h;)if((r=e[n])._p_lzt_m)s=(r=r.fn)(s);else if(!r(s))continue t;if(o[o.length]=s,o.length==i)return o}return o},L.loop=function t(e,i,n){return _.is_fn(e)?1==arguments.length?function(i){return t(i,e)}:function(n){return t(n,e,_.clone(i))}:Lloop(Ladd(e,null,null,null,!1),i,n,arguments.length>2)},L.find=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:Ltake1(e,i)[0]},L.some=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:!!Ltake1(e,i||_.idtt).length},L.every=function t(e,i){return _.is_fn(e)?function(i){return t(i,e)}:!Ltake1(e,i?_.negate(i):_.not).length},L.commit=L.take(1/0),L.strict=function t(e,i){return 1==arguments.length?function(i){return t(i,e)}:Ladd(e,null,null,null,_.isNumber(i)?e.length<i:i(e))},_.to_n=function(t){return t?t.replace(/<br>/g,"\n"):t},_.to_br=function(t){return t?t.replace(/\n/g,"<br>"):t},_.row_length_n=function(t){if(!t)return 1;var e=t.match(/\n/g);return e?e.length+1:1},_.row_length_br=function(t){if(!t)return 1;var e=t.match(/<br>/g);return e?e.length+1:1},_.how_many=function t(e,i){if(!i)return _(t,_,e);var n=-1;return _.reduce(e,(function(t,e,r){return r%i==0?(t[++n]=[],t[n].push(e)):t[n].push(e),t}),[])},_.underscored=function(t){return t.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},_.pause=function(t){return _.tap((function(){return new Promise((function(e){setTimeout((function(){e()}),t)}))}))},_.retry=function(t,e,i,n,r,s){var o=s?n:n+(r||0);return _.if2(t)(e).else(_(i,!0),_.pause(o),(function(){return _.retry(t,e,i,n,r,!0)}))()},_.fn_execute=function(t,e){return function(){return _.is_function(t)?t.apply(this,arguments):_.is_function(e)?e.apply(this,arguments):void 0}},queues={},_.async_queue=function(t,e,i){return __((function(){queues[i]=queues[i]||[];var n=_.go(_.to_mr(arguments),t);return queues[i].push({async:n,fn2:e}),n}),(function(){var t=queues[i].shift();if(!queues[i].length)return _.go(t.async,t.fn2)}))},_.$=function(t){return function(){return $(t)}},_.$1=function(t){return function(){return $1(t)}},_.$confirm=function(t){return function(){return $.confirm(t)}},_.$alert=function(t){return function(){return $.alert(t)}},_.location={},_.location.href=function(t){var e=_.s$(t);return function(t){location.href=e(t)}},_.redirect=function(t,e){return arguments.length?function(i){if(!i)return(e||_(_.loge,"result: "+i))();window.location.href=/\?$/.test(t)?_.reduce(i,(function(t,e,i){return e?t+="&"+i+"="+e:t}),t):_.s$(t)(i)}:_.if2(_.idtt)((function(){location.reload()}))},_.location.replace=function(t,e){return arguments.length?function(i){if(!i)return(e||_(_.loge,"result: "+i))();window.location.replace(/\?$/.test(t)?_.reduce(i,(function(t,e,i){return e?t+="&"+i+"="+e:t}),t):_.s$(t)(i))}:_.if2(_.idtt)((function(){location.reload()}))},_.confirm=function(t,e,i){var n=_.if2((function(){return confirm(t)}))(e);return i?n.else(i):n},_.test=function(){var t=_.constant([]),e=_.constant([]),i=_.constant([t(),e()]);return _.go.async([_.constant("------------Start------------"),_.log,_.constant(arguments),_(_.map,_,(function(t,n){return _.if2(_.idtt)(__.async(e,_.m("push",n+" ----\x3e success"))).else(__.async(i,_(_.map,_,__.async(_.identity,_.m("push",n+" ----\x3e fail")))))(t())})),_.constant("------------Fail-------------"),_.log,t,_(_.each,_,__.async(_.identity,_.error)),_.constant("------------All--------------"),_.log,e,_(_.each,_,__.async(_.identity,_.log)),_.constant("------------End--------------"),_.log])},reg=/(^[+-]?\d+)(\d{3})/,_.commify=G.$commify=function(t,e,i){if(e&&(t=_.float_sum(t,e,i)),!t)return"0";var n=(t+="").split(".");for(t=n[0],e=n[1];reg.test(t);)t=t.replace(reg,"$1,$2");return e?[t,e.substr(0,2)].join("."):t},_.float_sum=function(t,e,i){return(parseFloat(t)+parseFloat(e)).toFixed(i||2)},_.dashify=G.$dashify=function(t){return t?t.replace(/(\d{3})(\d+)(\d{4})/,"$1-$2-$3"):""},_.if_truthy=_.if2(_.idtt),_.if_null=_.if2(_.isNull),_.if_empty=_.if2((function(t){return _.is_array(t)?0===t.length:_.idtt})),G=window.G||{},G.$cid=function(t){return 2==arguments.length?t[arguments[1]+"_id"]?_.isString(t[arguments[1]+"_id"])?"(#`"+t[arguments[1]+"_id"]+"`)":"(#"+t[arguments[1]+"_id"]+")":_.isString(t[arguments[1]+"_cid"])?"($.cid==`"+t[arguments[1]+"_cid"]+"`)":"($.cid=="+t[arguments[1]+"_cid"]+")":t.id?"(#"+t.id+")":_.isString(t.cid=t.cid||_.unique_id("c"))?"($.cid==`"+t.cid+"`)":"($.cid=="+t.cid+")"},G.thumbnail=G.thumb=function(t,e){return t&&e?t.replace(/\/(original|150|500|600)\//,"/"+e+"/"):t},G.remove_protocol2=function(t){if(!t)return t;var e=(t=t.replace(/(https:|http:)/,"")).split("marpple.com");return t=(t=2==e.length?"//s3.marpple.co"+e[1]:t).replace(/\?canvas=v1/g,"").replace(/\?canvas=v2/g,"").replace(/\?canvas=v3/g,"")},G.remove_protocol=function(t){return function(){var e=t.apply(null,arguments);if(!e)return e;var i=(e=e.replace(/(https:|http:)/,"")).split("marpple.com");return e=(e=2==i.length?"//s3.marpple.co"+i[1]:e).replace(/\?canvas=v1/g,"").replace(/\?canvas=v2/g,"").replace(/\?canvas=v3/g,"")}},G.is_email=function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},G.to_150=G.remove_protocol((function(t){return t?-1!=t.indexOf(".gif")||-1!=t.indexOf(".svg")?t:-1!=t.indexOf("/original/")?t.replace("/original/","/150/"):-1!=t.indexOf("/150/")?t.replace("/150/","/150/"):-1!=t.indexOf("/350/")?t.replace("/350/","/150/"):-1!=t.indexOf("/600/")?t.replace("/600/","/150/"):-1!=t.indexOf("/900/")?t.replace("/900/","/150/"):(t=(t=(t=t.replace("_150x0","")).replace("_350x0","")).replace("_600x0","")).replace(/(.[^/.]+$)$/,"_150x0$1"):""})),G.to_350=G.remove_protocol((function(t){return t?-1!=t.indexOf(".gif")?t:-1!=t.indexOf("/original/")?t.replace("/original/","/350/"):-1!=t.indexOf("/150/")?t.replace("/150/","/350/"):-1!=t.indexOf("/350/")?t.replace("/350/","/350/"):-1!=t.indexOf("/600/")?t.replace("/600/","/350/"):-1!=t.indexOf("/900/")?t.replace("/900/","/350/"):(t=(t=(t=t.replace("_150x0","")).replace("_350x0","")).replace("_600x0","")).replace(/(.[^/.]+$)$/,"_350x0$1"):""})),G.to_600=G.remove_protocol((function(t){return t?-1!=t.indexOf(".gif")?t:-1!=t.indexOf("/original/")?t.replace("/original/","/600/"):-1!=t.indexOf("/150/")?t.replace("/150/","/600/"):-1!=t.indexOf("/350/")?t.replace("/350/","/600/"):-1!=t.indexOf("/600/")?t.replace("/600/","/600/"):-1!=t.indexOf("/900/")?t.replace("/900/","/600/"):(t=(t=(t=t.replace("_150x0","")).replace("_350x0","")).replace("_600x0","")).replace(/(.[^/.]+$)$/,"_600x0$1"):""})),G.to_900=G.remove_protocol((function(t,e){return t?-1!=t.indexOf(".gif")?t:-1!=t.indexOf("/original/")?t.replace("/original/","/900/"):-1!=t.indexOf("/150/")?t.replace("/150/","/900/"):-1!=t.indexOf("/350/")?t.replace("/350/","/900/"):-1!=t.indexOf("/600/")?t.replace("/600/","/900/"):-1!=t.indexOf("/900/")?t.replace("/900/","/900/"):t=(t=(t=t.replace("_150x0","")).replace("_350x0","")).replace("_600x0",""):""})),G.to_original=G.remove_protocol((function(t){return t?-1!=t.indexOf("base64")?t:-1!=t.indexOf("/original/")?t.replace("/original/","/original/"):-1!=t.indexOf("/150/")?t.replace("/150/","/original/"):-1!=t.indexOf("/350/")?t.replace("/350/","/original/"):-1!=t.indexOf("/600/")?t.replace("/600/","/original/"):-1!=t.indexOf("/900/")?t.replace("/900/","/original/"):t=(t=(t=t.replace("_150x0","")).replace("_350x0","")).replace("_600x0",""):""})),G.date_yy_mm_dd=function(t){return t?moment(t).format("YY-MM-DD"):"-"},G.$und=function(t){return void 0===t?"undefined":t},G.to_lower=function(t){return _.isString(t)?t.toLowerCase():t},G.isFloat=function(t){return Number(t)===t&&t%1!=0},G.$location=function(t){var e=document.location;return _.extend(e,{params:function(){if(!t)return{};var i=t.split("/"),n=e.pathname.split("/"),r={};return _.each(i,(function(t,e){":"===t[0]&&(r[t.substr(1)]=n[e])})),r}(),query:e.search?e.search.replace(/(^\?)/,"").split("&").map(function(t){return this[(t=t.split("="))[0]]=t[1],this}.bind({}))[0]:{}})},G.$replace_to_p=function(t,e){return _.go(t.split(/\n/),_.sum(_.t$("      {{_.go($, ",_.if2(_.idtt)(e?_.t$("        h1 {{$}}      "):_.t$("        p {{$}}      ")).else(_.t$("        br      ")),")}}      ")))},G.comment=function(t,e){return t&&_.val(t,"length")&&_.isString(t)?(!(t=$trim(t)).match(/<(.|\n)*?>/g)&&t.length>e?linkifyStr(t.substring(0,e))+"...":linkifyStr(t)).replace(/\n/g,"<br>"):""},G.is_front_end=function(){return"undefined"!=typeof Window},"function"==typeof define&&define.amd?define("partial",[],(function(){return _})):"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=_:window._=_,window._p=_,window.__=__,window.___=___}("object"==typeof global&&global.global==global&&(global.G=global)||(window.G=window)),function(t){t._identity=t._idtt=function(t){return t},t._noop=function(){};var e=t._keys=function(t){return t?Object.keys(t):[]};t._mr=function(){return arguments.__mr=!0,arguments};var i=t._pipe=function(){var t=arguments,e=t.length;return function(i){for(var n=-1;++n<e;)i=i&&i.__mr?t[n].apply(null,i):t[n](i);return i}};t._go=function(){for(var t=0,e=arguments,i=e.length,n=arguments[0];++t<i;)n=n&&n.__mr?e[t].apply(null,n):e[t](n);return n},t._tap=function(){var t=i.apply(null,arguments);return function(){var e=arguments;return t(e=e.length>1?e.__mr=e:e[0]),e}},t._each=function t(i,n){if(!n)return function(e){return t(e,i)};var r=-1,s=i&&i.length,o="number"==typeof s?null:e(i);if(o&&(s=o.length))for(;++r<s;)n(i[o[r]]);else for(;++r<s;)n(i[r]);return i},t._map=function t(i,n){if(!n)return function(e){return t(e,i)};var r=-1,s=i&&i.length,o="number"==typeof s?null:e(i),a=[];if(o&&(s=o.length))for(;++r<s;)a[r]=n(i[o[r]]);else for(;++r<s;)a[r]=n(i[r]);return a},t._flatmap=t._mapcat=function t(i,n){if(!n)return function(e){return t(e,i)};var r,s=-1,o=i&&i.length,a="number"==typeof o?null:e(i),l=[];if(a&&(o=a.length))for(;++s<o;)Array.isArray(r=n(i[a[s]]))?l.push.apply(l,r):l.push(r);else for(;++s<o;)Array.isArray(r=n(i[s]))?l.push.apply(l,r):l.push(r);return l},t._filter=function t(i,n){if(!n)return function(e){return t(e,i)};var r=-1,s=i&&i.length,o="number"==typeof s?null:e(i),a=[];if(o&&(s=o.length))for(;++r<s;)n(i[o[r]])&&a.push(i[o[r]]);else for(;++r<s;)n(i[r])&&a.push(i[r]);return a},t._reject=function t(i,n){if(!n)return function(e){return t(e,i)};var r=-1,s=i&&i.length,o="number"==typeof s?null:e(i),a=[];if(o&&(s=o.length))for(;++r<s;)n(i[o[r]])||a.push(i[o[r]]);else for(;++r<s;)n(i[r])||a.push(i[r]);return a},t._reduce=function t(i,n,r){if("function"==typeof i)return function(e){return t(e,i,n)};var s=-1,o=i&&i.length,a="number"==typeof o?null:e(i),c=void 0===r?i[a?a[++s]:++s]:l(r);if(a&&(o=a.length))for(;++s<o;)c=n(c,i[a[s]]);else for(;++s<o;)c=n(c,i[s]);return c},t._find=function t(i,n){if(!n)return function(e){return t(e,i)};var r=-1,s=i&&i.length,o="number"==typeof s?null:e(i);if(o&&(s=o.length)){for(;++r<s;)if(n(i[o[r]]))return i[o[r]]}else for(;++r<s;)if(n(i[r]))return i[r]},t._findval=function t(i,n){if(!n)return function(e){return t(e,i)};var r,s=-1,o=i&&i.length,a="number"==typeof o?null:e(i);if(a&&(o=a.length)){for(;++s<o;)if(r="undefined"!==n(i[a[s]]))return r}else for(;++s<o;)if(r=n(i[s]))return r},t._sum=function i(n,r){if(!r){if("function"==typeof n)return function(t){return i(t,n)};r=t._idtt}var s=0,o=n&&n.length,a="number"==typeof o?null:e(n);if(a&&(o=a.length),0!=o){if(a)for(var l=r(n[a[0]]);++s<o;)l+=r(n[a[s]]);else for(l=r(n[0]);++s<o;)l+=r(n[s]);return l}};var n=t._has=function(t,e){return null!=t&&Object.hasOwnProperty.call(t,e)};function r(t,e){for(var i=1,n=e.length,r=e[0];i<n;i++)r&&e[i]&&t(r,e[i]);return r&&delete r._memoize,r}function s(t,e){for(var i in e)t[i]=e[i]}function o(t,e){for(var i in e)n(t,i)||(t[i]=e[i])}var a=t._extend=function(){return r(s,arguments)};t._defaults=function(){return r(o,arguments)};var l=t._clone=function(t){return t&&"object"==typeof t?Array.isArray(t)?t.slice():a({},t):t};t._curryr=function(t){return function(e,i){return 2==arguments.length?t(e,i):function(i){return t(i,e)}}},t._lt=t._curryr((function(t,e){return t<e})),t._lte=t._curryr((function(t,e){return t<=e})),t._gt=t._curryr((function(t,e){return t>e})),t._gte=t._curryr((function(t,e){return t>=e})),t._add=t._curryr((function(t,e){return t+e})),t._sub=t._curryr((function(t,e){return t-e}))}("object"==typeof global?global:window),function(t){var e=t.util=t.util||{};e.validation=e.validation||{},e.validation.is_mobile=function(t){return/[01](0|1|6|7|8|9)[-_.]?(\d{4}|\d{3})[-_.]?\d{4}$/g.test(t)},e.validation.is_valid_email=function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},e.validation.is_input_empty=function(t){return""==t.replace(/^(\s*)|(\s*$)/gi,"")},e.validation.is_input_password=function(t){return!!/[0-9]{1,}/g.test(t)&&(!0,!!/[a-zA-Z]{1,}/g.test(t)&&(!0,!!/^[\w]{4,16}$/g.test(t)&&!0))},e.validation.is_input_character=function(t){return/^[0-9a-zA-Z가-힣]+$/gi.test(t)},e.validation.is_input_email=function(t){return/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*[@][0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[.][a-zA-Z]{2,3}$/gi.test(t)},e.validation.is_input_number=function(t){return/^\d+$/g.test(t)},e.validation.pw_validation_chk=function(t){return!!/^.*(?=^.{4,16}$)(?=.*\d)(?=.*[a-zA-Z]).*$/.test(t)},e.validation.is_input_date=function(t,e,i){var n=(new Date).getFullYear(),r=28,s=parseInt(t,10),o=parseInt(e,10),a=parseInt(i,10);return(s%4==0&&s%100!=0||s%400==0)&&(r=29),s>1900&&s<=n&&(o>0&&o<=12&&([1,3,5,7,8,10,12].indexOf(o)>=0&&0<a&&a<=31||([4,6,9,11].indexOf(o)>=0&&0<a&&a<=30||"2"==o&&0<a&&a<=r)))},e.nl_to_br=function(t){return t&&t.replace&&t.replace(/(\n|\r\n)/g,"<br>")},e.to_inch_str=function(t){var e=(t/2.54).toFixed(1);return".0"==e.substr(e.length-2,e.length-1)?e.substr(0,e.length-2):e},e.only_number=function(t){return t.replace(/[^0-9]/g,"")},e.check_phone_number=function(t){return/^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})-?[0-9]{3,4}-?[0-9]{4}$/.test(t)},e.isValidRegistrationCodeKr=function(t){return/^\d{6}-\d{7}$/.test(t)},e.isValidBusinessRegistrationNumber=function(t){return/^\d{3}-\d{2}-\d{5}$/.test(t)}}("undefined"==typeof window?global:window),function(t){"use strict";var e=-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("NAVER");if(!t.fetch||e){var i="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(t){return t&&DataView.prototype.isPrototypeOf(t)},c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};g.prototype.append=function(t,e){t=f(t),e=d(e);var i=this.map[t];this.map[t]=i?i+","+e:e},g.prototype.delete=function(t){delete this.map[f(t)]},g.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},g.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},g.prototype.set=function(t,e){this.map[f(t)]=d(e)},g.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},g.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),p(t)},g.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},g.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),p(t)},n&&(g.prototype[Symbol.iterator]=g.prototype.entries);var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var u=[301,302,303,307,308];S.redirect=function(t,e){if(-1===u.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},t.Headers=g,t.Request=x,t.Response=S,t.fetch=function(t,e){return new Promise((function(i,n){var s=new x(t,e),o=new XMLHttpRequest;o.onload=function(){var t,e,n={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new g,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}})),e)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;i(new S(r,n))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&r&&(o.responseType="blob"),s.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),o.send(void 0===s._bodyInit?null:s._bodyInit)}))},t.fetch.polyfill=!0}function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function g(t){this.map={},t instanceof g?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function y(t){var e=new FileReader,i=v(e);return e.readAsArrayBuffer(t),i}function _(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(r&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(s&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(i&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&r&&l(t))this._bodyArrayBuffer=_(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!c(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=_(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,i,n=m(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=v(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function x(t,e){var i,n,r=(e=e||{}).body;if(t instanceof x){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new g(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new g(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),h.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}})),e}function S(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new g(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this),
/*!
 * headroom.js v0.9.4 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,(function(){"use strict";var t={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};function e(t){this.callback=t,this.ticking=!1}function i(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t,e){var r;e=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var n,r,s=e||{};for(r=1;r<arguments.length;r++){var o=arguments[r]||{};for(n in o)"object"!=typeof s[n]||i(s[n])?s[n]=s[n]||o[n]:s[n]=t(s[n],o[n])}return s}(e,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(r=e.tolerance)===Object(r)?r:{down:r,up:r},this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return this.debouncer=new e(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){if(!this.stop){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==t&&t.rAF&&t.bind&&t.classList,n})),
/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";var i=[],n=t.document,r=Object.getPrototypeOf,s=i.slice,o=i.concat,a=i.push,l=i.indexOf,c={},h=c.toString,u=c.hasOwnProperty,f=u.toString,d=f.call(Object),p={};function g(t,e){var i=(e=e||n).createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}var m=function(t,e){return new m.fn.init(t,e)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,_=/-([a-z])/g,b=function(t,e){return e.toUpperCase()};function x(t){var e=!!t&&"length"in t&&t.length,i=m.type(t);return"function"!==i&&!m.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}m.fn=m.prototype={jquery:"3.1.1",constructor:m,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=m.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return m.each(this,t)},map:function(t){return this.pushStack(m.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},m.extend=m.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||m.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],o!==(n=t[e])&&(c&&n&&(m.isPlainObject(n)||(r=m.isArray(n)))?(r?(r=!1,s=i&&m.isArray(i)?i:[]):s=i&&m.isPlainObject(i)?i:{},o[e]=m.extend(c,s,n)):void 0!==n&&(o[e]=n));return o},m.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=m.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==h.call(t))&&(!(e=r(t))||"function"==typeof(i=u.call(e,"constructor")&&e.constructor)&&f.call(i)===d)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[h.call(t)]||"object":typeof t},globalEval:function(t){g(t)},camelCase:function(t){return t.replace(y,"ms-").replace(_,b)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(x(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(v,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(x(Object(t))?m.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,a=[];if(x(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return o.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),m.isFunction(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||m.guid++,r},now:Date.now,support:p}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=i[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){c["[object "+e+"]"]=e.toLowerCase()}));var w=
/*!
     * Sizzle CSS Selector Engine v2.3.3
     * https://sizzlejs.com/
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2016-08-08
     */
function(t){var e,i,n,r,s,o,a,l,c,h,u,f,d,p,g,m,v,y,_,b="sizzle"+1*new Date,x=t.document,w=0,S=0,T=ot(),C=ot(),k=ot(),E=function(t,e){return t===e&&(u=!0),0},O={}.hasOwnProperty,P=[],D=P.pop,M=P.push,A=P.push,j=P.slice,L=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",Y="\\["+z+"*("+R+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+z+"*\\]",N=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",B=new RegExp(z+"+","g"),F=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),H=new RegExp("^"+z+"*,"+z+"*"),X=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),W=new RegExp("="+z+"*([^\\]'\"]*?)"+z+"*\\]","g"),$=new RegExp(N),G=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){f()},rt=yt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{A.apply(P=j.call(x.childNodes),x.childNodes),P[x.childNodes.length].nodeType}catch(t){A={apply:P.length?function(t,e){M.apply(t,j.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,r){var s,a,c,h,u,p,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!r&&((e?e.ownerDocument||e:x)!==d&&f(e),e=e||d,g)){if(11!==w&&(u=Z.exec(t)))if(s=u[1]){if(9===w){if(!(c=e.getElementById(s)))return n;if(c.id===s)return n.push(c),n}else if(y&&(c=y.getElementById(s))&&_(e,c)&&c.id===s)return n.push(c),n}else{if(u[2])return A.apply(n,e.getElementsByTagName(t)),n;if((s=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return A.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!k[t+" "]&&(!m||!m.test(t))){if(1!==w)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((h=e.getAttribute("id"))?h=h.replace(et,it):e.setAttribute("id",h=b),a=(p=o(t)).length;a--;)p[a]="#"+h+" "+vt(p[a]);v=p.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(v)try{return A.apply(n,y.querySelectorAll(v)),n}catch(t){}finally{h===b&&e.removeAttribute("id")}}}return l(t.replace(F,"$1"),e,n,r)}function ot(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function at(t){return t[b]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at((function(e){return e=+e,at((function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},s=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:x;return o!==d&&9===o.nodeType&&o.documentElement?(p=(d=o).documentElement,g=!s(d),x!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),i.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=lt((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(d.getElementsByClassName),i.getById=lt((function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=K.test(d.querySelectorAll))&&(lt((function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+I+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(i.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",N)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(p.compareDocumentPosition),_=e||K.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===d||t.ownerDocument===x&&_(x,t)?-1:e===d||e.ownerDocument===x&&_(x,e)?1:h?L(h,t)-L(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t===d?-1:e===d?1:r?-1:s?1:h?L(h,t)-L(h,e):0;if(r===s)return ht(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ht(o[n],a[n]):o[n]===x?-1:a[n]===x?1:0},d):d},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(W,"='$1']"),i.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return st(e,d,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var r=n.attrHandle[e.toLowerCase()],s=r&&O.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==s?s:i.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},st.escape=function(t){return(t+"").replace(et,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,s=0;if(u=!i.detectDuplicates,h=!i.sortStable&&t.slice(0),t.sort(E),u){for(;e=t[s++];)e===t[s]&&(r=n.push(s));for(;r--;)t.splice(n[r],1)}return h=null,t},r=st.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=st.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&$.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&T(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=st.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(B," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,f,d,p,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(s){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(_=(d=(c=(h=(u=(f=m)[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(_=d=0)||p.pop();)if(1===f.nodeType&&++_&&f===e){h[t]=[w,d,_];break}}else if(y&&(_=d=(c=(h=(u=(f=e)[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===_)for(;(f=++d&&f&&f[g]||(_=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(y&&((h=(u=f[b]||(f[b]={}))[f.uniqueID]||(u[f.uniqueID]={}))[t]=[w,_]),f!==e)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at((function(t,i){for(var n,s=r(t,e),o=s.length;o--;)t[n=L(t,s[o])]=!(i[n]=s[o])})):function(t){return r(t,0,i)}):r}},pseudos:{not:at((function(t){var e=[],i=[],n=a(t.replace(F,"$1"));return n[b]?at((function(t,e,i,r){for(var s,o=n(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,r,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}})),has:at((function(t){return function(e){return st(t,e).length>0}})),contains:at((function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:at((function(t){return G.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return U.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt((function(){return[0]})),last:pt((function(t,e){return[e-1]})),eq:pt((function(t,e,i){return[i<0?i+e:i]})),even:pt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:pt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:pt((function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t})),gt:pt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function mt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=S++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var c,h,u,f=[w,a];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(h=(u=e[b]||(e[b]={}))[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=h[s])&&c[0]===w&&c[1]===a)return f[2]=c[2];if(h[s]=f,f[2]=t(e,i,l))return!0}return!1}}function _t(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function bt(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),c&&e.push(a)));return o}function xt(t,e,i,n,r,s){return n&&!n[b]&&(n=xt(n)),r&&!r[b]&&(r=xt(r,s)),at((function(s,o,a,l){var c,h,u,f=[],d=[],p=o.length,g=s||function(t,e,i){for(var n=0,r=e.length;n<r;n++)st(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!s&&e?g:bt(g,f,t,a,l),v=i?r||(s?t:p||n)?[]:o:m;if(i&&i(m,v,a,l),n)for(c=bt(v,d),n(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[d[h]]=!(m[d[h]]=u));if(s){if(r||t){if(r){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);r(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=r?L(s,u):f[h])>-1&&(s[c]=!(o[c]=u))}}else v=bt(v===o?v.splice(p,v.length):v),r?r(null,o,v,l):A.apply(o,v)}))}function wt(t){for(var e,i,r,s=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],l=o?1:0,h=yt((function(t){return t===e}),a,!0),u=yt((function(t){return L(e,t)>-1}),a,!0),f=[function(t,i,n){var r=!o&&(n||i!==c)||((e=i).nodeType?h(t,i,n):u(t,i,n));return e=null,r}];l<s;l++)if(i=n.relative[t[l].type])f=[yt(_t(f),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<s&&!n.relative[t[r].type];r++);return xt(l>1&&_t(f),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(F,"$1"),i,l<r&&wt(t.slice(l,r)),r<s&&wt(t=t.slice(r)),r<s&&vt(t))}f.push(i)}return _t(f)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,o=st.tokenize=function(t,e){var i,r,s,o,a,l,c,h=C[t+" "];if(h)return e?0:h.slice(0);for(a=t,l=[],c=n.preFilter;a;){for(o in i&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=X.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(F," ")}),a=a.slice(i.length)),n.filter)!(r=V[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?st.error(t):C(t,l).slice(0)},a=st.compile=function(t,e){var i,r=[],s=[],a=k[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=wt(e[i]))[b]?r.push(a):s.push(a);(a=k(t,function(t,e){var i=e.length>0,r=t.length>0,s=function(s,o,a,l,h){var u,p,m,v=0,y="0",_=s&&[],b=[],x=c,S=s||r&&n.find.TAG("*",h),T=w+=null==x?1:Math.random()||.1,C=S.length;for(h&&(c=o===d||o||h);y!==C&&null!=(u=S[y]);y++){if(r&&u){for(p=0,o||u.ownerDocument===d||(f(u),a=!g);m=t[p++];)if(m(u,o||d,a)){l.push(u);break}h&&(w=T)}i&&((u=!m&&u)&&v--,s&&_.push(u))}if(v+=y,i&&y!==v){for(p=0;m=e[p++];)m(_,b,o,a);if(s){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=D.call(l));b=bt(b)}A.apply(l,b),h&&!s&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return h&&(w=T,c=x),_};return i?at(s):s}(s,r))).selector=t}return a},l=st.select=function(t,e,i,r){var s,l,c,h,u,f="function"==typeof t&&t,d=!r&&o(t=f.selector||t);if(i=i||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(Q,tt),e)||[])[0]))return i;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=V.needsContext.test(t)?0:l.length;s--&&(c=l[s],!n.relative[h=c.type]);)if((u=n.find[h])&&(r=u(c.matches[0].replace(Q,tt),J.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(s,1),!(t=r.length&&vt(l)))return A.apply(i,r),i;break}}return(f||a(t,d))(r,e,!g,i,!e||J.test(t)&&gt(e.parentNode)||e),i},i.sortStable=b.split("").sort(E).join("")===b,i.detectDuplicates=!!u,f(),i.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ct("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ct("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ct(I,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(t);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains,m.escapeSelector=w.escape;var S=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&m(t).is(i))break;n.push(t)}return n},T=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},C=m.expr.match.needsContext,k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,E=/^.[^:#\[\.,]*$/;function O(t,e,i){return m.isFunction(e)?m.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?m.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?m.grep(t,(function(t){return l.call(e,t)>-1!==i})):E.test(e)?m.filter(e,t,i):(e=m.filter(e,t),m.grep(t,(function(t){return l.call(e,t)>-1!==i&&1===t.nodeType})))}m.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?m.find.matchesSelector(n,t)?[n]:[]:m.find.matches(t,m.grep(e,(function(t){return 1===t.nodeType})))},m.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(m(t).filter((function(){for(e=0;e<n;e++)if(m.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)m.find(t,r[e],i);return n>1?m.uniqueSort(i):i},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&C.test(t)?m(t):t||[],!1).length}});var P,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(m.fn.init=function(t,e,i){var r,s;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof m?e[0]:e,m.merge(this,m.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:n,!0)),k.test(r[1])&&m.isPlainObject(e))for(r in e)m.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(s=n.getElementById(r[2]))&&(this[0]=s,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m.isFunction(t)?void 0!==i.ready?i.ready(t):t(m):m.makeArray(t,this)}).prototype=m.fn,P=m(n);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}m.fn.extend({has:function(t){var e=m(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(m.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&m(t);if(!C.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&m.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?m.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?l.call(m(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),m.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,i){return S(t,"parentNode",i)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,i){return S(t,"nextSibling",i)},prevUntil:function(t,e,i){return S(t,"previousSibling",i)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return t.contentDocument||m.merge([],t.childNodes)}},(function(t,e){m.fn[t]=function(i,n){var r=m.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=m.filter(n,r)),this.length>1&&(A[t]||m.uniqueSort(r),M.test(t)&&r.reverse()),this.pushStack(r)}}));var L=/[^\x20\t\r\n\f]+/g;function I(t){return t}function z(t){throw t}function R(t,e,i){var n;try{t&&m.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&m.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}m.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return m.each(t.match(L)||[],(function(t,i){e[i]=!0})),e}(t):m.extend({},t);var e,i,n,r,s=[],o=[],a=-1,l=function(){for(r=t.once,n=e=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(a=s.length-1,o.push(i)),function e(i){m.each(i,(function(i,n){m.isFunction(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==m.type(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return m.each(arguments,(function(t,e){for(var i;(i=m.inArray(e,s,i))>-1;)s.splice(i,1),i<=a&&a--})),this},has:function(t){return t?m.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},m.extend({Deferred:function(e){var i=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return m.Deferred((function(e){m.each(i,(function(i,n){var r=m.isFunction(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&m.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,r){var s=0;function o(e,i,n,r){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,m.isFunction(c)?r?c.call(t,o(s,i,I,r),o(s,i,z,r)):(s++,c.call(t,o(s,i,I,r),o(s,i,z,r),o(s,i,I,i.notifyWith))):(n!==I&&(a=void 0,l=[t]),(r||i.resolveWith)(a,l))}},h=r?c:function(){try{c()}catch(t){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(t,h.stackTrace),e+1>=s&&(n!==z&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?h():(m.Deferred.getStackHook&&(h.stackTrace=m.Deferred.getStackHook()),t.setTimeout(h))}}return m.Deferred((function(t){i[0][3].add(o(0,t,m.isFunction(r)?r:I,t.notifyWith)),i[1][3].add(o(0,t,m.isFunction(e)?e:I)),i[2][3].add(o(0,t,m.isFunction(n)?n:z))})).promise()},promise:function(t){return null!=t?m.extend(t,r):r}},s={};return m.each(i,(function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add((function(){n=a}),i[3-t][2].disable,i[0][2].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith})),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=s.call(arguments),o=m.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?s.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(R(t,o.done(a(i)).resolve,o.reject),"pending"===o.state()||m.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)R(r[i],a(i),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Y.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},m.readyException=function(e){t.setTimeout((function(){throw e}))};var N=m.Deferred();function B(){n.removeEventListener("DOMContentLoaded",B),t.removeEventListener("load",B),m.ready()}m.fn.ready=function(t){return N.then(t).catch((function(t){m.readyException(t)})),this},m.extend({isReady:!1,readyWait:1,holdReady:function(t){t?m.readyWait++:m.ready(!0)},ready:function(t){(!0===t?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==t&&--m.readyWait>0||N.resolveWith(n,[m]))}}),m.ready.then=N.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(m.ready):(n.addEventListener("DOMContentLoaded",B),t.addEventListener("load",B));var F=function(t,e,i,n,r,s,o){var a=0,l=t.length,c=null==i;if("object"===m.type(i))for(a in r=!0,i)F(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,m.isFunction(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(m(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):s},H=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=m.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},H(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[m.camelCase(e)]=i;else for(n in e)r[m.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][m.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=m.isArray(e)?e.map(m.camelCase):(e=m.camelCase(e))in n?[e]:e.match(L)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||m.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!m.isEmptyObject(e)}};var W=new X,$=new X,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,V=/[A-Z]/g;function q(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(V,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:G.test(t)?JSON.parse(t):t)}(i)}catch(t){}$.set(t,e,i)}else i=void 0;return i}m.extend({hasData:function(t){return $.hasData(t)||W.hasData(t)},data:function(t,e,i){return $.access(t,e,i)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,i){return W.access(t,e,i)},_removeData:function(t,e){W.remove(t,e)}}),m.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=$.get(s),1===s.nodeType&&!W.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=m.camelCase(n.slice(5)),q(s,n,r[n]));W.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){$.set(this,t)})):F(this,(function(e){var i;if(s&&void 0===e)return void 0!==(i=$.get(s,t))||void 0!==(i=q(s,t))?i:void 0;this.each((function(){$.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){$.remove(this,t)}))}}),m.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=W.get(t,e),i&&(!n||m.isArray(i)?n=W.access(t,e,m.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=m.queue(t,e),n=i.length,r=i.shift(),s=m._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,(function(){m.dequeue(t,e)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return W.get(t,i)||W.access(t,i,{empty:m.Callbacks("once memory").add((function(){W.remove(t,[e+"queue",i])}))})}}),m.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?m.queue(this[0],t):void 0===e?this:this.each((function(){var i=m.queue(this,t,e);m._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&m.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){m.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=m.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=W.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),Z=["Top","Right","Bottom","Left"],J=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&m.contains(t.ownerDocument,t)&&"none"===m.css(t,"display")},Q=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];for(s in r=i.apply(t,n||[]),e)t.style[s]=o[s];return r};function tt(t,e,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return m.css(t,e,"")},l=a(),c=i&&i[3]||(m.cssNumber[e]?"":"px"),h=(m.cssNumber[e]||"px"!==c&&+l)&&K.exec(m.css(t,e));if(h&&h[3]!==c){c=c||h[3],i=i||[],h=+l||1;do{h/=s=s||".5",m.style(t,e,h+c)}while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=r)),r}var et={};function it(t){var e,i=t.ownerDocument,n=t.nodeName,r=et[n];return r||(e=i.body.appendChild(i.createElement(n)),r=m.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),et[n]=r,r)}function nt(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(r[s]=W.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&J(n)&&(r[s]=it(n))):"none"!==i&&(r[s]="none",W.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}m.fn.extend({show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){J(this)?m(this).show():m(this).hide()}))}});var rt=/^(?:checkbox|radio)$/i,st=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ot=/^$|\/(?:java|ecma)script/i,at={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function lt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&m.nodeName(t,e)?m.merge([t],i):i}function ct(t,e){for(var i=0,n=t.length;i<n;i++)W.set(t[i],"globalEval",!e||W.get(e[i],"globalEval"))}at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td;var ht,ut,ft=/<|&#?\w+;/;function dt(t,e,i,n,r){for(var s,o,a,l,c,h,u=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((s=t[d])||0===s)if("object"===m.type(s))m.merge(f,s.nodeType?[s]:s);else if(ft.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(st.exec(s)||["",""])[1].toLowerCase(),l=at[a]||at._default,o.innerHTML=l[1]+m.htmlPrefilter(s)+l[2],h=l[0];h--;)o=o.lastChild;m.merge(f,o.childNodes),(o=u.firstChild).textContent=""}else f.push(e.createTextNode(s));for(u.textContent="",d=0;s=f[d++];)if(n&&m.inArray(s,n)>-1)r&&r.push(s);else if(c=m.contains(s.ownerDocument,s),o=lt(u.appendChild(s),"script"),c&&ct(o),i)for(h=0;s=o[h++];)ot.test(s.type||"")&&i.push(s);return u}ht=n.createDocumentFragment().appendChild(n.createElement("div")),(ut=n.createElement("input")).setAttribute("type","radio"),ut.setAttribute("checked","checked"),ut.setAttribute("name","t"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue;var pt=n.documentElement,gt=/^key/,mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vt=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}function _t(){return!1}function bt(){try{return n.activeElement}catch(t){}}function xt(t,e,i,n,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)xt(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_t;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return m().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),t.each((function(){m.event.add(this,e,r,n,i)}))}m.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,c,h,u,f,d,p,g,v=W.get(t);if(v)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&m.find.matchesSelector(pt,r),i.guid||(i.guid=m.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==m&&m.event.triggered!==e.type?m.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)d=g=(a=vt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(u=m.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=m.event.special[d]||{},h=m.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:p.join(".")},s),(f=l[d])||((f=l[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(d,o)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),m.event.global[d]=!0)},remove:function(t,e,i,n,r){var s,o,a,l,c,h,u,f,d,p,g,v=W.hasData(t)&&W.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(L)||[""]).length;c--;)if(d=g=(a=vt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(u=m.event.special[d]||{},f=l[d=(n?u.delegateType:u.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)h=f[s],!r&&g!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(f.splice(s,1),h.selector&&f.delegateCount--,u.remove&&u.remove.call(t,h));o&&!f.length&&(u.teardown&&!1!==u.teardown.call(t,p,v.handle)||m.removeEvent(t,d,v.handle),delete l[d])}else for(d in l)m.event.remove(t,d+e[c],i,n,!0);m.isEmptyObject(l)&&W.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=m.event.fix(t),l=new Array(arguments.length),c=(W.get(this,"events")||{})[a.type]||[],h=m.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(o=m.event.handlers.call(this,a,c),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(n=((m.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?m(r,this).index(c)>-1:m.find(r,this,null,[c]).length),o[r]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(m.Event.prototype,t,{enumerable:!0,configurable:!0,get:m.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[m.expando]?t:new m.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==bt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===bt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(t){return m.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},m.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},m.Event=function(t,e){if(!(this instanceof m.Event))return new m.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?yt:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&m.extend(this,e),this.timeStamp=t&&t.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=yt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=yt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=yt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&gt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},m.event.addProp),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){m.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||m.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}})),m.fn.extend({on:function(t,e,i,n){return xt(this,t,e,i,n)},one:function(t,e,i,n){return xt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,m(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_t),this.each((function(){m.event.remove(this,t,i,e)}))}});var wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,St=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Et(t,e){return m.nodeName(t,"table")&&m.nodeName(11!==e.nodeType?e:e.firstChild,"tr")&&t.getElementsByTagName("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){var e=Ct.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Dt(t,e){var i,n,r,s,o,a,l,c;if(1===e.nodeType){if(W.hasData(t)&&(s=W.access(t),o=W.set(e,s),c=s.events))for(r in delete o.handle,o.events={},c)for(i=0,n=c[r].length;i<n;i++)m.event.add(e,r,c[r][i]);$.hasData(t)&&(a=$.access(t),l=m.extend({},a),$.set(e,l))}}function Mt(t,e,i,n){e=o.apply([],e);var r,s,a,l,c,h,u=0,f=t.length,d=f-1,v=e[0],y=m.isFunction(v);if(y||f>1&&"string"==typeof v&&!p.checkClone&&Tt.test(v))return t.each((function(r){var s=t.eq(r);y&&(e[0]=v.call(this,r,s.html())),Mt(s,e,i,n)}));if(f&&(s=(r=dt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(l=(a=m.map(lt(r,"script"),Ot)).length;u<f;u++)c=r,u!==d&&(c=m.clone(c,!0,!0),l&&m.merge(a,lt(c,"script"))),i.call(t[u],c,u);if(l)for(h=a[a.length-1].ownerDocument,m.map(a,Pt),u=0;u<l;u++)c=a[u],ot.test(c.type||"")&&!W.access(c,"globalEval")&&m.contains(h,c)&&(c.src?m._evalUrl&&m._evalUrl(c.src):g(c.textContent.replace(kt,""),h))}return t}function At(t,e,i){for(var n,r=e?m.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||m.cleanData(lt(n)),n.parentNode&&(i&&m.contains(n.ownerDocument,n)&&ct(lt(n,"script")),n.parentNode.removeChild(n));return t}m.extend({htmlPrefilter:function(t){return t.replace(wt,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a,l,c,h=t.cloneNode(!0),u=m.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||m.isXMLDoc(t)))for(o=lt(h),n=0,r=(s=lt(t)).length;n<r;n++)a=s[n],l=o[n],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&rt.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(i)for(s=s||lt(t),o=o||lt(h),n=0,r=s.length;n<r;n++)Dt(s[n],o[n]);else Dt(t,h);return(o=lt(h,"script")).length>0&&ct(o,!u&&lt(t,"script")),h},cleanData:function(t){for(var e,i,n,r=m.event.special,s=0;void 0!==(i=t[s]);s++)if(H(i)){if(e=i[W.expando]){if(e.events)for(n in e.events)r[n]?m.event.remove(i,n):m.removeEvent(i,n,e.handle);i[W.expando]=void 0}i[$.expando]&&(i[$.expando]=void 0)}}}),m.fn.extend({detach:function(t){return At(this,t,!0)},remove:function(t){return At(this,t)},text:function(t){return F(this,(function(t){return void 0===t?m.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Mt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Et(this,t).appendChild(t)}))},prepend:function(){return Mt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Et(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(m.cleanData(lt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return m.clone(this,t,e)}))},html:function(t){return F(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!at[(st.exec(t)||["",""])[1].toLowerCase()]){t=m.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(m.cleanData(lt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Mt(this,arguments,(function(e){var i=this.parentNode;m.inArray(this,t)<0&&(m.cleanData(lt(this)),i&&i.replaceChild(e,this))}),t)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){m.fn[t]=function(t){for(var i,n=[],r=m(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),m(r[o])[e](i),a.apply(n,i.get());return this.pushStack(n)}}));var jt=/^margin/,Lt=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),It=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};function zt(t,e,i){var n,r,s,o,a=t.style;return(i=i||It(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||m.contains(t.ownerDocument,t)||(o=m.style(t,e)),!p.pixelMarginRight()&&Lt.test(o)&&jt.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Rt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",pt.appendChild(a);var e=t.getComputedStyle(l);i="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,l.style.marginRight="50%",s="4px"===e.marginRight,pt.removeChild(a),l=null}}var i,r,s,o,a=n.createElement("div"),l=n.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(l),m.extend(p,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),s},reliableMarginLeft:function(){return e(),o}}))}();var Yt=/^(none|table(?!-c[ea]).+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},Bt={letterSpacing:"0",fontWeight:"400"},Ft=["Webkit","Moz","ms"],Ht=n.createElement("div").style;function Xt(t){if(t in Ht)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Ft.length;i--;)if((t=Ft[i]+e)in Ht)return t}function Wt(t,e,i){var n=K.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function $t(t,e,i,n,r){var s,o=0;for(s=i===(n?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===i&&(o+=m.css(t,i+Z[s],!0,r)),n?("content"===i&&(o-=m.css(t,"padding"+Z[s],!0,r)),"margin"!==i&&(o-=m.css(t,"border"+Z[s]+"Width",!0,r))):(o+=m.css(t,"padding"+Z[s],!0,r),"padding"!==i&&(o+=m.css(t,"border"+Z[s]+"Width",!0,r)));return o}function Gt(t,e,i){var n,r=!0,s=It(t),o="border-box"===m.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(((n=zt(t,e,s))<0||null==n)&&(n=t.style[e]),Lt.test(n))return n;r=o&&(p.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+$t(t,e,i||(o?"border":"content"),r,s)+"px"}function Vt(t,e,i,n,r){return new Vt.prototype.init(t,e,i,n,r)}m.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=zt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=m.camelCase(e),l=t.style;if(e=m.cssProps[a]||(m.cssProps[a]=Xt(a)||a),o=m.cssHooks[e]||m.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];"string"===(s=typeof i)&&(r=K.exec(i))&&r[1]&&(i=tt(t,e,r),s="number"),null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(m.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var r,s,o,a=m.camelCase(e);return e=m.cssProps[a]||(m.cssProps[a]=Xt(a)||a),(o=m.cssHooks[e]||m.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=zt(t,e,n)),"normal"===r&&e in Bt&&(r=Bt[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),m.each(["height","width"],(function(t,e){m.cssHooks[e]={get:function(t,i,n){if(i)return!Yt.test(m.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Gt(t,e,n):Q(t,Nt,(function(){return Gt(t,e,n)}))},set:function(t,i,n){var r,s=n&&It(t),o=n&&$t(t,e,n,"border-box"===m.css(t,"boxSizing",!1,s),s);return o&&(r=K.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=m.css(t,e)),Wt(0,i,o)}}})),m.cssHooks.marginLeft=Rt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-Q(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),m.each({margin:"",padding:"",border:"Width"},(function(t,e){m.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Z[n]+e]=s[n]||s[n-2]||s[0];return r}},jt.test(t)||(m.cssHooks[t+e].set=Wt)})),m.fn.extend({css:function(t,e){return F(this,(function(t,e,i){var n,r,s={},o=0;if(m.isArray(e)){for(n=It(t),r=e.length;o<r;o++)s[e[o]]=m.css(t,e[o],!1,n);return s}return void 0!==i?m.style(t,e,i):m.css(t,e)}),t,e,arguments.length>1)}}),m.Tween=Vt,Vt.prototype={constructor:Vt,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||m.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(m.cssNumber[i]?"":"px")},cur:function(){var t=Vt.propHooks[this.prop];return t&&t.get?t.get(this):Vt.propHooks._default.get(this)},run:function(t){var e,i=Vt.propHooks[this.prop];return this.options.duration?this.pos=e=m.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Vt.propHooks._default.set(this),this}},Vt.prototype.init.prototype=Vt.prototype,Vt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=m.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){m.fx.step[t.prop]?m.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[m.cssProps[t.prop]]&&!m.cssHooks[t.prop]?t.elem[t.prop]=t.now:m.style(t.elem,t.prop,t.now+t.unit)}}},Vt.propHooks.scrollTop=Vt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},m.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},m.fx=Vt.prototype.init,m.fx.step={};var qt,Ut,Kt=/^(?:toggle|show|hide)$/,Zt=/queueHooks$/;function Jt(){Ut&&(t.requestAnimationFrame(Jt),m.fx.tick())}function Qt(){return t.setTimeout((function(){qt=void 0})),qt=m.now()}function te(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=Z[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ee(t,e,i){for(var n,r=(ie.tweeners[e]||[]).concat(ie.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function ie(t,e,i){var n,r,s=0,o=ie.prefilters.length,a=m.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=qt||Qt(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(n);return a.notifyWith(t,[c,n,i]),n<1&&o?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:m.extend({},e),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},i),originalProperties:e,originalOptions:i,startTime:qt||Qt(),duration:i.duration,tweens:[],createTween:function(e,i){var n=m.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(!function(t,e){var i,n,r,s,o;for(i in t)if(r=e[n=m.camelCase(i)],s=t[i],m.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=m.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(h,c.opts.specialEasing);s<o;s++)if(n=ie.prefilters[s].call(c,t,h,c.opts))return m.isFunction(n.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=m.proxy(n.stop,n)),n;return m.map(h,ee,c),m.isFunction(c.opts.start)&&c.opts.start.call(t,c),m.fx.timer(m.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(ie,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return tt(i.elem,t,K.exec(e),i),i}]},tweener:function(t,e){m.isFunction(t)?(e=t,t=["*"]):t=t.match(L);for(var i,n=0,r=t.length;n<r;n++)i=t[n],ie.tweeners[i]=ie.tweeners[i]||[],ie.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,s,o,a,l,c,h,u="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&J(t),v=W.get(t,"fxshow");for(n in i.queue||(null==(o=m._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,f.always((function(){f.always((function(){o.unqueued--,m.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[n],Kt.test(r)){if(delete e[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;g=!0}d[n]=v&&v[n]||m.style(t,n)}if((l=!m.isEmptyObject(e))||!m.isEmptyObject(d))for(n in u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=W.get(t,"display")),"none"===(h=m.css(t,"display"))&&(c?h=c:(nt([t],!0),c=t.style.display||c,h=m.css(t,"display"),nt([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===m.css(t,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(h=p.display,c="none"===h?"":h)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,d)l||(v?"hidden"in v&&(g=v.hidden):v=W.access(t,"fxshow",{display:c}),s&&(v.hidden=!g),g&&nt([t],!0),f.done((function(){for(n in g||nt([t]),W.remove(t,"fxshow"),d)m.style(t,n,d[n])}))),l=ee(g?v[n]:0,n,f),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ie.prefilters.unshift(t):ie.prefilters.push(t)}}),m.speed=function(t,e,i){var r=t&&"object"==typeof t?m.extend({},t):{complete:i||!i&&e||m.isFunction(t)&&t,duration:t,easing:i&&e||e&&!m.isFunction(e)&&e};return m.fx.off||n.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in m.fx.speeds?r.duration=m.fx.speeds[r.duration]:r.duration=m.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m.isFunction(r.old)&&r.old.call(this),r.queue&&m.dequeue(this,r.queue)},r},m.fn.extend({fadeTo:function(t,e,i,n){return this.filter(J).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=m.isEmptyObject(t),s=m.speed(e,i,n),o=function(){var e=ie(this,m.extend({},t),s);(r||W.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=m.timers,o=W.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&Zt.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||m.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=W.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=m.timers,o=n?n.length:0;for(i.finish=!0,m.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),m.each(["toggle","show","hide"],(function(t,e){var i=m.fn[e];m.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(te(e,!0),t,n,r)}})),m.each({slideDown:te("show"),slideUp:te("hide"),slideToggle:te("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){m.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),m.timers=[],m.fx.tick=function(){var t,e=0,i=m.timers;for(qt=m.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||m.fx.stop(),qt=void 0},m.fx.timer=function(t){m.timers.push(t),t()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Ut||(Ut=t.requestAnimationFrame?t.requestAnimationFrame(Jt):t.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(Ut):t.clearInterval(Ut),Ut=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,i){return e=m.fx&&m.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}}))},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var ne,re=m.expr.attrHandle;m.fn.extend({attr:function(t,e){return F(this,m.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){m.removeAttr(this,t)}))}}),m.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?m.prop(t,e,i):(1===s&&m.isXMLDoc(t)||(r=m.attrHooks[e.toLowerCase()]||(m.expr.match.bool.test(e)?ne:void 0)),void 0!==i?null===i?void m.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=m.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&m.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(L);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ne={set:function(t,e,i){return!1===e?m.removeAttr(t,i):t.setAttribute(i,i),i}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=re[e]||m.find.attr;re[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=re[o],re[o]=r,r=null!=i(t,e,n)?o:null,re[o]=s),r}}));var se=/^(?:input|select|textarea|button)$/i,oe=/^(?:a|area)$/i;function ae(t){return(t.match(L)||[]).join(" ")}function le(t){return t.getAttribute&&t.getAttribute("class")||""}m.fn.extend({prop:function(t,e){return F(this,m.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[m.propFix[t]||t]}))}}),m.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&m.isXMLDoc(t)||(e=m.propFix[e]||e,r=m.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=m.find.attr(t,"tabindex");return e?parseInt(e,10):se.test(t.nodeName)||oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(m.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this})),m.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,l=0;if(m.isFunction(t))return this.each((function(e){m(this).addClass(t.call(this,e,le(this)))}));if("string"==typeof t&&t)for(e=t.match(L)||[];i=this[l++];)if(r=le(i),n=1===i.nodeType&&" "+ae(r)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=ae(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,l=0;if(m.isFunction(t))return this.each((function(e){m(this).removeClass(t.call(this,e,le(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(L)||[];i=this[l++];)if(r=le(i),n=1===i.nodeType&&" "+ae(r)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(a=ae(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):m.isFunction(t)?this.each((function(i){m(this).toggleClass(t.call(this,i,le(this),e),e)})):this.each((function(){var e,n,r,s;if("string"===i)for(n=0,r=m(this),s=t.match(L)||[];e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=le(this))&&W.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":W.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ae(le(i))+" ").indexOf(e)>-1)return!0;return!1}});var ce=/\r/g;m.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=m.isFunction(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,m(this).val()):t)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,(function(t){return null==t?"":t+""}))),(e=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ce,""):null==i?"":i:void 0}}),m.extend({valHooks:{option:{get:function(t){var e=m.find.attr(t,"value");return null!=e?e:ae(m.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!m.nodeName(i.parentNode,"optgroup"))){if(e=m(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,s=m.makeArray(e),o=r.length;o--;)((n=r[o]).selected=m.inArray(m.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={set:function(t,e){if(m.isArray(e))return t.checked=m.inArray(m(t).val(),e)>-1}},p.checkOn||(m.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var he=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(e,i,r,s){var o,a,l,c,h,f,d,p=[r||n],g=u.call(e,"type")?e.type:e,v=u.call(e,"namespace")?e.namespace.split("."):[];if(a=l=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!he.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),h=g.indexOf(":")<0&&"on"+g,(e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e)).isTrigger=s?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:m.makeArray(i,[e]),d=m.event.special[g]||{},s||!d.trigger||!1!==d.trigger.apply(r,i))){if(!s&&!d.noBubble&&!m.isWindow(r)){for(c=d.delegateType||g,he.test(c+g)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(r.ownerDocument||n)&&p.push(l.defaultView||l.parentWindow||t)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?c:d.bindType||g,(f=(W.get(a,"events")||{})[e.type]&&W.get(a,"handle"))&&f.apply(a,i),(f=h&&a[h])&&f.apply&&H(a)&&(e.result=f.apply(a,i),!1===e.result&&e.preventDefault());return e.type=g,s||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),i)||!H(r)||h&&m.isFunction(r[g])&&!m.isWindow(r)&&((l=r[h])&&(r[h]=null),m.event.triggered=g,r[g](),m.event.triggered=void 0,l&&(r[h]=l)),e.result}},simulate:function(t,e,i){var n=m.extend(new m.Event,i,{type:t,isSimulated:!0});m.event.trigger(n,null,e)}}),m.fn.extend({trigger:function(t,e){return this.each((function(){m.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return m.event.trigger(t,e,i,!0)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){m.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),m.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),p.focusin="onfocusin"in t,p.focusin||m.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){m.event.simulate(e,t.target,m.event.fix(t))};m.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=W.access(n,e);r||n.addEventListener(t,i,!0),W.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=W.access(n,e)-1;r?W.access(n,e,r):(n.removeEventListener(t,i,!0),W.remove(n,e))}}}));var ue=t.location,fe=m.now(),de=/\?/;m.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),i};var pe=/\[\]$/,ge=/\r?\n/g,me=/^(?:submit|button|image|reset|file)$/i,ve=/^(?:input|select|textarea|keygen)/i;function ye(t,e,i,n){var r;if(m.isArray(e))m.each(e,(function(e,r){i||pe.test(t)?n(t,r):ye(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==m.type(e))n(t,e);else for(r in e)ye(t+"["+r+"]",e[r],i,n)}m.param=function(t,e){var i,n=[],r=function(t,e){var i=m.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(m.isArray(t)||t.jquery&&!m.isPlainObject(t))m.each(t,(function(){r(this.name,this.value)}));else for(i in t)ye(i,t[i],e,r);return n.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=m.prop(this,"elements");return t?m.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!m(this).is(":disabled")&&ve.test(this.nodeName)&&!me.test(t)&&(this.checked||!rt.test(t))})).map((function(t,e){var i=m(this).val();return null==i?null:m.isArray(i)?m.map(i,(function(t){return{name:e.name,value:t.replace(ge,"\r\n")}})):{name:e.name,value:i.replace(ge,"\r\n")}})).get()}});var _e=/%20/g,be=/#.*$/,xe=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,Se=/^(?:GET|HEAD)$/,Te=/^\/\//,Ce={},ke={},Ee="*/".concat("*"),Oe=n.createElement("a");function Pe(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(L)||[];if(m.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function De(t,e,i,n){var r={},s=t===ke;function o(a){var l;return r[a]=!0,m.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function Me(t,e){var i,n,r=m.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&m.extend(!0,t,n),t}Oe.href=ue.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ue.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ue.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ee,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Me(Me(t,m.ajaxSettings),e):Me(m.ajaxSettings,t)},ajaxPrefilter:Pe(Ce),ajaxTransport:Pe(ke),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,s,o,a,l,c,h,u,f,d,p=m.ajaxSetup({},i),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?m(g):m.event,y=m.Deferred(),_=m.Callbacks("once memory"),b=p.statusCode||{},x={},w={},S="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=we.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?o:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)T.always(t[T.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||S;return r&&r.abort(e),C(0,e),this}};if(y.promise(T),p.url=((e||p.url||ue.href)+"").replace(Te,ue.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){c=n.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+"//"+Oe.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=m.param(p.data,p.traditional)),De(Ce,p,i,T),h)return T;for(f in(u=m.event&&p.global)&&0==m.active++&&m.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Se.test(p.type),s=p.url.replace(be,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(_e,"+")):(d=p.url.slice(s.length),p.data&&(s+=(de.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(xe,"$1"),d=(de.test(s)?"&":"?")+"_="+fe+++d),p.url=s+d),p.ifModified&&(m.lastModified[s]&&T.setRequestHeader("If-Modified-Since",m.lastModified[s]),m.etag[s]&&T.setRequestHeader("If-None-Match",m.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ee+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,T,p)||h))return T.abort();if(S="abort",_.add(p.complete),T.done(p.success),T.fail(p.error),r=De(ke,p,i,T)){if(T.readyState=1,u&&v.trigger("ajaxSend",[T,p]),h)return T;p.async&&p.timeout>0&&(l=t.setTimeout((function(){T.abort("timeout")}),p.timeout));try{h=!1,r.send(x,C)}catch(t){if(h)throw t;C(-1,t)}}else C(-1,"No Transport");function C(e,i,n,a){var c,f,d,x,w,S=i;h||(h=!0,l&&t.clearTimeout(l),r=void 0,o=a||"",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(x=function(t,e,i){for(var n,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(p,T,n)),x=function(t,e,i,n){var r,s,o,a,l,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=h.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=h.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],h.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(p,x,T,c),c?(p.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(m.lastModified[s]=w),(w=T.getResponseHeader("etag"))&&(m.etag[s]=w)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=x.state,f=x.data,c=!(d=x.error))):(d=S,!e&&S||(S="error",e<0&&(e=0))),T.status=e,T.statusText=(i||S)+"",c?y.resolveWith(g,[f,S,T]):y.rejectWith(g,[T,S,d]),T.statusCode(b),b=void 0,u&&v.trigger(c?"ajaxSuccess":"ajaxError",[T,p,c?f:d]),_.fireWith(g,[T,S]),u&&(v.trigger("ajaxComplete",[T,p]),--m.active||m.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,i){return m.get(t,e,i,"json")},getScript:function(t,e){return m.get(t,void 0,e,"script")}}),m.each(["get","post"],(function(t,e){m[e]=function(t,i,n,r){return m.isFunction(i)&&(r=r||n,n=i,i=void 0),m.ajax(m.extend({url:t,type:e,dataType:r,data:i,success:n},m.isPlainObject(t)&&t))}})),m._evalUrl=function(t){return m.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(t){var e;return this[0]&&(m.isFunction(t)&&(t=t.call(this[0])),e=m(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m.isFunction(t)?this.each((function(e){m(this).wrapInner(t.call(this,e))})):this.each((function(){var e=m(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m.isFunction(t);return this.each((function(i){m(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){m(this).replaceWith(this.childNodes)})),this}}),m.expr.pseudos.hidden=function(t){return!m.expr.pseudos.visible(t)},m.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ae={0:200,1223:204},je=m.ajaxSettings.xhr();p.cors=!!je&&"withCredentials"in je,p.ajax=je=!!je,m.ajaxTransport((function(e){var i,n;if(p.cors||je&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ae[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),m.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return m.globalEval(t),t}}}),m.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),m.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain)return{send:function(r,s){e=m("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Le,Ie=[],ze=/(=)\?(?=&|$)|\?\?/;function Re(t){return m.isWindow(t)?t:9===t.nodeType&&t.defaultView}m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||m.expando+"_"+fe++;return this[t]=!0,t}}),m.ajaxPrefilter("json jsonp",(function(e,i,n){var r,s,o,a=!1!==e.jsonp&&(ze.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ze,"$1"+r):!1!==e.jsonp&&(e.url+=(de.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||m.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always((function(){void 0===s?m(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ie.push(r)),o&&m.isFunction(s)&&s(o[0]),o=s=void 0})),"script"})),p.createHTMLDocument=((Le=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Le.childNodes.length),m.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((r=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(r)):e=n),o=!i&&[],(s=k.exec(t))?[e.createElement(s[1])]:(s=dt([t],e,o),o&&o.length&&m(o).remove(),m.merge([],s.childNodes)));var r,s,o},m.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=ae(t.slice(a)),t=t.slice(0,a)),m.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&m.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(n?m("<div>").append(m.parseHTML(t)).find(n):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,s||[t.responseText,e,t])}))}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){m.fn[e]=function(t){return this.on(e,t)}})),m.expr.pseudos.animated=function(t){return m.grep(m.timers,(function(e){return t===e.elem})).length},m.offset={setOffset:function(t,e,i){var n,r,s,o,a,l,c=m.css(t,"position"),h=m(t),u={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=m.css(t,"top"),l=m.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(n=h.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),m.isFunction(e)&&(e=e.call(t,i,m.extend({},a))),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+r),"using"in e?e.using.call(t,u):h.css(u)}},m.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){m.offset.setOffset(this,t,e)}));var e,i,n,r,s=this[0];return s?s.getClientRects().length?(n=s.getBoundingClientRect()).width||n.height?(i=Re(r=s.ownerDocument),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===m.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),m.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+m.css(t[0],"borderTopWidth",!0),left:n.left+m.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-m.css(i,"marginTop",!0),left:e.left-n.left-m.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===m.css(t,"position");)t=t.offsetParent;return t||pt}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;m.fn[t]=function(n){return F(this,(function(t,n,r){var s=Re(t);if(void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r}),t,n,arguments.length)}})),m.each(["top","left"],(function(t,e){m.cssHooks[e]=Rt(p.pixelPosition,(function(t,i){if(i)return i=zt(t,e),Lt.test(i)?m(t).position()[e]+"px":i}))})),m.each({Height:"height",Width:"width"},(function(t,e){m.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){m.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return F(this,(function(e,i,r){var s;return m.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?m.css(e,i,a):m.style(e,i,r,a)}),e,o?r:void 0,o)}}))})),m.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),m.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return m}));var Ye=t.jQuery,Ne=t.$;return m.noConflict=function(e){return t.$===m&&(t.$=Ne),e&&t.jQuery===m&&(t.jQuery=Ye),m},e||(t.jQuery=t.$=m),m}));var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var r=i++;return{value:e(r,t[r]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(t,e,i,n){if(e){for(i=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in i||(i[r]={}),i=i[r]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(i,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var $jscomp$this=this,DragDropTouch;function debounce(t,e,i){var n;return function(){var r=this,s=arguments,o=function(){n=null,i||t.apply(r,s)},a=i&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,s)}}!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()}(this,(function(){function t(t){if(!P.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var i=t.length,n=2<=arguments.length?arguments[1]:void 0,r=[],s=0;s<i;s++)if(s in t){var o=t[s];e.call(n,o,s,t)&&r.push(o)}return r}function i(t){return t.reduce((function(t,e){return t.concat(P.arr(e)?i(e):e)}),[])}function n(e){return P.arr(e)?e:(P.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function s(t){var e,i={};for(e in t)i[e]=t[e];return i}function o(t,e){var i,n=s(t);for(i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function a(t,e){var i,n=s(t);for(i in e)n[i]=P.und(t[i])?e[i]:t[i];return n}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function c(t,e){return P.fnc(t)?t(e.target,e.id,e.total):t}function h(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function u(t,e){return P.dom(t)&&r(O,e)?"transform":P.dom(t)&&(t.getAttribute(e)||P.svg(t)&&t[e])?"attribute":P.dom(t)&&"transform"!==e&&h(t,e)?"css":null!=t[e]?"object":void 0}function f(t,i){switch(u(t,i)){case"transform":return function(t,i){var n=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(i);if(n=-1<i.indexOf("scale")?1:0+n,!(t=t.style.transform))return n;for(var r=[],s=[],o=[],a=/(\w+)\((.+?)\)/g;r=a.exec(t);)s.push(r[1]),o.push(r[2]);return(t=e(o,(function(t,e){return s[e]===i}))).length?t[0]:n}(t,i);case"css":return h(t,i);case"attribute":return t.getAttribute(i)}return t[i]||0}function d(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var n=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(i[0],"")),i[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function p(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g(t){t=t.points;for(var e,i=0,n=0;n<t.numberOfItems;n++){var r=t.getItem(n);0<n&&(i+=p(e,r)),e=r}return i}function m(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return p({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return g(t);case"polygon":var e=t.points;return g(t)+p(e.getItem(e.numberOfItems-1),e.getItem(0))}}function v(t,e){function i(i){return i=void 0===i?0:i,t.el.getPointAtLength(1<=e+i?e+i:0)}var n=i(),r=i(-1),s=i(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(s.y-r.y,s.x-r.x)/Math.PI}}function y(t,e){var i,n=/-?\d*\.?\d+/g;if(i=P.pth(t)?t.totalLength:t,P.col(i))if(P.rgb(i)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i);i=r?"rgba("+r[1]+",1)":i}else i=P.hex(i)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(i):P.hsl(i)?function(t){function e(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(i[1])/360;var n=parseInt(i[2])/100,r=parseInt(i[3])/100;if(i=i[4]||1,0==n)r=n=t=r;else{var s=.5>r?r*(1+n):r+n-r*n,o=2*r-s;r=e(o,s,t+1/3),n=e(o,s,t);t=e(o,s,t-1/3)}return"rgba("+255*r+","+255*n+","+255*t+","+i+")"}(i):void 0;else r=(r=l(i))?i.substr(0,i.length-r.length):i,i=e&&!/\s/g.test(i)?r+e:r;return{original:i+="",numbers:i.match(n)?i.match(n).map(Number):[0],strings:P.str(t)||e?i.split(n):[]}}function _(t){return e(t=t?i(P.arr(t)?t.map(n):n(t)):[],(function(t,e,i){return i.indexOf(t)===e}))}function b(t,e){var i=s(e);if(P.arr(t)){var r=t.length;2!==r||P.obj(t[0])?P.fnc(e.duration)||(i.duration=e.duration/r):t={value:t}}return n(t).map((function(t,i){return i=i?0:e.delay,t=P.obj(t)&&!P.pth(t)?t:{value:t},P.und(t.delay)&&(t.delay=i),t})).map((function(t){return a(t,i)}))}function x(t,e){var i;return t.tweens.map((function(n){var r=(n=function(t,e){var i,n={};for(i in t){var r=c(t[i],e);P.arr(r)&&(1===(r=r.map((function(t){return c(t,e)}))).length&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e)).value,s=f(e.target,t.name),o=i?i.to.original:s,a=(o=P.arr(r)?r[0]:o,d(P.arr(r)?r[1]:r,o));s=l(a)||l(o)||l(s);return n.from=y(o,s),n.to=y(a,s),n.start=i?i.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=function(t){return P.arr(t)?D.apply(this,t):M[t]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=P.pth(r),n.isColor=P.col(n.from.original),n.isColor&&(n.round=1),i=n}))}function w(t,e,i,n){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?n.delay:i.offset+n.delay+n.duration}function S(t){var n,r=o(k,t),s=o(E,t),l=function(t){var e=_(t);return e.map((function(t,i){return{target:t,id:i,total:e.length}}))}(t.targets),c=[],h=a(r,s);for(n in t)h.hasOwnProperty(n)||"targets"===n||c.push({name:n,offset:h.offset,tweens:b(t[n],s)});return t=function(t,n){return e(i(t.map((function(t){return n.map((function(e){var i=u(t.target,e.name);if(i){var n=x(e,t);e={type:i,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e}))}))),(function(t){return!P.und(t)}))}(l,c),a(r,{children:[],animatables:l,animations:t,duration:w("duration",t,r,s),delay:w("delay",t,r,s)})}function T(t){function i(){return window.Promise&&new Promise((function(t){return f=t}))}function n(t){return p.reversed?p.duration-t:t}function r(t){for(var i=0,n={},r=p.animations,s=r.length;i<s;){var o=r[i],a=o.animatable,l=(c=o.tweens)[d=c.length-1];d&&(l=e(c,(function(e){return t<e.end}))[0]||l);for(var c=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,u=isNaN(c)?1:l.easing(c,l.elasticity),f=(c=l.to.strings,l.round),d=[],g=void 0,m=(g=l.to.numbers.length,0);m<g;m++){var y=void 0,_=(y=l.to.numbers[m],l.from.numbers[m]);y=l.isPath?v(l.value,u*y):_+u*(y-_);f&&(l.isColor&&2<m||(y=Math.round(y*f)/f)),d.push(y)}if(l=c.length)for(g=c[0],u=0;u<l;u++)f=c[u+1],m=d[u],isNaN(m)||(g=f?g+(m+f):g+(m+" "));else g=d[0];A[o.type](a.target,o.property,g,n,a.id),o.currentValue=g,i++}if(i=Object.keys(n).length)for(r=0;r<i;r++)C||(C=h(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[C]=n[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function s(t){p[t]&&p[t](p)}function o(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(t){var e=p.duration,a=p.offset,h=a+p.delay,g=p.currentTime,m=p.reversed,v=n(t);if(p.children.length){var y=p.children,_=y.length;if(v>=p.currentTime)for(var b=0;b<_;b++)y[b].seek(v);else for(;_--;)y[_].seek(v)}(v>=h||!e)&&(p.began||(p.began=!0,s("begin")),s("run")),v>a&&v<e?r(v):(v<=a&&0!==g&&(r(0),m&&o()),(v>=e&&g!==e||!e)&&(r(e),m||o())),s("update"),t>=e&&(p.remaining?(c=l,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,s("complete"),"Promise"in window&&(f(),d=i()))),u=0)}t=void 0===t?{}:t;var l,c,u=0,f=null,d=i(),p=S(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){l=t,c||(c=l),a((u+l-c)*T.speed)},p.seek=function(t){a(n(t))},p.pause=function(){var t=j.indexOf(p);-1<t&&j.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,u=n(p.currentTime),j.push(p),L||I())},p.reverse=function(){p.reversed=!p.reversed,c=0,u=n(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var C,k={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},E={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),P={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return P.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||P.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return P.hex(t)||P.rgb(t)||P.hsl(t)}},D=function(){function t(t,e,i){return(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t}return function(e,i,n,r){if(0<=e&&1>=e&&0<=n&&1>=n){var s=new Float32Array(11);if(e!==i||n!==r)for(var o=0;11>o;++o)s[o]=t(.1*o,e,n);return function(o){if(e===i&&n===r)return o;if(0===o)return 0;if(1===o)return 1;for(var a=0,l=1;10!==l&&s[l]<=o;++l)a+=.1;--l;l=a+(o-s[l])/(s[l+1]-s[l])*.1;var c=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e;if(.001<=c){for(a=0;4>a&&0!==(c=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e);++a){var h=t(l,e,n)-o;l=l-h/c}o=l}else if(0===c)o=l;else{l=a,a=a+.1;var u=0;do{0<(c=t(h=l+(a-l)/2,e,n)-o)?a=h:l=h}while(1e-7<Math.abs(c)&&10>++u);o=h}return t(o,i,r)}}}}(),M=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,i){return 1-t(1-e,i)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,i){return.5>e?t(2*e,i)/2:1-t(-2*e+2,i)/2}]},r={linear:D(.25,.25,.75,.75)},s={};for(e in n)s.type=e,n[s.type].forEach(function(t){return function(e,n){r["ease"+t.type+i[n]]=P.fnc(e)?e:D.apply($jscomp$this,e)}}(s)),s={type:s.type};return r}(),A={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,n,r){n[r]||(n[r]=[]),n[r].push(e+"("+i+")")}},j=[],L=0,I=function(){function t(){L=requestAnimationFrame(e)}function e(e){var i=j.length;if(i){for(var n=0;n<i;)j[n]&&j[n].tick(e),n++;t()}else cancelAnimationFrame(L),L=0}return t}();return T.version="2.2.0",T.speed=1,T.running=j,T.remove=function(t){t=_(t);for(var e=j.length;e--;)for(var i=j[e],n=i.animations,s=n.length;s--;)r(t,n[s].animatable.target)&&(n.splice(s,1),n.length||i.pause())},T.getValue=f,T.path=function(e,i){var n=P.str(e)?t(e)[0]:e,r=i||100;return function(t){return{el:n,property:t,totalLength:m(n)*(r/100)}}},T.setDashoffset=function(t){var e=m(t);return t.setAttribute("stroke-dasharray",e),e},T.bezier=D,T.easings=M,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(i){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),n(i).forEach((function(i){var n=a(i,o(E,t||{}));n.targets=n.targets||t.targets,i=e.duration;var r=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=P.und(r)?i:d(r,i),e.began=!0,e.completed=!0,e.seek(n.offset),(n=T(n)).began=!0,n.completed=!0,n.duration>i&&(e.duration=n.duration),e.children.push(n)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T})),
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}((function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,i,n,r,s,o,a,l,c,h,u,f,d,p,g,m,v,y,_,b,x={},w=/\s+/g,S=/left|right|inline/,T="Sortable"+(new Date).getTime(),C=window,k=C.document,E=C.parseInt,O=C.jQuery||C.Zepto,P=C.Polymer,D=!1,M=!!("draggable"in k.createElement("div")),A=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((b=k.createElement("x")).style.cssText="pointer-events:auto","auto"===b.style.pointerEvents),j=!1,L=Math.abs,I=Math.min,z=[],R=[],Y=it((function(t,e,i){if(i&&e.scroll){var n,r,s,o,h,u,f=i[T],d=e.scrollSensitivity,p=e.scrollSpeed,g=t.clientX,m=t.clientY,v=window.innerWidth,y=window.innerHeight;if(l!==i&&(a=e.scroll,l=i,c=e.scrollFn,!0===a)){a=i;do{if(a.offsetWidth<a.scrollWidth||a.offsetHeight<a.scrollHeight)break}while(a=a.parentNode)}a&&(n=a,r=a.getBoundingClientRect(),s=(L(r.right-g)<=d)-(L(r.left-g)<=d),o=(L(r.bottom-m)<=d)-(L(r.top-m)<=d)),s||o||(o=(y-m<=d)-(m<=d),((s=(v-g<=d)-(g<=d))||o)&&(n=C)),x.vx===s&&x.vy===o&&x.el===n||(x.el=n,x.vx=s,x.vy=o,clearInterval(x.pid),n&&(x.pid=setInterval((function(){if(u=o?o*p:0,h=s?s*p:0,"function"==typeof c)return c.call(f,h,u,t);n===C?C.scrollTo(C.pageXOffset+h,C.pageYOffset+u):(n.scrollTop+=u,n.scrollLeft+=h)}),24)))}}),30),N=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=i.name),"function"==typeof t?t:function(i,n){var r=n.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var i={},n=t.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i};function B(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=nt({},e),t[T]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i)!(n in e)&&(e[n]=i[n]);for(var r in N(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&M,W(t,"mousedown",this._onTapStart),W(t,"touchstart",this._onTapStart),W(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(W(t,"dragover",this),W(t,"dragenter",this)),R.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function F(e,i){"clone"!==e.lastPullMode&&(i=!0),n&&n.state!==i&&(V(n,"display",i?"none":""),i||n.state&&(e.options.group.revertClone?(r.insertBefore(n,s),e._animate(t,n)):r.insertBefore(n,t)),n.state=i)}function H(t,e,i){if(t){i=i||k;do{if(">*"===e&&t.parentNode===i||et(t,e))return t}while(t=X(t))}return null}function X(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function W(t,e,i){t.addEventListener(e,i,D)}function $(t,e,i){t.removeEventListener(e,i,D)}function G(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(w," ")}}function V(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return k.defaultView&&k.defaultView.getComputedStyle?i=k.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function q(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,s=n.length;if(i)for(;r<s;r++)i(n[r],r);return n}return[]}function U(t,e,i,r,s,o,a){t=t||e[T];var l=k.createEvent("Event"),c=t.options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,!0,!0),l.to=e,l.from=s||e,l.item=r||e,l.clone=n,l.oldIndex=o,l.newIndex=a,e.dispatchEvent(l),c[h]&&c[h].call(t,l)}function K(t,e,i,n,r,s,o,a){var l,c,h=t[T],u=h.options.onMove;return(l=k.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=r||e,l.relatedRect=s||e.getBoundingClientRect(),l.willInsertAfter=a,t.dispatchEvent(l),u&&(c=u.call(h,l,o)),c}function Z(t){t.draggable=!1}function J(){j=!1}function Q(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function tt(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!et(t,e)||i++;return i}function et(t,e){if(t){var i=(e=e.split(".")).shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==i&&t.nodeName.toUpperCase()!=i||e.length&&((" "+t.className+" ").match(n)||[]).length!=e.length)}return!1}function it(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout((function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0}),e))}}function nt(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function rt(t){return O?O(t).clone(!0)[0]:P&&P.dom?P.dom(t).cloneNode(!0):t.cloneNode(!0)}B.prototype={constructor:B,_onTapStart:function(e){var i,n=this,r=this.el,s=this.options,a=s.preventOnFilter,l=e.type,c=e.touches&&e.touches[0],h=(c||e).target,u=e.target.shadowRoot&&e.path[0]||h,f=s.filter;if(function(t){var e=t.getElementsByTagName("input"),i=e.length;for(;i--;){var n=e[i];n.checked&&z.push(n)}}(r),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||s.disabled)&&(h=H(h,s.draggable,r))&&o!==h){if(i=tt(h,s.draggable),"function"==typeof f){if(f.call(this,e,h,this))return U(n,u,"filter",h,r,i),void(a&&e.preventDefault())}else if(f&&(f=f.split(",").some((function(t){if(t=H(u,t.trim(),r))return U(n,t,"filter",h,r,i),!0}))))return void(a&&e.preventDefault());s.handle&&!H(u,s.handle,r)||this._prepareDragStart(e,c,h,i)}},_prepareDragStart:function(i,n,a,l){var c,h=this,u=h.el,f=h.options,p=u.ownerDocument;a&&!t&&a.parentNode===u&&(v=i,r=u,e=(t=a).parentNode,s=t.nextSibling,o=a,g=f.group,d=l,this._lastX=(n||i).clientX,this._lastY=(n||i).clientY,t.style["will-change"]="transform",c=function(){h._disableDelayedDrag(),t.draggable=h.nativeDraggable,G(t,f.chosenClass,!0),h._triggerDragStart(i,n),U(h,r,"choose",t,r,d)},f.ignore.split(",").forEach((function(e){q(t,e.trim(),Z)})),W(p,"mouseup",h._onDrop),W(p,"touchend",h._onDrop),W(p,"touchcancel",h._onDrop),W(p,"pointercancel",h._onDrop),W(p,"selectstart",h),f.delay?(W(p,"mouseup",h._disableDelayedDrag),W(p,"touchend",h._disableDelayedDrag),W(p,"touchcancel",h._disableDelayedDrag),W(p,"mousemove",h._disableDelayedDrag),W(p,"touchmove",h._disableDelayedDrag),W(p,"pointermove",h._disableDelayedDrag),h._dragStartTimer=setTimeout(c,f.delay)):c())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),$(t,"mouseup",this._disableDelayedDrag),$(t,"touchend",this._disableDelayedDrag),$(t,"touchcancel",this._disableDelayedDrag),$(t,"mousemove",this._disableDelayedDrag),$(t,"touchmove",this._disableDelayedDrag),$(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,i){(i=i||("touch"==e.pointerType?e:null))?(v={target:t,clientX:i.clientX,clientY:i.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(W(t,"dragend",this),W(r,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{k.selection?setTimeout((function(){k.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(r&&t){var e=this.options;G(t,e.ghostClass,!0),G(t,e.dragClass,!1),B.active=this,U(this,r,"start",t,r,d)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,A||V(i,"display","none");var t=k.elementFromPoint(y.clientX,y.clientY),e=t,n=R.length;if(e)do{if(e[T]){for(;n--;)R[n]({clientX:y.clientX,clientY:y.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);A||V(i,"display","")}},_onTouchMove:function(t){if(v){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,s=t.touches?t.touches[0]:t,o=s.clientX-v.clientX+r.x,a=s.clientY-v.clientY+r.y,l=t.touches?"translate3d("+o+"px,"+a+"px,0)":"translate("+o+"px,"+a+"px)";if(!B.active){if(n&&I(L(s.clientX-this._lastX),L(s.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),_=!0,y=s,V(i,"webkitTransform",l),V(i,"mozTransform",l),V(i,"msTransform",l),V(i,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!i){var e,n=t.getBoundingClientRect(),s=V(t),o=this.options;G(i=t.cloneNode(!0),o.ghostClass,!1),G(i,o.fallbackClass,!0),G(i,o.dragClass,!0),V(i,"top",n.top-E(s.marginTop,10)),V(i,"left",n.left-E(s.marginLeft,10)),V(i,"width",n.width),V(i,"height",n.height),V(i,"opacity","0.8"),V(i,"position","fixed"),V(i,"zIndex","100000"),V(i,"pointerEvents","none"),o.fallbackOnBody&&k.body.appendChild(i)||r.appendChild(i),e=i.getBoundingClientRect(),V(i,"width",2*n.width-e.width),V(i,"height",2*n.height-e.height)}},_onDragStart:function(e,i){var s=e.dataTransfer,o=this.options;this._offUpEvents(),g.checkPull(this,this,t,e)&&((n=rt(t)).draggable=!1,n.style["will-change"]="",V(n,"display","none"),G(n,this.options.chosenClass,!1),r.insertBefore(n,t),U(this,r,"clone",t)),G(t,o.dragClass,!0),i?("touch"===i?(W(k,"touchmove",this._onTouchMove),W(k,"touchend",this._onDrop),W(k,"touchcancel",this._onDrop),W(k,"pointermove",this._onTouchMove),W(k,"pointerup",this._onDrop)):(W(k,"mousemove",this._onTouchMove),W(k,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(s&&(s.effectAllowed="move",o.setData&&o.setData.call(this,s,t)),W(k,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(o){var a,l,c,d,p=this.el,v=this.options,y=v.group,b=B.active,x=g===y,w=!1,C=v.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!v.dragoverBubble&&o.stopPropagation()),!t.animated&&(_=!0,b&&!v.disabled&&(x?C||(d=!r.contains(t)):m===this||(b.lastPullMode=g.checkPull(this,b,t,o))&&y.checkPut(this,b,t,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(Y(o,v,this.el),j)return;if(a=H(o.target,v.draggable,p),l=t.getBoundingClientRect(),m!==this&&(m=this,w=!0),d)return F(b,!0),e=r,void(n||s?r.insertBefore(t,n||s):C||r.appendChild(t));if(0===p.children.length||p.children[0]===i||p===o.target&&function(t,e){var i=t.lastElementChild.getBoundingClientRect();return e.clientY-(i.top+i.height)>5||e.clientX-(i.left+i.width)>5}(p,o)){if(0!==p.children.length&&p.children[0]!==i&&p===o.target&&(a=p.lastElementChild),a){if(a.animated)return;c=a.getBoundingClientRect()}F(b,x),!1!==K(r,p,t,l,a,c,o)&&(t.contains(p)||(p.appendChild(t),e=p),this._animate(l,t),a&&this._animate(c,a))}else if(a&&!a.animated&&a!==t&&void 0!==a.parentNode[T]){h!==a&&(h=a,u=V(a),f=V(a.parentNode));var k=(c=a.getBoundingClientRect()).right-c.left,E=c.bottom-c.top,O=S.test(u.cssFloat+u.display)||"flex"==f.display&&0===f["flex-direction"].indexOf("row"),P=a.offsetWidth>t.offsetWidth,D=a.offsetHeight>t.offsetHeight,M=(O?(o.clientX-c.left)/k:(o.clientY-c.top)/E)>.5,A=a.nextElementSibling,L=!1;if(O){var I=t.offsetTop,z=a.offsetTop;L=I===z?a.previousElementSibling===t&&!P||M&&P:a.previousElementSibling===t||t.previousElementSibling===a?(o.clientY-c.top)/E>.5:z>I}else w||(L=A!==t&&!D||M&&D);var R=K(r,p,t,l,a,c,o,L);!1!==R&&(1!==R&&-1!==R||(L=1===R),j=!0,setTimeout(J,30),F(b,x),t.contains(p)||(L&&!A?p.appendChild(t):a.parentNode.insertBefore(t,L?A:a)),e=t.parentNode,this._animate(l,t),this._animate(c,a))}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),V(e,"transition","none"),V(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,V(e,"transition","all "+i+"ms"),V(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout((function(){V(e,"transition",""),V(e,"transform",""),e.animated=!1}),i)}},_offUpEvents:function(){var t=this.el.ownerDocument;$(k,"touchmove",this._onTouchMove),$(k,"pointermove",this._onTouchMove),$(t,"mouseup",this._onDrop),$(t,"touchend",this._onDrop),$(t,"pointerup",this._onDrop),$(t,"touchcancel",this._onDrop),$(t,"pointercancel",this._onDrop),$(t,"selectstart",this)},_onDrop:function(o){var a=this.el,l=this.options;clearInterval(this._loopId),clearInterval(x.pid),clearTimeout(this._dragStartTimer),$(k,"mousemove",this._onTouchMove),this.nativeDraggable&&($(k,"drop",this),$(a,"dragstart",this._onDragStart)),this._offUpEvents(),o&&(_&&(o.preventDefault(),!l.dropBubble&&o.stopPropagation()),i&&i.parentNode&&i.parentNode.removeChild(i),r!==e&&"clone"===B.active.lastPullMode||n&&n.parentNode&&n.parentNode.removeChild(n),t&&(this.nativeDraggable&&$(t,"dragend",this),Z(t),t.style["will-change"]="",G(t,this.options.ghostClass,!1),G(t,this.options.chosenClass,!1),U(this,r,"unchoose",t,r,d),r!==e?(p=tt(t,l.draggable))>=0&&(U(null,e,"add",t,r,d,p),U(this,r,"remove",t,r,d,p),U(null,e,"sort",t,r,d,p),U(this,r,"sort",t,r,d,p)):t.nextSibling!==s&&(p=tt(t,l.draggable))>=0&&(U(this,r,"update",t,r,d,p),U(this,r,"sort",t,r,d,p)),B.active&&(null!=p&&-1!==p||(p=d),U(this,r,"end",t,r,d,p),this.save()))),this._nulling()},_nulling:function(){r=t=e=i=s=n=o=a=l=v=y=_=p=h=u=m=g=B.active=null,z.forEach((function(t){t.checked=!0})),z.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,r=i.length,s=this.options;n<r;n++)H(t=i[n],s.draggable,this.el)&&e.push(t.getAttribute(s.dataIdAttr)||Q(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach((function(t,n){var r=i.children[n];H(r,this.options.draggable,i)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return H(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];i[t]=e,"group"===t&&N(i)},destroy:function(){var t=this.el;t[T]=null,$(t,"mousedown",this._onTapStart),$(t,"touchstart",this._onTapStart),$(t,"pointerdown",this._onTapStart),this.nativeDraggable&&($(t,"dragover",this),$(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),R.splice(R.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},W(k,"touchmove",(function(t){B.active&&t.preventDefault()}));try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){D={capture:!1,passive:!1}}}))}catch(t){}return B.utils={on:W,off:$,css:V,find:q,is:function(t,e){return!!H(t,e,t)},extend:nt,throttle:it,closest:H,toggleClass:G,clone:rt,index:tt},B.create=function(t,e){return new B(t,e)},B.version="1.6.0",B})),function(t){var e,i=t.document,n=i.documentElement,r=Array.prototype.slice,s=Array.prototype.push,o=/trident/i.test(navigator.userAgent),a=(e=0,function(){return"don_js__"+e++}),l={};function c(t){var e=[],i=[],n=r.call(arguments,1),s=n.length;for(var o in n)n[o]==l?s=o:o<s?e.push(n[o]):i.push(n[o]);return function(){var n=e.slice(),s=i.slice(),o=r.call(arguments);for(var a in n)n[a]==c&&(n[a]=o.shift());for(var a in s)s[a]==c&&(s[a]=o.pop());return t.apply(null,n.concat(o.concat(s)))}}function h(t,e){return"string"!=typeof t&&p(t)||(t=[t]),s.apply(e,t),e}function u(t,e){return t&&"object"==typeof t&&(e=t.nodeType)&&(1==e||9==e)}function f(t){return"string"==typeof t}var d=Math.pow(2,53)-1;function p(t){if(t&&1==t.nodeType)return!1;var e=null==t?void 0:t.length;return"string"!=typeof t&&"number"==typeof e&&e>=0&&e<=d&&t!==t.window}function g(t){return null==t?void 0:t.length}function m(t){return t}function v(t,e){for(var i=0,n=g(t);i<n;i++)e(t[i],i);return t}function y(t,e){for(var i=0,n=function(t){return function(t){return"object"==typeof t&&!!t}(t)?Object.keys(t):[]}(t),r=n.length;i<r;i++)e(t[n[i]],n[i]);return t}function _(t,e){for(var i=g(t)-1;i>-1;i--)e(t[i],i);return t}function b(t,e){for(var i=[],n=0,r=g(t);n<r;n++)i[n]=e(t[n],n);return i}function x(t,e){for(var i=[],n=g(t)-1;n>-1;n--)i[n]=e(t[n],n);return i}function w(t,e){for(var i=0,n=g(t);i<n;i++)if(e(t[i],i))return t[i]}function S(t,e){for(var i=[],n=-1,r=g(t);++n<r;)e(t[n],n)&&i.push(t[n]);return i}function T(t,e){return t&&-1!=t.indexOf(e)}function C(t,e){return null!=t&&Object.hasOwnProperty.call(t,e)}function k(t,e,i){return function t(e,i,n,r){return v(i,(function(i){if(!p(i)||!Array.isArray(i)&&!i&&i.callee)return e.push(i);n?v(i,(function(t){e.push(t)})):t(e,i,n)})),e}([],t,e)}function E(t){return"function"==typeof t}function O(t){return!("string"==typeof t&&t.length>1&&"0"==t[0])&&(!isNaN(parseFloat(t))&&isFinite(t))}var P=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;function D(t,e){return!(!e||!t||1!==t.nodeType)&&P.call(t,e)}function M(t,e){return!D(t,e)}function A(){for(var t,e=1,i=arguments.length,n=arguments[0];e<i;e++)if(n&&(t=arguments[e]))for(var r in t)C(n,r)||(n[r]=t[r]);return n&&delete n._memoize,n}!function(){var e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/;function r(t,e){return!e||D(t,e)?t:void 0}function s(t){if(!t)return i;var e="string"==typeof t;return u(t)||e||!p(t)?e?x(t):t:t[0]}function o(t){return t?function(t,e,i){return e&&D(e,i)&&-1==t.indexOf(e)}:function(t,e){return e&&-1==t.indexOf(e)}}function l(t,e,i){if(e&&e.nodeType){var n=0,r=t.length;!!e.getAttribute("id")||e.setAttribute("id",a());for(var s=[];n<r;)s.push("#"+e.getAttribute("id")+" "+t[n++]);return i(s.join(","),e,!0)}}Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(D(e,t))return e;e=e.parentElement}});var f=function t(e,i,n){if("string"==typeof e)return c(t,c,e,n);if(null!=e){p(e)||(e=[e]);for(var r,s=0,o=[],a=e.length;s<a;s++)(r=e[s])&&n(r,i)&&o.push(r);return o}},d=function t(e,i,n){if("string"==typeof e)return c(t,c,e,n);if(null!=e){if(!p(e))return r(e[n],i);for(var s,a,l=o(i),h=0,u=[],f=e.length;h<f;h++)(s=e[h])&&l(u,a=s[n],i)&&u.push(a);return u}},m=function t(e,i,n){if("string"==typeof e)return c(t,c,e);if(null!=e){p(e)||(e=[e]);for(var r=[],s=i?b.is(i):function(){return!0},o=0,a=e.length;o<a;o++){var l=e[o];do{(l=n(l))&&-1==r.indexOf(l)&&s(l)&&r.push(l)}while(l)}return r}},v=function t(e,i,n,r){if("string"==typeof e)return c(t,c,e,n,r);if(null!=e){if(p(e)||(e=[e]),!i)return n(e);var s,o=[],a=[];do{for(var l=0,h=(e=r(e)).length;l<h;l++)(s=e[l])&&M(s,i)&&-1==o.indexOf(s)&&(o.push(s),a.push(s));e=a,a=[]}while(h);return o}};function y(t,i,n){var r,s,o,a=[],l=9==i.nodeType||11==i.nodeType?i:i.ownerDocument,c=n||"string"==typeof t;if(!i||i.document||!t||c&&!t.trim())return a;if(t.document||t.nodeType&&9==t.nodeType)return h(t,a);if(c)return(o=e.exec(t))?(r=o[1])&&l.getElementById&&(s=l.getElementById(r))&&b.contains(i,s)?h(s,a):(r=o[3])&&i.getElementsByClassName?h(i.getElementsByClassName(r),a):(r=o[2])&&i.getElementsByTagName?h(i.getElementsByTagName(r),a):h(i.querySelectorAll(t),a):h(i.querySelectorAll(t),a);if(u(t))return u(i)&&b.contains(i,t)?h(t,a):a;if(!c&&p(t)){if(!u(i))return h(t,a);for(var f,d=0,g=t.length;d<g;d++)b.contains(i,f=t[d])&&a.push(f)}return a}function _(t,i,n){var r,s,o,a=n||"string"==typeof t;if(i&&t&&(!a||t.trim()))return a?(s=e.exec(t))?(r=s[1])&&(o=9==i.nodeType||11==i.nodeType?i:i.ownerDocument).getElementById?o.getElementById(r)||void 0:(r=s[3])&&i.getElementsByClassName?i.getElementsByClassName(r)[0]:(r=s[2])&&i.getElementsByTagName?i.getElementsByTagName(r)[0]:i.querySelector(t)||void 0:i.querySelector(t)||void 0:t.document||t.nodeType&&9==t.nodeType?t:u(t)?u(i)&&b.contains(i,t)?t:void 0:!a&&p(t)?t[0]:void 0}function b(t){return y(t,i)}function x(t){return _(t,i)}b.children=function t(e,i){if("string"==typeof e)return c(t,c,e);if(null!=e){p(e)||(e=[e]);for(var n,r=0,s=[],o=e.length;r<o;r++)if(e[r]&&(n=e[r].children))for(var a,l=0,h=n.length;l<h;l++)(a=n[l])&&-1==s.indexOf(a)&&s.push(a);return i?b.filter(s,i):s}},b.closest=function t(e,i){if(1==arguments.length)return c(t,c,e);if(null!=e){if(!p(e))return e.closest(i)||void 0;for(var n,r,s=0,o=[],a=e.length;s<a;s++)(n=e[s])&&(r=n.closest(i))&&-1==o.indexOf(r)&&o.push(r);return o}},b.closest2=function t(e,i){if(1==arguments.length)return c(t,c,e);if(null!=e){if(!p(e))return D(e,i)?e:b.find1(e,i);for(var n,r,s=0,o=[],a=e.length;s<a;s++)(n=e[s])&&(r=D(n,i)?n:b.find1(n,i))&&-1==o.indexOf(r)&&o.push(r);return o}},b.contains=n.contains?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},b.contents=function(t){if(null!=t){p(t)||(t=[t]);for(var e,i,n=0,r=[],s=t.length;n<s;n++)if((i=t[n])&&(e=i.childNodes))if(i.contentDocument)r.push(i.contentDocument);else for(var o,a=0,l=e.length;a<l;a++)(o=e[a])&&-1==r.indexOf(o)&&r.push(o);return r}},b.eq=function t(e,i){return 1==arguments.length?c(t,c,e):null!=e?(p(e)||(e=[e]),e[i]):void 0},b.filter=c(f,c,c,D),b.find=function t(e,i){if(1==arguments.length&&"string"==typeof e)return c(t,c,e);if(null!=e){p(e)||(e=[e]);for(var n=g(e),r="string"==typeof i,o=r?function(t){return l(i.split(","),t,y)||[]}:function(t){return y(i,t)},a=0,h=[];a<n;a++)for(var u,f=0,d=o(s(e[a])),m=d.length;f<m;f++)(u=d[f])&&-1==h.indexOf(u)&&h.push(u);return h}},b.find1=function t(e,i){if(1==arguments.length&&"string"==typeof e)return c(t,c,e);if(null!=e){p(e)&&(e=e[0]);var n="string"==typeof i,r=n?function(t){return l(i.split(","),t,_)}:function(t){return _(i,t)};return r(s(e))}},b.has=function t(e,i){if(1==arguments.length)return c(t,c,e);if(null!=e){var n=b.find(e,i);if(!p(e))return n.length?e:void 0;for(var r,s=n.length,o=0,a=[],l=e.length;o<l;o++)if(r=e[o])for(var h=0;h<s;h++)b.contains(r,n[h])&&-1==a.indexOf(r)&&a.push(r);return a}},b.is=function t(e,i){if(1==arguments.length)return c(t,c,e);if(null!=e){if(!p(e))return D(e,i);for(var n,r=0,s=e.length;r<s;r++)if((n=e[r])&&D(n,i))return!0;return!1}},b.next=c(d,c,c,"nextElementSibling"),b.next_all=b.nextAll=c(m,c,c,b.next),b.next_until=b.nextUntil=c(v,c,c,b.nextAll,b.next),b.not=c(f,c,c,M),b.parent=function t(e,i){if("string"==typeof e)return c(t,c,e);if(null!=e){if(!p(e))return r(e.parentElement,i);for(var n,s,a=o(i),l=0,h=[],u=e.length;l<u;l++)(s=e[l])&&a(h,n=s.parentElement,i)&&h.push(n);return h}},b.parents=function t(e,i){if("string"==typeof e)return c(t,c,e);if(null!=e){p(e)||(e=[e]);var n,r=[],s=i?function(t,e){return b.closest(b.parent(t),e)}:b.parent;do{for(var o=0,a=(e=s(e,i)).length;o<a;o++)(n=e[o])&&-1==r.indexOf(n)&&r.push(n)}while(a);return r}},b.parents_until=b.parentsUntil=c(v,c,c,b.parents,b.parent),b.prev=c(d,c,c,"previousElementSibling"),b.prev_all=b.prevAll=c(m,c,c,b.prev),b.prev_until=b.prevUntil=c(v,c,c,b.prevAll,b.prev),b.siblings=function t(e,i){if("string"==typeof e)return c(t,c,e);if(null!=e){p(e)||(e=[e]);for(var n,r,s=o(i),a=0,l=[],h=e.length;a<h;a++)if((n=e[a])&&(r=n.parentNode))for(var u,f=0,d=r.children,g=d.length;f<g;f++)s(l,u=d[f],i)&&u!=n&&l.push(u);return l}},b.sel=t.$=t.D=b,b.sel1=t.$1=t.D1=x;for(var w={},S=Object.keys(b),T=0;T<S.length;)w[S[T++]]={}}(),function(e){function s(t){return null!=t&&t==t.window}function a(t){return s(t)||s(t[0])}function l(t){return null!=t&&9==t.nodeType}function h(t){return l(t)||l(t[0])}function d(t){return void 0!==t&&(u(t)||Array.isArray(t)&&(!t.length||u(t[0])))}function C(t){return"border-box"==e.css(t,"boxSizing")}function P(t,e){return t&&t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function M(t){return O(t)?parseFloat(t):t}var A=function t(e,i,n){if(!d(e))return c(t,c,e,n);if(null!=e)return p(e)?v(e,r):r(e,0);function r(t,e){var r=E(i)?i(e,t):i;return r&&(/\s/.test(r)?v(r.split(" "),(function(e){e&&t.classList[n](e)})):t.classList[n](r)),t}};e.add_class=e.addClass=c(A,c,c,"add"),e.remove_class=e.removeClass=c(A,c,c,"remove"),e.toggle_class=e.toggleClass=c(A,c,c,"toggle"),e.has_class=e.hasClass=function t(e,i){if(1==arguments.length)return c(t,c,e);if(null!=e)return p(e)?void 0!==w(e,n):n(e);function n(t){return/\s/.test(i)?!!w(i.split(" "),(function(e){return t.classList.contains(e)})):t.classList.contains(i)}},e.attr=function t(i,n,r){if(null!=i){if(!d(i)){if(1==arguments.length)return c(t,c,i);if(2==arguments.length)return c(t,c,i,n)}if(E(r)){function s(e,i){return t(e,n,r(i,e.getAttribute(n),e))}return p(i)?v(i,s):s(i)}if(2==arguments.length&&f(n)){var o=function(t){var e=t.getAttribute(n);if(null!=e)return O(e)?parseFloat(e):"true"==e||"false"!=e&&("null"==e?null:e)};return p(i)?b(i,o):o(i)}return n.constructor==Object?(y(n,(function(e,n){t(i,n,e)})),i):void 0===r?i:null===r?e.remove_attr(i,n):(p(i)?v(i,a):a(i),i)}function a(t){return t.setAttribute(n,r)}},e.remove_attr=e.removeAttr=function t(e,i){if(f(e))return c(t,c,e);if(null!=e&&i)return p(e)?v(e,n):n(e),e;function n(t){t.removeAttribute(i)}};var j={animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0};function L(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()}))}function I(t,e){return O(t)?j[e]?t:t+"px":t}e.css=function t(e,i,n){if(null!=e){if(!d(e)){if(1==arguments.length)return c(t,c,e);if(2==arguments.length)return c(t,c,e,i)}if(2==arguments.length&&null!=i.length){var r=Array.isArray(i)?function(t){return i.reduce((function(e,i){return e[i=L(i)]=t.ownerDocument.defaultView.getComputedStyle(t,null)[i],e}),{})}:function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)[L(i)]};return p(e)?b(e,r):r(e)}var s=f(i)?function(t,e){var r=E(n)?n(e,t):n;("width"==(i=L(i))||"height"==i)&&n<0&&(n=0),t.style[i]=I(r,i)}:function(t){y(i,(function(e,i){("width"==(i=L(i))||"height"==i)&&e<0&&(e=0),t.style[i]=I(e,i)}))};return p(e)?v(e,s):s(e),e}},e.remove=function t(i,n){if(null!=i){if(f(i))return c(t,c,i);if(n){function r(t){return D(t,n)}if(p(i))i=i.filter(r);else if(!r(i))return i}return p(i)?v(i,s):s(i)}function s(t){if(t.parentNode)return t.parentNode.removeChild(t),e.trigger(t,"removed"),t}};var z=function t(i,n,r,s){if(null!=i)return u(i)||u(i[0])?void 0===n?p(i)?r(i):i[s]:p(i)?v(i,o):o(i,0):c(t,c,i,r,s);function o(t,i){var r=E(n)?n(i,t[s]):n;return"innerHTML"==s&&"string"!=typeof r?(t.innerHTML="",e.append(t,r),t):(void 0!==r&&(t[s]=r),t)}},R=function t(i,n,r){return n?(f(n)&&(n=e(n)),r(n,i)):c(t,c,i,r)};function Y(t,n){function s(e,i){var r=e.length-1||0,s={append:function(t,e){return"TABLE"==t.nodeName&&(t=t.firstChild),t.appendChild(r==e?i:i.cloneNode(!0))},prepend:function(t,e){return"TABLE"==t.nodeName&&(t=t.firstChild),t.insertBefore(r==e?i:i.cloneNode(!0),t.firstChild)},after:function(t,e){return t.parentNode.insertBefore(r==e?i:i.cloneNode(!0),t.nextSibling)},before:function(t,e){return t.parentNode.insertBefore(r==e?i:i.cloneNode(!0),t)}};if(p(e)){if(n)return b(e,s[t]);v(e,s[t])}else s[t](e,0);return n?i:e}return function o(a,l){if(1==arguments.length)return c(o,c,a);var h=a,d=l;if(n&&(h=f(l)?e(l):l,d=a),null!=h){if(arguments.length>2&&(d=k(r.call(arguments,1))),u(d))return s(h,d);if(!n&&E(d)){var g=d,m=function(t,e){return o(t,g(e,t.innerHTML))};return p(h)?v(h,m):m(h,0)}if(null==d)return n?d:h;if(f(d)||O(d)){if(/^\s*<(\w+|!)[^>]*>/.test(d))return n?o(e.html_to_el(d),h):o(h,e.html_to_el(d));if(!n)return s(h,i.createTextNode(d));d=e(d)}if(p(d))if("append"==t){if(n)return k(b(d,(function(t){return o(t,h)})));v(d,(function(t){o(h,t)}))}else{if(n)return k(x(d,(function(t){return o(t,h)})));_(d,(function(t){o(h,t)}))}return n?d:h}}}e.text=c(z,c,c,(function(t){return t.reduce((function(t,e){return t+e.textContent}),"")}),"textContent"),e.html=c(z,c,c,(function(t){return t[0].innerHTML}),"innerHTML"),e.textTo=e.text_to=c(R,c,c,e.text),e.htmlTo=e.html_to=c(R,c,c,e.html),e.append=Y("append"),e.prepend=Y("prepend"),e.appendTo=e.append_to=Y("append",!0),e.prependTo=e.prepend_to=Y("prepend",!0),e.after=Y("after"),e.before=Y("before"),e.insertAfter=e.insert_after=Y("after",!0),e.insertBefore=e.insert_before=Y("before",!0);var N={};function B(t){var i,n=t.nodeName,r=N[n];if(r)return r;var s=t.ownerDocument;return i=s.body.appendChild(s.createElement(n)),r=e.css(i,"display"),i.parentNode.removeChild(i),"none"==r&&(r="block"),N[n]=r}function F(i,n){if(null!=i){var r=n?function(t){"none"==t.style.display?(t.style.display=t._prev_display?t._prev_display:B(t),e.trigger(t,"show")):(t.hidden||"none"==t.ownerDocument.defaultView.getComputedStyle(t,null).display)&&(t.style.display=B(t),e.trigger(t,"show"))}:function(i){var n=i.style.display||t.getComputedStyle(i).display;"none"!=n&&(n&&(i._prev_display=n),i.style.display="none",e.trigger(i,"hide"))};return p(i)?v(i,r):r(i),i}}e.show=c(F,c,!0),e.hide=c(F,c,!1),e.toggle=function(t,i){if(null!=t)return"boolean"==typeof i?e[i?"show":"hide"](t):(p(t)?v(t,n):n(t),t);function n(t){e[function(t){return"none"==t.style.display||""==t.style.display&&t.ownerDocument&&e.contains(t.ownerDocument,t)&&"none"==e.css(t,"display")}(t)?"show":"hide"](t)}},e.clone=function(t){if(null!=t)return p(t)?b(t,e):e(t);function e(t){return t.cloneNode(!0)}},e.empty=function(t){if(null!=t)return p(t)?v(t,e):e(t),t;function e(t){t.innerHTML=""}};function H(e,i,r){function s(t,e){var i=t.body||t[0].body;return"width"==e?Math.max(i.offsetWidth,i.scrollWidth,n.offsetWidth,n.offsetWidth,n.clientWidth):Math.max(i.offsetHeight,i.scrollHeight,n.offsetHeight,n.offsetHeight,n.clientHeight)}function l(e,i,n,r){return function(s){var a,l;"width"==n?(a="Left",l="Right"):(a="Top",l="Bottom");var c,h,u=t.getComputedStyle(s),f=parseFloat(u["border"+a+"Width"])||0,d=parseFloat(u["border"+l+"Width"])||0,p=parseFloat(u["padding"+a])||0,g=parseFloat(u["padding"+l])||0,m=C(s);function v(t){var e=parseFloat(u[t])||0;return o&&m?e+f+d+p+g:e}if("none"==u.display){var y=s.style.display;s.style.display=s._prev_display||"block",c=v(n),s.style.display=y}else c=v(n);switch(i){case 1:var _=parseFloat(u["margin"+a]),b=parseFloat(u["margin"+l]);h=e?r?C(s)?c+_+b:c+p+g+f+d+_+b:C(s)?c:c+p+g+f+d:C(s)?0:-(p+g+f+d);break;case 2:h=e?C(s)?c-f-d:c-f-d+p+g:C(s)?f+d:-(p+g);break;case 3:h=e?C(s)?c-d-f-p-g:c:C(s)?p+g+f+d:0}return h}}return function t(n,o){if(null!=n){if(!d(n)&&!a(n)&&!h(n)&&0!=n.length)return c(t,c,n);var u=l(!0,e,i,o);if(1==arguments.length||1==o)return a(n)?p(n)?b(n,(function(t){return t[r]})):n[r]:h(n)?s(n,i):p(n)?b(n,u):u(n);var f=E(o)?function(t,e){var i=o(e,u(t),t);i&&g(t,i)}:function(t){g(t,o)};return p(n)?v(n,f):f(n),n}function g(t,n){var r=l(!1,e,i)(t)+parseFloat(n),s=r<0?0:r;t.style[i]=s+"px"}}}function X(t){return t.selected}function W(t){return M(t.value)}function $(e,i,n,r){var s,o="pageYOffset"==n,l=(a(s=e)||!!h(s))&&t;return null==i?l?l[n]:e[r]:(l?l.scrollTo(o?l.pageXOffset:i,o?i:l.pageYOffset):e[r]=i,e)}e.width=H(3,"width","innerWidth"),e.innerWidth=H(2,"width","innerWidth"),e.inner_width=e.innerWidth,e.outerWidth=H(1,"width","clientWidth"),e.outer_width=e.outerWidth,e.height=H(3,"height","innerHeight"),e.innerHeight=H(2,"height","innerHeight"),e.inner_height=e.innerHeight,e.outerHeight=H(1,"height","clientHeight"),e.outer_height=e.outerHeight,e.offsetParent=function(t){if(null!=t)return p(t)?b(t,i):i(t);function i(t){for(var i=t.offsetParent;i&&"static"===e.css(i,"position");)i=i.offsetParent;return i||n}},e.position=function(t){if(null!=t)return p(t)?b(t,i):i(t);function i(t){var i,r,s={top:0,left:0};return"fixed"===e.css(t,"position")?r=t.getBoundingClientRect():(i=e.offsetParent(t),r=e.offset(t),P(i,"html")||(s=e.offset(i)),s={top:s.top+i.clientTop,left:s.left+i.clientLeft}),{top:r.top-s.top-parseFloat(e.css(t,"marginTop"))+n.clientTop,left:r.left-s.left-parseFloat(e.css(t,"marginLeft"))+n.clientLeft}}},e.offset=function i(r,s){if(null!=r){if(!d(r))return c(i,c,r);if(s){function o(t,n){if(E(s))return i(t,s(n,a(t),t));var r,o,l,c,h,u,f=e.css(t,"position"),d={};return"static"===f&&(t.style.position="relative"),h=e.offset(t),l=e.css(t,"top"),u=e.css(t,"left"),("absolute"===f||"fixed"===f)&&(l+u).indexOf("auto")>-1?(c=(r=e.position(t)).top,o=r.left):(c=parseFloat(l)||0,o=parseFloat(u)||0),null!=s.top&&(d.top=s.top-h.top+c),null!=s.left&&(d.left=s.left-h.left+o),e.css(t,d),t}return p(r)?b(r,o):o(r)}return p(r)?b(r,a):a(r)}function a(e){var i=e.getBoundingClientRect();return i.width||i.height?{top:i.top+t.pageYOffset-n.clientTop,left:i.left+t.pageXOffset-n.clientLeft}:{top:0,left:0}}},e.val=function t(e,i){if(null!=e){if(!d(e))return c(t,c,e);if(1==arguments.length){function n(t){if(P(t,"select"))return t.multiple?b(S(t.options,X),W):W(w(t.options,X));if("radio"==t.type||"number"==t.type)return M(t.value);var e=t.value;return"string"==typeof e?e.replace(/\r/g,""):null==e?"":e}return p(e)?b(e,n):n(e)}return p(e)?v(e,r):r(e,0),e}function r(e,n){if(E(i))return t(e,i(n,t(e),e));var r=i;if(null==i?r="":"number"==typeof i&&(r+=""),("radio"==e.type||"checkbox"==e.type)&&Array.isArray(i))return e.checked=f(w(i,(function(t){return t==e.value})));if(P(e,"select")){if(Array.isArray(i)){var s=i;return v(e.options,(function(t){t.selected=T(s,t.value)}))}return v(e.options,(function(t){t.selected=t.value==i}))}e.value=r}},e.html_to_el=function(t){var e,n;return/^<(tr|th|td).*><\/(tr|th|td)>$/.test(t)?((n=i.createElement("table")).innerHTML=t,n=n.firstChild,"tr"!=RegExp.$1&&(n=n.firstChild)):(n=i.createElement("div")).innerHTML=t,1==g(e=b(n.children,m))?e[0]:e},e.el=function(t){return f(t)?"<"==(t=t.trim())[0]?e.html_to_el(t):i.createElement(t):t},e.frag=function(t){if(f(t)){var e=i.createDocumentFragment();if(/^<.*>.*/.test(t)){var n=i.createElement("div");n.innerHTML=t;for(var r=0,s=n.children.length;r<s;r++)e.appendChild(n.children[0])}else e.appendChild(i.createElement(t));return e}},e.scrollTop=e.scroll_top=function(t,e){if(Array.isArray(t)&&1==t.length&&(t=t[0]),null!=t&&(d(t)||a(t)))return $(t,e,"pageYOffset","scrollTop")},e.scrollLeft=e.scroll_left=function(t,e){if(Array.isArray(t)&&1==t.length&&(t=t[0]),null!=t&&(d(t)||a(t)))return $(t,e,"pageXOffset","scrollLeft")}}(t.D),function(){var e=t.D,n={};t.handlers=n;var r={};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents";var s="onfocusin"in t,o={focus:"focusin",blur:"focusout"},a={mouseenter:"mouseover",mouseleave:"mouseout"},l=1;function h(t){return t._dtId||(t._dtId=l++)}function d(t){if(!t)return{};var e=t.indexOf(".");return e>0?{e:t.substring(0,t.indexOf(".")),ns:t.substring(e+1,t.length)}:{e:t}}function g(t){return a[t]||s&&o[t]||t}function m(t,e,i,r,s){return i=d(i),(n[h(t)]||[]).filter((function(t){return t&&(!i.e||t.e===i.e)&&(!i.ns||t.ns===i.ns)&&(!r||t.callback===r)&&(!e||t.selector===e)&&(void 0===s||t.delegated===s)}))}function _(t,e,i,r){if(p(t)&&!u(t)&&t!=t.window)return v(t,(function(t){_(t,e,i,r)}));if(!t._dtId)return t;var s=n[h(t)];return m(t,i,e,r).forEach((function(t){s.splice(s.indexOf(t),1)})),t}function x(t,i,r,s,o,l){if(!t)return t;if(p(t))return v(t,(function(t){x(t,i,r,s,o,l)}));if(m(t,i,r,s,o).length)return t;var c=h(t),u=d(r),f=n[c]||(n[c]=[]);u.callback=s,!o&&u.e in a&&(s=function(i){var n=i.relatedTarget;if(!n||n!==t&&!e.contains(t,n))return u.callback.apply(t,arguments)});var y=function(t,e){return function(i){if(i.delegateTarget=i.currentTarget=i.$delegateTarget=i.$currentTarget=t,!i.isImmediatePropagationStopped()){var n=e.call(t,i);return!1===n&&(i.preventDefault(),i.stopPropagation()),n}}}(t,o?function(t,i,n,r){return function(s){if(!s.isPropagationStopped()){for(var o,a=e.find(t,i),l=0,c=a.length;l<c;l++){var h=a[l];if(h===s.target||e.contains(h,s.target)){s.currentTarget=s.$currentTarget=o=h,s.delegateTarget=s.$delegateTarget=t;break}}if(o){if(!r)return s.$delegate_called=!0,n.apply(o,arguments);var u=s.relatedTarget;if(!u||u!==o&&!e.contains(o,u))return s.$delegate_called=!0,n.apply(o,arguments)}}}}(t,i,s,u.e in a):s);return u.selector=i,u.delegated=o,u.delegator=l?o?function(n){y(n),n.$delegate_called&&e.off(t,r,i,s)}:function(i){e.off(t,r,s),y(i)}:y,f.push(u),t["_don_event_"+g(u.e)]||(t["_don_event_"+g(u.e)]=!0,t.addEventListener(g(u.e),(function(i){i=k(i),v(function(t,i,n){return S(b(t,(function(t,r){return{el:S(e.find(i,t.selector),(function(t){return t==n||e.contains(t,n)})).sort((function(t,i){return e.contains(i,t)?-1:e.contains(t,i)?1:0}))[0],handler:t,i:r}})),(function(t){return t.el})).sort((function(t,i){return e.contains(i.el,t.el)?-1:e.contains(t.el,i.el)?1:t.i<i.i?-1:1}))}(m(t,null,u.e,null,!0),t,i.target),(function(t){t.handler.delegator(A({originalEvent:i},i))})),v(m(t,null,u.e,null,!1),(function(t){t.delegator(A({originalEvent:i},i))}))}),!1)),t}var w=function(){return!0},T=function(){return!1},C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(t){return t.isDefaultPrevented||(y(C,(function(e,i){var n=t[i];t[i]=function(){return t[e]=w,n&&n.apply(t,arguments)},t[e]=T})),t.timeStamp||(t.timeStamp=Date.now()),(void 0!==t.defaultPrevented?t.defaultPrevented:"returnValue"in t?!1===t.returnValue:t.getPreventDefault&&t.getPreventDefault())&&(t.isDefaultPrevented=w)),t}function E(t,e){t.dispatchEvent(e),e.isDefaultPrevented()||"submit"!=e.type||t.submit()}function O(t,e){var n=i.createEvent(r[t]||"Events"),s=!0;if(e)for(var o in e)"bubbles"==o?s=!!e[o]:n[o]=e[o];return n.initEvent(t,s,!0),k(n)}function P(t){return t.then((function(t){return t.ok?204!==t.status&&t.json():Promise.reject(t)}))}function D(t,e,i){return P(fetch(e,{method:t,body:JSON.stringify(i),headers:{"Content-Type":"application/json"},credentials:"same-origin"}))}e.on=function t(e,i,n,r){if(null!=e)return 2==arguments.length?c(t,c,e,i):3==arguments.length?f(e)?c(t,c,e,i,n):x(e,null,i,n,!1):x(e,n,i,r,!0)},e.on2=function t(i,n,r,s){if(null!=i){if(2==arguments.length)return c(t,c,i,n);if(3==arguments.length&&f(i))return c(t,c,i,n,r);var o=3==arguments.length?r:s;return 3==arguments.length?e.on(i,n,a):e.on(i,n,r,a)}function a(t){if(!e.has_class(t.currentTarget,"__don_on2_ing__"))return e.add_class(t.currentTarget,"__don_on2_ing__"),Promise.resolve(t).then(o).then(i).catch((function(t){console.error(t),i()}));function i(){return e.remove_class(t.currentTarget,"__don_on2_ing__")}}},e.on3=function t(i,n,r,s){var o=null;if(null!=i){if(2==arguments.length)return c(t,c,i,n);if(3==arguments.length&&f(i))return c(t,c,i,n,r);var a=3==arguments.length?r:s;return 3==arguments.length?e.on(i,n,l):e.on(i,n,r,l)}function l(t){if(!o)return o=!0,Promise.resolve(t).then(a).then(e).catch((function(t){console.error(t),e()}));function e(){o=null}}},e.off=function t(e,i,n,r){if(null!=e)return f(e)?2==arguments.length?c(t,c,e,i):c(t,c,e,i,n):f(n)?_(e,i,n,r):_(e,i,null,n)},e.one=e.once=function t(e,i,n,r){if(null!=e)return 2==arguments.length?c(t,c,e,i):3==arguments.length?f(e)?c(t,c,e,i,n):x(e,null,i,n,!1,!0):x(e,n,i,r,!0,!0)},e.trigger=function t(e,i,n){if(null!=e)return 1==arguments.length?c(t,c,e):p(e)&&!u(e)&&e!=e.window?v(e,(function(t){E(t,O(i,n))})):(E(e,O(i,n)),e)},e.get=function(t,i){return P(fetch(function(t,e){return e?(t+"&"+e).replace(/[&?]{1,2}/,"?"):t}(t,e.param(i)),{headers:{"Content-Type":"application/json"},credentials:"same-origin"}))},e.post=c(D,"POST"),e.put=c(D,"PUT"),e.patch=c(D,"PATCH"),e.delete=e.del=c(D,"DELETE"),e.upload=function(t,i){return i=i||{},new Promise((function(n,r){if(null==t)return r("input or form Not existed");if("INPUT"==t.nodeName){for(var s,o=new FormData,a=t.files,l=0;s=a[l];++l)o.append("files[]",s);setTimeout((function(){t.type="",t.type="file"}),0),t.disabled=!1}else o=t;var c=i.is_multiple||t.multiple,h=new XMLHttpRequest,u=e.UPLOAD_URL||"/@api/file";i&&(y(i.data,(function(t,e){o.append(e,t)})),u=i.url||u,i.progress&&(h.upload.onprogress=function(t){t.lengthComputable&&i.progress(t.loaded/t.total*100,t)})),h.open(i.method||"POST",u,!0),h.onload=function(){var t=JSON.parse(h.response);return h.status>=200&&h.status<300||304==h.status?n(c?t:t[0]||t):r(h)},h.send(o)}))},e.upload2=function(t,i){return i.is_multiple=!0,e.upload(t,i)},e.query_to_object=function(t){var e=t.split("?").slice(1).join("?");return e?JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(t,e){return""===t?e:decodeURIComponent(e)})):{}},e.param=function(t){if(null!=t){var e=[],i=/\[\]$/,n=Array.isArray,r=function(t,i){i="function"==typeof i?i():null==i?"":i,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(i)},s=function(t,o){var a,l,c;if(t)if(n(o))for(a=0,l=o.length;a<l;a++)i.test(t)?r(t,o[a]):s(t+"["+("object"==typeof o[a]?a:"")+"]",o[a]);else if(o&&"[object Object]"===String(o))for(c in o)s(t+"["+c+"]",o[c]);else r(t,o);else if(n(o))for(a=0,l=o.length;a<l;a++)r(o[a].name,o[a].value);else for(c in o)s(c,o[c]);return e};return s("",t).join("&").replace(/%20/g,"+")}}}()}(window),G.$form_$to_attrs=function(t){return _p.reduce($.find(t,"[name]"),(function(t,e){return"checkbox"==e.type?(t[e.name]=e.checked,t||void 0):(("radio"!=e.type||e.checked)&&(t[e.name]=(i=$.val(e),$.attr(e,"don_number")?parseFloat(i):"string"==typeof i?i.trim():i)),t);var i}),{})},G.$notice_item_$close=__($.remove_class("selected"),$.find(".detail"),$.remove),G.$this_targets=function(t){return this.$currentTarget=this.$cTarget=t.$currentTarget,this.$delegateTarget=this.$dTarget=t.$delegateTarget,this.target=t.target,t},G.update_query_str=function(t,e,i){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),r=t.split("#");t=r[0];var s=r[1]?"#"+r[1]:"",o=-1!==t.indexOf("?")?"&":"?";return(t.match(n)?t.replace(n,"$1"+e+"="+i+"$2"):t+o+e+"="+i)+s},G.query_str=function(t){return t?t.split("#")[0].replace(/(^\?)/,"").split("&").map(function(t){return this[(t=t.split("="))[0]]=t[1],this}.bind({}))[0]:{}},G.is_mobile_size=function(){return $.width($1("html"))<1025},G.is_pc_size=function(){return!G.is_mobile_size()},G.copy_clipboard=function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)},G.change_title=function(t){$.text($1("title"),"MARPPLE"+(t?" - "+t:""))},G.change_window=function(t){if(!window.is_ie){var e=!1;_p.go(window,$.on("focus",(function(){if(e){if(e=!1,t)return t();window.location.reload()}})),$.on("blur",(function(){e=!0})))}},function(t){_p.each(["get","post","put","del","patch","delete"],(function(e){var i=t[e];t[e]=function(t,e,n){return t=t.match(/^\/@api/)?"/"+T.lang+t:t,i(t,e,n)}})),t.delete=t.del;var e=t.upload;t.upload=function(i,n){return(n=n||{}).url=n.url||t.UPLOAD_URL||"/@api/file",n.url=n.url.match(/^\/@api/)?"/"+T.lang+n.url:n.url,e(i,n)}}($),function(t,e){var i="from-image"==getComputedStyle(document.body).imageOrientation;function n(t,e,i,n,r,s){switch(i>4&&i<9?(t.width=r,t.height=n):(t.width=n,t.height=r),i){case 2:e.transform(-1,0,0,1,n,0);break;case 3:e.transform(-1,0,0,-1,n,r);break;case 4:e.transform(1,0,0,-1,0,r);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,r,0);break;case 7:e.transform(0,-1,-1,0,r,n);break;case 8:e.transform(0,-1,1,0,0,n)}e.drawImage(s,0,0,n,r)}function r(t){if(!i){var e=new DataView(t.target.result);if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,r=2;r<n;){var s=e.getUint16(r,!1);if(r+=2,65505==s){if(1165519206!=e.getUint32(r+=2,!1))return-1;var o=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,o);var a=e.getUint16(r,o);r+=2;for(var l=0;l<a;l++)if(274==e.getUint16(r+12*l,o))return e.getUint16(r+12*l+8,o)}else{if(65280!=(65280&s))break;r+=e.getUint16(r,!1)}}return-1}}function s(t,e){if(-1==t.indexOf(";base64,")){var i=(n=t.split(","))[1];return new Blob([i],{type:e})}for(var n=t.split(";base64,"),r=(i=window.atob(n[1])).length,s=new Uint8Array(r),o=0;o<r;++o)s[o]=i.charCodeAt(o);return new Blob([s],{type:e})}e.mobile_check=function(){return t=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4));var t},e.mobile_tablet_check=function(){return t=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4));var t},e.isolatedScroll=function(t,i){function n(t){var i=t.originalEvent&&t.originalEvent.wheelDelta||t.deltaY||-t.detail||t.wheelDelta,n=this.scrollTop+e.outerHeight(this)-this.scrollHeight>=0,r=this.scrollTop<=0;(i<0&&n||i>0&&r)&&t.preventDefault()}return e.on(t,"DOMMouseScroll"+(i?"."+i:""),n),e.on(t,"mousewheel"+(i?"."+i:""),n),t},e.isolatedScroll2=function(t){if(t){var i=e.outerHeight(t);return e.on(t,"DOMMouseScroll.isolated_scroll2",n),e.on(t,"mousewheel.isolated_scroll2",n),t}function n(n){if(i-t.scrollHeight!=0){var r=n.originalEvent&&n.originalEvent.wheelDelta||n.deltaY||-n.detail||n.wheelDelta,s=this.scrollTop+e.outerHeight(this)+28-this.scrollHeight>=0,o=this.scrollTop<=0;n.stopPropagation(),(r<0&&s||r>0&&o)&&n.preventDefault()}}},e.isolatedScroll2_off=function(t){return e.off(t,"DOMMouseScroll.isolated_scroll2"),e.off(t,"mousewheel.isolated_scroll2"),t},e.don_loader_start=function(i,n,r){return t.go(e(".don_loader_wrap"),e.remove,t.noop,t.t$("      .don_loader_wrap        .don_loader_img"),e.el,n?e.css(n):t.idtt,e.appendTo(i||"body"),t.tap((function(){r&&setTimeout((function(){e.don_loader_end()}),r)})))},e.don_loader_end=function(t){return e.remove(e.find1(t||$1("body"),".don_loader_wrap"))},e.don_loader_start3=function(i,n,r){return e.don_loader_end(),t.go(e(".don_loader_wrap3"),e.remove,t.noop,t.t$('      .don_loader_wrap3        .content          .body            .msg {{T("marpple_shop_select_page::Thumbnails are being created.")}}            .msg {{T("marpple_shop_select_page::Please, wait for a moment.")}}            .atebits-loader            '),e.el,n?e.css(n):t.idtt,e.appendTo(i||"body"),t.tap((function(){r&&setTimeout((function(){e.don_loader_end3()}),r)})))},e.don_loader_end3=function(){return e.remove(e(".don_loader_wrap3"))},e.don_loader_end2=function(t){return e.remove(e.find1(t,".don_loader_wrap2"))},e.post_load=function(t,i){return e.don_loader_start(),e.post(t,i)},e.post_load2=function(i,n){return e.don_loader_start(),t.go(e.post(i,n),t.tap(t.noop,e.don_loader_end))},e.component=e.ui={pagination:function(i,n,r){if(i=$1(i)){var s,o=e.find1(i,".don_pgn_wrap"),a=e.find1(i,".don_pagination"),l=t.t("page",'      .pagination-wrap[style="visibility:hidden;"]        button.prev[type=button]        input.page_num[type=number value="{{page}}" min=1]        div.zzz ...        button.next[type=button]        .message'),c={lists:{}},h=t.extend({data:{limit:20},real_data:t.noop,is_memoize:!1,is_url_state:!0,render_server:!0,paging_animate:e.html},t.isFunction(n)?n():n),u=window.box.sel(i);return t.go(i,t.tap(h.get_page=function(){var t=h.is_url_state?parseInt(G.query_str(location.search).offset):0;return t?t/h.data.limit+1:1},t.all(t.always(a),l),e.html),t.tap((function(){var n=e.find1(a,".message"),l=e.find1(a,"input.page_num"),f=e.find(a,"button"),d=e.val(l),p=parseInt(e.val(l)),g=!1;e.on(l,"focus",(function(){e.val(l,"")})),e.on(l,"blur",(function(){e.val(l,p)})),e.on(l,"change",(function(){if(g)return e.val(l,p);g=!0;var a=parseInt(e.val(l));p=a,t.go(void 0,(function(){if(e.text(n,""),a>=1)return l.dataset=l.dataset||{},l.dataset.before_val=a,a;l.dataset=l.dataset||{},e.val(l,l.dataset.before_val||d),e.text(n,t.i("잘못된 페이지 입니다."))}),t.all(h["function ajax_call~2"]=t.if2(t.is_numeric)(__((function(e){return h.data.offset=e?(e-1)*h.data.limit:0,t.mr(e,c.lists[e])}),t.tap((function(){s=setTimeout((function(){e.don_loader_start(i)}),200)})),t.if2((function(t,e){return h.is_memoize&&e&&e.length}))((function(t,e){return e})).else(__((function(i){return t.mr(i,e.get(h.url,t.extend({},h.data,h.real_data())))}),(function(e,n){return t.isArray(u)&&window.box.set(i,n),c.lists[e]=n}))),r,e.el,t.all(t.always(o),(function(t){return null==t?"":t}),t.always(i)),h.paging_animate)),t.if2(t.is_numeric)((function(){h.is_url_state&&window.history.replaceState(history.state,null,G.update_query_str(location.href,"offset",h.data.offset))}))),t.catch((function(){return e.html(o,'<div style="height: 300px;"></div>'),e.alert("페이지가 없습니다.")})),t.tap((function(){clearTimeout(s),e.don_loader_end(i)})),t.always(i),e.find(".don_pgn_container_loading"),e.remove,t.always(f),e.removeClass("ing"),(function(){g=!1}))})),e.on(f,"click",(function(i){var r=i.$currentTarget;if(!e.hasClass(r,"ing")){var s=e.hasClass(r,"next"),o=s?parseInt(l.max):1,a=parseInt(e.val(l)),c=a==o;if(!c||!e.has_class(n,"ing")){if(c)return anime({targets:e.text(e.addClass(n,"ing"),t.i((s?"마지막":"맨 앞")+" 페이지 입니다.")),duration:1e3,opacity:0,easing:"easeInOutQuart",delay:t.a(1e3)}).finished.then(__(t.a(n),e.removeClass("ing"),e.css({opacity:1}),e.text("")));e.text(e.removeClass(n,"ing"),""),e.addClass(f,"ing"),e.val(l,a+(s?1:-1)),e.trigger(l,"change")}}}));var m=e.find(a,".pagination-wrap");return h.render_server?e.css(m,{visibility:"visible"}):t.go(parseInt(e.val(l)),h["function ajax_call~2"],(function(){e.css(m,{visibility:"visible"})}))})))}}},e.get_data_url=function(e){return e=e||100,function(i){return t.go(new FileReader,t.cb((function(t,s){t.onload=function(t){return function(t,e,i,r){var s=new FileReader;s.onload=function(){if(/\.gif$/i.test(t.name))return r(s.result);var o=new Image;o.onload=function(){var t=o.width*i/o.height,s=i,a=document.createElement("canvas"),l=a.getContext("2d");n(a,l,e,t,s,o),r(a.toDataURL())},o.src=s.result},s.readAsDataURL(t)}(i,r(t),e,s)},t.readAsArrayBuffer(i)})))}},e.valid_files=function(e){var i=t.map(e.getAttribute("accept").split(","),(function(t){return(t||"").toLowerCase()})),n=!!t.find(e.files,(function(t){var e=(t.name.match(/\.[^/.]+$/)||[""])[0].toLowerCase();return-1==i.indexOf(t.type)&&-1==i.indexOf(e)}));return n&&(t.defer((function(){e.type="",e.type="file"})),e.disabled=!1),n},e.add_img_size_valid=function(i){return t.go(t.find(i.files,(function(i){if(!(-1==i.type.indexOf("image")||i.type.indexOf("tiff")>-1))return t.go(i,t.cb((function(i,n){if(i.size>26214400)return t.go(e.alert(T("File size is too large",{mb:25})),n);var r=new FileReader;r.onload=function(i){var r=new Image;r.onload=function(){return r.width<500&&r.height<500?t.go(e.alert(T("maker::At least 500px")),n):r.width>8e3||r.height>8e3?t.go(e.alert(T("maker::MAX 8000px")),n):n(!1)},r.src=i.target.result},r.readAsDataURL(i)})))})),(function(e){if(e)return t.defer((function(){i.type="",i.type="file"})),Promise.reject("add_img_size_valid")}))};var o=e.upload;e.upload_exif=function(i,a){return t.val(i,"files.length")?t.go((l=i.files,c=(c=a.max_resize)||5e3,t.find(l,(function(t){return t.size>10485760}))?Promise.reject("large"):t.go(l,t.map((function(e){return-1==e.type.indexOf("image")||e.type.indexOf("tiff")>-1||e.type.indexOf("gif")>-1?Promise.resolve({file:e,is_file:!0}):t.go(e,t.cb((function(t,e){var i=new FileReader;i.onload=e,i.readAsDataURL(t)})),t.cb((function(t,i){var n=new Image;n.onload=function(){i({image:n,file:e,width:n.width,height:n.height})},n.src=t.target.result})))})),t.map((function(t){return t.is_file?Promise.resolve({file:t.file,name:t.file.name}):new Promise((function(e){var i=new FileReader,o=t.width,a=t.height,l=t.file;i.onload=__(r,(function(i){var r=document.createElement("canvas");o>c&&(a*=c/o,o=c);var h=r.getContext("2d");n(r,h,i,o,a,t.image),e({file:s(r.toDataURL(l.type),l.type),name:l.name})})),i.readAsArrayBuffer(l)}))})))),t.filter(t.idtt),(function(e){if(!e.length)return{msg:""};var i=new FormData;return t.each(e,(function(t){i.append("files[]",t.file,t.name)})),delete a.max_resize,o(i,a)}),t.tap((function(){t.defer((function(){i.type="",i.type="file"}))})),t.catch((function(e){return t.defer((function(){i.type="",i.type="file"})),"cancel"==e?e:"large"==e?{msg:T("File size is too large",{mb:10})}:Promise.reject(e)}))):o(e.el('<input type="file">'),a);var l,c},e.uploadFileToUrl=function(t,e,i){i=i||"png";for(var n=atob(t.split(",")[1]),r=[],s=0;s<n.length;s++)r.push(n.charCodeAt(s));var a=new Blob([new Uint8Array(r)],{type:"image/"+i}),l=new FormData;return l.append("file",a,e+"."+i),o(l)},e.uploadFileToOnlyOriginalUrl=function(t){for(var i=t.url,n=t.original_name||"untitled",r=t.image_type||"png",s=atob(i.split(",")[1]),o=[],a=0;a<s.length;a++)o.push(s.charCodeAt(a));var l=new Blob([new Uint8Array(o)],{type:"image/"+r}),c=new FormData;return c.append("file",l,n+"."+r),e.upload(c,{url:"/@api/file_only_original"})},e.downloadUrl=function(t,i){e.don_loader_start();var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){try{var t=document.createElement("a"),r=window.URL||window.webkitURL;t.href=r.createObjectURL(n.response),t.download=i,t.style.display="none",document.body.appendChild(t),t.click(),e.don_loader_end(),URL.revokeObjectURL(t.href),e.remove(t),e.don_loader_end()}catch(t){throw e.don_loader_end(),t}},n.onerror=function(){e.don_loader_end()},n.open("GET",t),n.send()},e.safety_children=function i(n,r){return 1==arguments.length?t(i,t,n):e.children(n,r)[0]||e.appendTo(e.hide(e.el(t.t("","  "+r)())),n)},e.remove_delegate_target=function(t){return e.remove(t.$delegateTarget),t},e.selectable=__(t.val("$currentTarget"),t.tap(e.siblings(".selected"),e.remove_class("selected")),e.add_class("selected")),e.selectable2=__(t.tap(e.siblings(".selected"),e.remove_class("selected")),e.add_class("selected")),e.selectable3=__(t.tap(e.siblings(".selected"),e.remove_class("selected")),t.tap(e.parent,e.siblings,t.each(__(e.find1(".selected"),e.remove_class("selected")))),e.add_class("selected")),e.attr_selectable=function i(n,r){if(!r)return t(i,t,n);var s={};return s[r]=!0,t.go(n,t.tap(e.attr(s),e.siblings,t.tap((function(){s[r]=!1})),e.attr(s)))},e.toggle_attr=function i(n,r){return r?(e.attr(n,r)?e.attr(n,r,!1):e.attr(n,r,!0),e.attr(n,r)):t(i,t,n)},e.tooltip=function(i){var n=t.extend({data:{},template:t.t$("  .tooltip_empty"),class:"",target:"#header",auto_hide:!1,duration:2500,appending:t.idtt,appended:t.idtt,width:300},i);return box.set("__tooltip__",n.data),t.go($1("body"),e.on("click","#body",(function(t){$1(".don_tooltip")&&e.off(t.delegateTarget,"click","#body")}))),t.go(n.data,n.template,t.t$("        .don_tooltip[_sel=__tooltip__]          .arrow          .wrapper            {{$}}"),t.tap(n.appending),e.prepend_to($1("body")),e.add_class(n.class),(function(i){var r=t.is_element(n.target)?n.target:$1(n.target),s=e.offset(r),o=document.documentElement.clientWidth;G.is_pc_size()&&(o=n.no_max?o:Math.max(o,1280));var a=e.find1(i,".arrow"),l=o-(s.left+e.outerWidth(r));return e.css(i,{top:s.top+36,width:n.width}),o<=e.outerWidth(i)+l?(l=(o-n.width)/2,e.css(i,{right:l}),e.css(a,{left:s.left-2-l})):(e.css(i,{right:l-2}),e.css(a,{right:6.5})),t.go(i,t.tap(n.appended),t.tap(e.fade_in),(function(i){n.auto_hide&&t.delay((function(){return t.go(e.fade_out(i),e.remove)}),n.duration),box.unset("__tooltip__")}))}))},e.on_prevent_default=__(t.$("#body"),e.on("touchmove.prevent_default",(function(t){t.preventDefault()}))),e.off_prevent_default=__(t.$("#body"),e.off("touchmove.prevent_default")),e.frame_close_bg=__(e.prepend(t.t$("      .frame_close_bg    ")()),e.on("click",".frame_close_bg",(function(){e.frame.close()}))),e.iscroll_on=t.tap(t.$(".iscroll_wrapper"),t.each((function(t){if(t.myScroll)return t.myScroll.refresh();t.myScroll=new IScroll(t,{click:!0}),t.myScroll.scrollToElement(e.find1(t,">.iscroll_ul_wrapper >.i_item.selected"),0,!0,!0)}))),e.iscroll_horizontal_on=t.tap(t.$(".iscroll_wrapper_horizontal"),t.each((function(i){if(i.myScroll)return i.myScroll.refresh();t.go(i,e.find1(".iscroll_ul_wrapper"),t.add_arg(e.find(" > .i_item")),(function(i,n){var r=t.reduce(n,(function(t,i){return t+e.outerWidth(i,!0)}),0);return!(e.width(i)>r)&&(e.css(i,{width:r}),!0)}),(function(t){t&&(i.myScroll=new IScroll(i,{click:!0,scrollX:!0,scrollY:!1}),i.myScroll.scrollToElement(e.find1(i,">.iscroll_ul_wrapper >.i_item.selected"),0,!0,!0))}))}))),e.iscroll_pc_on=t.tap(e.find(".iscroll_wrapper"),t.each((function(t){if(t.myScroll)return t.myScroll.refresh();t.myScroll=new IScroll(t,{mouseWheel:!0,scrollbars:!0,fadeScrollbars:!0}),t.myScroll.scrollToElement(e.find1(t,">.iscroll_ul_wrapper >.i_item.selected"),0,!0,!0)}))),e.iscroll_off=t.tap(t.tap(e.find(".iscroll_wrapper_horizontal"),t.each((function(t){t.myScroll&&(t.myScroll.destroy(),t.myScroll=null)}))),e.find(".iscroll_wrapper"),t.each((function(t){t.myScroll&&(t.myScroll.destroy(),t.myScroll=null)}))),e.iscroll_to=function(t,e){t.myScroll.scrollToElement(e,500,!0,!0,IScroll.utils.ease.quadratic)},e.iscroll_to2=function(t,e){t.myScroll.scrollToElement(e,0,!0,!0)},e.biggest_span_size=function(i,n){return t.go(t.mr(i,n),t.t("arr, font_size",'        .wrapper_biggest_span_size[style="visibility:hidden;position:absolute;top:-500px;left:-500px; font-size:{{font_size}}px;"]          {{_.go(arr, ',t.sum(t.t$('            span[style="display:block;"] {{$}}          ')),")}}       "),e.append_to($1("body")),e.width,Math.ceil,t.tap((function(){e.remove($1(".wrapper_biggest_span_size"))})))},e.get_font_size1=function(i){var n=document.createElement("canvas");n.width=i.width,n.height=i.height;var r=n.width,s=n.height,o=n.getContext("2d");e.append_to(n,$1("body")),o.drawImage(i,0,0);var a=o.getImageData(0,0,n.width,n.height).data,l={};t.go(a,t.how_many(4*r),t.tap(t.map((function(e){return t.find_i(e,(function(t){return 0!==t}))})),t.reject((function(t){return-1===t})),t.min,t.tap((function(t){l.left=t/4}))),t.map((function(t){return t.reverse()})),(function(t){return t.reverse()}),t.map((function(e){return t.find_i(e,(function(t){return 0!==t}))})),t.reject((function(t){return-1===t})),t.min,t.tap((function(t){l.right=t/4})));var c={width:Math.round(r-l.right-l.left)};return o.fillStyle="blue",o.fillRect(0,0,l.left,s),o.fillRect(r-l.right,0,r,s),c},e.delegate_hide=__(t.val("$delegateTarget"),e.hide),e.stop_propagation=t.tap((function(t){t.stopPropagation()})),e.key_code=function(e){return function(){return t.if2(t.v("keyCode"),t.is_equal(e))(t.pipe(arguments))}},e.find_el_by_sel=function(i,n){return n?$1(i+'[_sel="'+n+'"]'):t(e.find_el_by_sel,i)},e.is_enter=e.key_code(13),e.val_len=function(t){return(e.val(t)+"").length},e.body_fixed=function(t,i){var n=$1("body");if(t){G.is_pc_size()&&e.height(n)>e.innerHeight(window)&&e.css(n,{"overflow-y":"scroll"});var r=-e.scroll_top(window);e.css(e.addClass(n,"fixed"),{top:r})}else{r=-parseInt(n.style.top);e.css(e.removeClass(n,"fixed"),{top:"","overflow-y":""}),i||e.scroll_top2(window,r)}},e.inner_fixed=function(t,i,n){var r=e.find1(t,i);if(n){var s=-e.scroll_top(t);e.css(t,{"overflow-y":"hidden"}),e.css(r,{top:s})}else{s=-parseInt(e.css(r,"top"));e.css(t,{"overflow-y":""}),e.css(r,{top:""}),e.scroll_top(t,s)}};var a,l=t.if2((function(t,e){return t&&!$1("#don_"+e)}))(__(t.spread(__(t.t("msg",'    .don_dialog_msg[tabindex=1]      .content        .body           .msg            {{msg}}        .footer          .buttons            button.cancel[type=button] {{T("dialog_msg::No")}}            button.ok[type=button] {{T("dialog_msg::Yes")}}    '),e.el),t.idtt),t.cb((function(i,n,r){var s=!!$1("body.fixed");s||e.body_fixed(!0),i.id="don_"+n;var o="alert"==n;o&&(e.remove(e.find1(i,".buttons > button.cancel")),e.html(e.find1(i,".buttons > button.ok"),T("dialog_msg::Ok"))),e.appendTo(i,"body"),i.focus();var a=t(l,!0);function l(t){setTimeout((function(){e.remove(i),r(t),s||e.body_fixed()}),0)}e.on(i,"keydown",__(t.val("keyCode"),t.if2(t.is_equal(27))(t(l,o)).else_if(t.is_equal(13))(a))),e.on(e.find1(i,".buttons > button.cancel"),"click",t(l,!1)),e.on(e.find1(i,".buttons > button.ok"),"click",a)}))));function c(t,e){return new Promise((function(i){a&&a.resolve(anime.remove(a.target)),e().then((a={target:t,resolve:function(){i(a=void 0)}}).resolve)}))}e.alert=t(l,t,"alert"),e.confirm=t(l,t,"confirm"),e.anime=function(e,i){return void 0!==i?anime(t.extend({targets:e},i)).finished:t.tap((function(i){return anime(t.extend({targets:i},e)).finished}))},e.fade=function(e,i,n,r){return t.go(anime({targets:e,opacity:n,duration:i||300,easing:r||"linear"}).finished,t.a(e))},e.fade_in=function(t,i,n){return e.fade(t,i,1,n)},e.fade_out=function(t,i,n){return e.fade(t,i,0,n)},e.scroll_top2=function(t,i,n){return arguments.length<2?e.scroll_top(t):(t&&t!=window||(t="html, body"),c(t,(function(){return anime({targets:t,scrollTop:i||0,duration:n||0,easing:"easeInOutQuart"}).finished})))},e.scroll_top_inner=function(i,n,r,s){var o=t.indexOf(n,r);return e.scroll_top2(i,o*e.innerHeight(r),s)},function(t){t=t||e.el('<button id="don_up" type="button"></button>'),s(),e.append($1("body"),t),e.on(t,"click",(function(t){if(e.has_class(t.currentTarget,"show"))return anime({targets:"html, body",scrollTop:0,duration:400,easing:"easeInOutQuart"})})),e.on(window,"scroll",s);var i=!1,n=e.scroll_top(window),r=3*window.innerHeight/2;function s(){var s=e.scroll_top(window),o=s<n,a=r<s;n=s,i?a&&o||(i=!1,e.removeClass(t,"show")):a&&o&&(i=!0,e.addClass(t,"show"))}}(),e.don_select=function(i,n){if(i&&!e.is(i,".don_select_wrapper")){i=e.add_class($1(i),"don_select_wrapper"),n=window.box.sel&&window.box.sel(i)||n;var r=e.attr(i,"current_value"),s=e.attr(i,"value_key")||"id",o=e.attr(i,"name_key")||"name",a=e.attr(i,"select_name")||"don_select",l=e.attr(i,"el_class"),c=e.attr(i,"el_id"),h=t.go(n,t.t$('      select.don_select[name="'+a+'"]        {{_.sum($, ',t.t$('        option[value="{{$.'+s+'}}"] {{$.'+o+"}}"),")}}      "),e.el,e.css({position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,display:G.is_pc_size()?"none":""}));t.each(e.find(h,"option"),(function(t){t.selected=t.value==r})),e.append(i,h);var u=t.find(n,(function(t){return t[s]==r}));u&&e.text(e.find1(i,"> .selected"),u[o]),e.on(h,"change",(function(r){var a=e.val(r.currentTarget),l=t.find(n,(function(t){return t[s]==a}));e.text(e.find1(i,"> .selected"),l[o]),e.attr(i,"current_value",l[s])})),G.is_pc_size()&&e.on(i,"click",">.selected",(function(){if(!$1("body > .don_select_list"))return t.go(n,t.t$('          .don_select_list            .selected_true {{_.find_where($, { "'+s+'" : "'+e.attr(i,"current_value")+'"}). '+o+"}}            ul              {{_.sum($, ",t.t$('              li[value="{{$.'+s+'}}"] {{$.'+o+"}}"),")}}"),e.el,e.add_class(l),e.attr({id:c}),e.css(t.extend({position:"absolute"},e.offset(i))),t.tap((function(n){var r=e.attr(i,"current_value");t.each(e.find(n,"li"),(function(t){e.attr(t,"selected",e.attr(t,"value")==r)}))})),e.appendTo($1("body")),e.on("click",'li[selected="false"]',(function(t){var i=e.find1(h,'option[value="'+e.attr(t.currentTarget,"value")+'"]');i&&(i.selected=!0),e.trigger(h,"change"),e.remove(t.delegateTarget),e.off(document,"click.don_selector")})),(function(){t.defer((function(){e.on(document,"click.don_selector",(function(t){var i=$1("body > .don_select_list");i&&!e.closest(t.target,".don_select_list")&&(e.remove(i),e.off(document,"click.don_selector"))}))}))}))}))}},e.img_onload=function(t){return new Promise((function(e,i){var n=new Image;n.src=t;var r=!1;n.onload=function(){r=!0,e(t)},setTimeout((function(){r||i(new Error("on_load error"))}),5e3)}))},e.active_loader_by_time=function(i,n){var r=!1,s=!1;return setTimeout((function(){r||(e.don_loader_start(),s=!0)}),i),t.go(n.then?n:n(),(function(t){return r=!0,s&&e.don_loader_end(),t}))}}(_p,$),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,(function(){"use strict";function t(){return te.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)o(e,i)&&(t[i]=e[i]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,i,n){return bt(t,e,i,n,!0).utc()}function c(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function h(t){if(null==t._isValid){var e=c(t),i=ee.call(e.parsedDateParts,(function(t){return null!=t})),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function u(t){var e=l(NaN);return null!=t?a(c(e),t):c(e).userInvalidated=!0,e}function f(t){return void 0===t}function d(t,e){var i,n,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=c(e)),f(e._locale)||(t._locale=e._locale),ie.length>0)for(i in ie)f(r=e[n=ie[i]])||(t[n]=r);return t}function p(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ne&&(ne=!0,t.updateOffset(this),ne=!1)}function g(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function y(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&v(t[n])!==v(e[n]))&&o++;return o+s}function _(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,i){var n=!0;return a((function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}_(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)}),i)}function x(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),re[e]||(_(i),re[e]=!0)}function w(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t,e){var n,r=a({},t);for(n in e)o(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},a(r[n],t[n]),a(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)o(t,n)&&!o(e,n)&&i(t[n])&&(r[n]=a({},r[n]));return r}function T(t){null!=t&&this.set(t)}function C(t,e){var i=t.toLowerCase();oe[i]=oe[i+"s"]=oe[e]=t}function k(t){return"string"==typeof t?oe[t]||oe[t.toLowerCase()]:void 0}function E(t){var e,i,n={};for(i in t)o(t,i)&&((e=k(i))&&(n[e]=t[i]));return n}function O(t,e){ae[t]=e}function P(e,i){return function(n){return null!=n?(M(this,e,n),t.updateOffset(this,i),this):D(this,e)}}function D(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function M(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function A(t,e,i){var n=""+Math.abs(t),r=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function j(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(ue[t]=r),e&&(ue[e[0]]=function(){return A(r.apply(this,arguments),e[1],e[2])}),i&&(ue[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t,e){return t.isValid()?(e=z(e,t.localeData()),he[e]=he[e]||function(t){var e,i,n=t.match(le);for(e=0,i=n.length;e<i;e++)ue[n[e]]?n[e]=ue[n[e]]:n[e]=L(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=n[r]instanceof Function?n[r].call(e,t):n[r];return s}}(e),he[e](t)):t.localeData().invalidDate()}function z(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(ce.lastIndex=0;n>=0&&ce.test(t);)t=t.replace(ce,i),ce.lastIndex=0,n-=1;return t}function R(t,e,i){Oe[t]=w(e)?e:function(t,n){return t&&i?i:e}}function Y(t,e){return o(Oe,t)?Oe[t](e._strict,e._locale):new RegExp(function(t){return N(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,r){return e||i||n||r})))}(t))}function N(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(t,e){var i,r=e;for("string"==typeof t&&(t=[t]),n(e)&&(r=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)Pe[t[i]]=r}function F(t,e){B(t,(function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)}))}function H(t,e,i){null!=e&&o(Pe,t)&&Pe[t](e,i._a,i,t)}function X(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function W(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=l([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=Ne.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ne.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=Ne.call(this._shortMonthsParse,o))?r:-1!==(r=Ne.call(this._longMonthsParse,o))?r:null:-1!==(r=Ne.call(this._longMonthsParse,o))?r:-1!==(r=Ne.call(this._shortMonthsParse,o))?r:null}function $(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(!n(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),X(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function G(e){return null!=e?($(this,e),t.updateOffset(this,!0),this):D(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=l([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=N(n[e]),r[e]=N(r[e]);for(e=0;e<24;e++)s[e]=N(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function q(t){return U(t)?366:365}function U(t){return t%4==0&&t%100!=0||t%400==0}function K(t,e,i,n,r,s,o){var a=new Date(t,e,i,n,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Z(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function J(t,e,i){var n=7+e-i;return-((7+Z(t,0,n).getUTCDay()-e)%7)+n-1}function Q(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+J(t,n,r);return a<=0?o=q(s=t-1)+a:a>q(t)?(s=t+1,o=a-q(t)):(s=t,o=a),{year:s,dayOfYear:o}}function tt(t,e,i){var n,r,s=J(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+et(r=t.year()-1,e,i):o>et(t.year(),e,i)?(n=o-et(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function et(t,e,i){var n=J(t,e,i),r=J(t+1,e,i);return(q(t)-n+r)/7}function it(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=l([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=Ne.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ne.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ne.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=Ne.call(this._weekdaysParse,o))?r:-1!==(r=Ne.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ne.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ne.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ne.call(this._weekdaysParse,o))?r:-1!==(r=Ne.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ne.call(this._minWeekdaysParse,o))?r:-1!==(r=Ne.call(this._weekdaysParse,o))?r:-1!==(r=Ne.call(this._shortWeekdaysParse,o))?r:null}function nt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],c=[],h=[];for(e=0;e<7;e++)i=l([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),c.push(s),h.push(n),h.push(r),h.push(s);for(o.sort(t),a.sort(t),c.sort(t),h.sort(t),e=0;e<7;e++)a[e]=N(a[e]),c[e]=N(c[e]),h[e]=N(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function rt(){return this.hours()%12||12}function st(t,e){j(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ot(t,e){return e._meridiemParse}function at(t){return t?t.toLowerCase().replace("_","-"):t}function lt(t){var e=null;if(!ei[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Je._abbr,require("./locale/"+t),ct(e)}catch(t){}return ei[t]}function ct(t,e){var i;return t&&((i=f(e)?ut(t):ht(t,e))&&(Je=i)),Je._abbr}function ht(t,e){if(null!==e){var i=ti;if(e.abbr=t,null!=ei[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ei[t]._config;else if(null!=e.parentLocale){if(null==ei[e.parentLocale])return ii[e.parentLocale]||(ii[e.parentLocale]=[]),ii[e.parentLocale].push({name:t,config:e}),null;i=ei[e.parentLocale]._config}return ei[t]=new T(S(i,e)),ii[t]&&ii[t].forEach((function(t){ht(t.name,t.config)})),ct(t),ei[t]}return delete ei[t],null}function ut(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Je;if(!e(t)){if(i=lt(t))return i;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=at(t[s]).split("-")).length,i=(i=at(t[s+1]))?i.split("-"):null;e>0;){if(n=lt(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&y(r,i,!0)>=e-1)break;e--}s++}return null}(t)}function ft(t){var e,i=t._a;return i&&-2===c(t).overflow&&(e=i[Me]<0||i[Me]>11?Me:i[Ae]<1||i[Ae]>X(i[De],i[Me])?Ae:i[je]<0||i[je]>24||24===i[je]&&(0!==i[Le]||0!==i[Ie]||0!==i[ze])?je:i[Le]<0||i[Le]>59?Le:i[Ie]<0||i[Ie]>59?Ie:i[ze]<0||i[ze]>999?ze:-1,c(t)._overflowDayOfYear&&(e<De||e>Ae)&&(e=Ae),c(t)._overflowWeeks&&-1===e&&(e=Re),c(t)._overflowWeekday&&-1===e&&(e=Ye),c(t).overflow=e),t}function dt(t){var e,i,n,r,s,o,a=t._i,l=ni.exec(a)||ri.exec(a);if(l){for(c(t).iso=!0,e=0,i=oi.length;e<i;e++)if(oi[e][1].exec(l[1])){r=oi[e][0],n=!1!==oi[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=ai.length;e<i;e++)if(ai[e][1].exec(l[3])){s=(l[2]||" ")+ai[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!si.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),vt(t)}else t._isValid=!1}function pt(t,e,i){return null!=t?t:null!=e?e:i}function gt(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function mt(t){var e,i,n,r,s=[];if(!t._d){for(n=gt(t),t._w&&null==t._a[Ae]&&null==t._a[Me]&&function(t){var e,i,n,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=pt(e.GG,t._a[De],tt(xt(),1,4).year),n=pt(e.W,1),((r=pt(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=tt(xt(),s,o);i=pt(e.gg,t._a[De],h.year),n=pt(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>et(i,s,o)?c(t)._overflowWeeks=!0:null!=l?c(t)._overflowWeekday=!0:(a=Q(i,n,r,s,o),t._a[De]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(r=pt(t._a[De],n[De]),t._dayOfYear>q(r)&&(c(t)._overflowDayOfYear=!0),i=Z(r,0,t._dayOfYear),t._a[Me]=i.getUTCMonth(),t._a[Ae]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[je]&&0===t._a[Le]&&0===t._a[Ie]&&0===t._a[ze]&&(t._nextDay=!0,t._a[je]=0),t._d=(t._useUTC?Z:K).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[je]=24)}}function vt(e){if(e._f!==t.ISO_8601){e._a=[],c(e).empty=!0;var i,n,r,s,o,a=""+e._i,l=a.length,h=0;for(r=z(e._f,e._locale).match(le)||[],i=0;i<r.length;i++)s=r[i],(n=(a.match(Y(s,e))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&c(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),h+=n.length),ue[s]?(n?c(e).empty=!1:c(e).unusedTokens.push(s),H(s,n,e)):e._strict&&!n&&c(e).unusedTokens.push(s);c(e).charsLeftOver=l-h,a.length>0&&c(e).unusedInput.push(a),e._a[je]<=12&&!0===c(e).bigHour&&e._a[je]>0&&(c(e).bigHour=void 0),c(e).parsedDateParts=e._a.slice(0),c(e).meridiem=e._meridiem,e._a[je]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(e._locale,e._a[je],e._meridiem),mt(e),ft(e)}else dt(e)}function yt(t){var i=t._i,n=t._f;return t._locale=t._locale||ut(t._l),null===i||void 0===n&&""===i?u({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),g(i)?new p(ft(i)):(r(i)?t._d=i:e(n)?function(t){var e,i,n,r,s;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],vt(e),h(e)&&(s+=c(e).charsLeftOver,s+=10*c(e).unusedTokens.length,c(e).score=s,(null==n||s<n)&&(n=s,i=e));a(t,i||e)}(t):n?vt(t):_t(t),h(t)||(t._d=null),t))}function _t(i){var o=i._i;void 0===o?i._d=new Date(t.now()):r(o)?i._d=new Date(o.valueOf()):"string"==typeof o?function(e){var i=li.exec(e._i);null!==i?e._d=new Date(+i[1]):(dt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}(i):e(o)?(i._a=s(o.slice(0),(function(t){return parseInt(t,10)})),mt(i)):"object"==typeof o?function(t){if(!t._d){var e=E(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),mt(t)}}(i):n(o)?i._d=new Date(o):t.createFromInputFallback(i)}function bt(t,n,r,s,o){var a={};return!0!==r&&!1!==r||(s=r,r=void 0),(i(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||e(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=r,a._i=t,a._f=n,a._strict=s,function(t){var e=new p(ft(yt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(a)}function xt(t,e,i,n){return bt(t,e,i,n,!1)}function wt(t,i){var n,r;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return xt();for(n=i[0],r=1;r<i.length;++r)i[r].isValid()&&!i[r][t](n)||(n=i[r]);return n}function St(t){var e=E(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=ut(),this._bubble()}function Tt(t){return t instanceof St}function Ct(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function kt(t,e){j(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+A(~~(t/60),2)+e+A(~~t%60,2)}))}function Et(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(ui)||["-",0,0],r=60*n[1]+v(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Ot(e,i){var n,s;return i._isUTC?(n=i.clone(),s=(g(e)||r(e)?e.valueOf():xt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),t.updateOffset(n,!1),n):xt(e).local()}function Pt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Dt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Mt(t,e){var i,r,s,a=t,l=null;return Tt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:n(t)?(a={},e?a[e]=t:a.milliseconds=t):(l=fi.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:v(l[Ae])*i,h:v(l[je])*i,m:v(l[Le])*i,s:v(l[Ie])*i,ms:v(Ct(1e3*l[ze]))*i}):(l=di.exec(t))?(i="-"===l[1]?-1:1,a={y:At(l[2],i),M:At(l[3],i),w:At(l[4],i),d:At(l[5],i),h:At(l[6],i),m:At(l[7],i),s:At(l[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Ot(e,t),t.isBefore(e)?i=jt(t,e):((i=jt(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(xt(a.from),xt(a.to)),(a={}).ms=s.milliseconds,a.M=s.months),r=new St(a),Tt(t)&&o(t,"_locale")&&(r._locale=t._locale),r}function At(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function jt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Lt(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),It(this,Mt(i="string"==typeof i?+i:i,n),t),this}}function It(e,i,n,r){var s=i._milliseconds,o=Ct(i._days),a=Ct(i._months);e.isValid()&&(r=null==r||r,s&&e._d.setTime(e._d.valueOf()+s*n),o&&M(e,"Date",D(e,"Date")+o*n),a&&$(e,D(e,"Month")+a*n),r&&t.updateOffset(e,o||a))}function zt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ut(t))&&(this._locale=e),this)}function Rt(){return this._locale}function Yt(t,e){j(0,[t,t.length],0,e)}function Nt(t,e,i,n,r){var s;return null==t?tt(this,n,r).year:(e>(s=et(t,n,r))&&(e=s),Bt.call(this,t,e,i,n,r))}function Bt(t,e,i,n,r){var s=Q(t,e,i,n,r),o=Z(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ft(t,e){e[ze]=v(1e3*("0."+t))}function Ht(t){return t}function Xt(t,e,i,n){var r=ut(),s=l().set(n,e);return r[i](s,t)}function Wt(t,e,i){if(n(t)&&(e=t,t=void 0),t=t||"",null!=e)return Xt(t,e,i,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Xt(t,r,i,"month");return s}function $t(t,e,i,r){"boolean"==typeof t?(n(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,n(e)&&(i=e,e=void 0),e=e||"");var s=ut(),o=t?s._week.dow:0;if(null!=i)return Xt(e,(i+o)%7,r,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Xt(e,(a+o)%7,r,"day");return l}function Gt(t,e,i,n){var r=Mt(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function Vt(t){return t<0?Math.floor(t):Math.ceil(t)}function qt(t){return 4800*t/146097}function Ut(t){return 146097*t/4800}function Kt(t){return function(){return this.as(t)}}function Zt(t){return function(){return this._data[t]}}function Jt(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function Qt(){var t,e,i=Hi(this._milliseconds)/1e3,n=Hi(this._days),r=Hi(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60;var s=m(r/12),o=r%=12,a=n,l=e,c=t,h=i,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(a?a+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var te,ee=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1},ie=t.momentProperties=[],ne=!1,re={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var se=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)o(t,e)&&i.push(e);return i},oe={},ae={},le=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ce=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,he={},ue={},fe=/\d/,de=/\d\d/,pe=/\d{3}/,ge=/\d{4}/,me=/[+-]?\d{6}/,ve=/\d\d?/,ye=/\d\d\d\d?/,_e=/\d\d\d\d\d\d?/,be=/\d{1,3}/,xe=/\d{1,4}/,we=/[+-]?\d{1,6}/,Se=/\d+/,Te=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,ke=/Z|[+-]\d\d(?::?\d\d)?/gi,Ee=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Oe={},Pe={},De=0,Me=1,Ae=2,je=3,Le=4,Ie=5,ze=6,Re=7,Ye=8,Ne=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),j("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),C("month","M"),O("month",8),R("M",ve),R("MM",ve,de),R("MMM",(function(t,e){return e.monthsShortRegex(t)})),R("MMMM",(function(t,e){return e.monthsRegex(t)})),B(["M","MM"],(function(t,e){e[Me]=v(t)-1})),B(["MMM","MMMM"],(function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[Me]=r:c(i).invalidMonth=t}));var Be=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xe=Ee,We=Ee;j("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),C("year","y"),O("year",1),R("Y",Te),R("YY",ve,de),R("YYYY",xe,ge),R("YYYYY",we,me),R("YYYYYY",we,me),B(["YYYYY","YYYYYY"],De),B("YYYY",(function(e,i){i[De]=2===e.length?t.parseTwoDigitYear(e):v(e)})),B("YY",(function(e,i){i[De]=t.parseTwoDigitYear(e)})),B("Y",(function(t,e){e[De]=parseInt(t,10)})),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var $e=P("FullYear",!0);j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),O("week",5),O("isoWeek",5),R("w",ve),R("ww",ve,de),R("W",ve),R("WW",ve,de),F(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=v(t)}));j("d",0,"do","day"),j("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),j("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),j("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),O("day",11),O("weekday",11),O("isoWeekday",11),R("d",ve),R("e",ve),R("E",ve),R("dd",(function(t,e){return e.weekdaysMinRegex(t)})),R("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),R("dddd",(function(t,e){return e.weekdaysRegex(t)})),F(["dd","ddd","dddd"],(function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:c(i).invalidWeekday=t})),F(["d","e","E"],(function(t,e,i,n){e[n]=v(t)}));var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ue=Ee,Ke=Ee,Ze=Ee;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,rt),j("k",["kk",2],0,(function(){return this.hours()||24})),j("hmm",0,0,(function(){return""+rt.apply(this)+A(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+rt.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+A(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)})),st("a",!0),st("A",!1),C("hour","h"),O("hour",13),R("a",ot),R("A",ot),R("H",ve),R("h",ve),R("HH",ve,de),R("hh",ve,de),R("hmm",ye),R("hmmss",_e),R("Hmm",ye),R("Hmmss",_e),B(["H","HH"],je),B(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),B(["h","hh"],(function(t,e,i){e[je]=v(t),c(i).bigHour=!0})),B("hmm",(function(t,e,i){var n=t.length-2;e[je]=v(t.substr(0,n)),e[Le]=v(t.substr(n)),c(i).bigHour=!0})),B("hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[je]=v(t.substr(0,n)),e[Le]=v(t.substr(n,2)),e[Ie]=v(t.substr(r)),c(i).bigHour=!0})),B("Hmm",(function(t,e,i){var n=t.length-2;e[je]=v(t.substr(0,n)),e[Le]=v(t.substr(n))})),B("Hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[je]=v(t.substr(0,n)),e[Le]=v(t.substr(n,2)),e[Ie]=v(t.substr(r))}));var Je,Qe=P("Hours",!0),ti={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Fe,monthsShort:He,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:qe,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},ei={},ii={},ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ri=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,si=/Z|[+-]\d\d(?::?\d\d)?/,oi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],li=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=b("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),t.ISO_8601=function(){};var ci=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:u()})),hi=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()}));kt("Z",":"),kt("ZZ",""),R("Z",ke),R("ZZ",ke),B(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Et(ke,t)}));var ui=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var fi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Mt.fn=St.prototype;var pi=Lt(1,"add"),gi=Lt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mi=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Yt("gggg","weekYear"),Yt("ggggg","weekYear"),Yt("GGGG","isoWeekYear"),Yt("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),O("weekYear",1),O("isoWeekYear",1),R("G",Te),R("g",Te),R("GG",ve,de),R("gg",ve,de),R("GGGG",xe,ge),R("gggg",xe,ge),R("GGGGG",we,me),R("ggggg",we,me),F(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=v(t)})),F(["gg","GG"],(function(e,i,n,r){i[r]=t.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),C("quarter","Q"),O("quarter",7),R("Q",fe),B("Q",(function(t,e){e[Me]=3*(v(t)-1)})),j("D",["DD",2],"Do","date"),C("date","D"),O("date",9),R("D",ve),R("DD",ve,de),R("Do",(function(t,e){return t?e._ordinalParse:e._ordinalParseLenient})),B(["D","DD"],Ae),B("Do",(function(t,e){e[Ae]=v(t.match(ve)[0])}));var vi=P("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),O("dayOfYear",4),R("DDD",be),R("DDDD",pe),B(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=v(t)})),j("m",["mm",2],0,"minute"),C("minute","m"),O("minute",14),R("m",ve),R("mm",ve,de),B(["m","mm"],Le);var yi=P("Minutes",!1);j("s",["ss",2],0,"second"),C("second","s"),O("second",15),R("s",ve),R("ss",ve,de),B(["s","ss"],Ie);var _i,bi=P("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),C("millisecond","ms"),O("millisecond",16),R("S",be,fe),R("SS",be,de),R("SSS",be,pe),_i="SSSS";_i.length<=9;_i+="S")R(_i,Se);for(_i="S";_i.length<=9;_i+="S")B(_i,Ft);var xi=P("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var wi=p.prototype;wi.add=pi,wi.calendar=function(e,i){var n=e||xt(),r=Ot(n,this).startOf("day"),s=t.calendarFormat(this,r)||"sameElse",o=i&&(w(i[s])?i[s].call(this,n):i[s]);return this.format(o||this.localeData().calendar(s,this,xt(n)))},wi.clone=function(){return new p(this)},wi.diff=function(t,e,i){var n,r,s,o;return this.isValid()?(n=Ot(t,this)).isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),"year"===(e=k(e))||"month"===e||"quarter"===e?(o=function(t,e){var i,n,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(i=t.clone().add(r-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(r+1,"months"),n=(e-s)/(i-s)),-(r+n)||0}(this,n),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-n,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),i?o:m(o)):NaN:NaN},wi.endOf=function(t){return void 0===(t=k(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},wi.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=I(this,e);return this.localeData().postformat(i)},wi.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||xt(t).isValid())?Mt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},wi.fromNow=function(t){return this.from(xt(),t)},wi.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||xt(t).isValid())?Mt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},wi.toNow=function(t){return this.to(xt(),t)},wi.get=function(t){return w(this[t=k(t)])?this[t]():this},wi.invalidAt=function(){return c(this).overflow},wi.isAfter=function(t,e){var i=g(t)?t:xt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=k(f(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},wi.isBefore=function(t,e){var i=g(t)?t:xt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=k(f(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},wi.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},wi.isSame=function(t,e){var i,n=g(t)?t:xt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=k(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},wi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},wi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},wi.isValid=function(){return h(this)},wi.lang=mi,wi.locale=zt,wi.localeData=Rt,wi.max=hi,wi.min=ci,wi.parsingFlags=function(){return a({},c(this))},wi.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:ae[i]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=E(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(w(this[t=k(t)]))return this[t](e);return this},wi.startOf=function(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},wi.subtract=gi,wi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},wi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},wi.toDate=function(){return new Date(this.valueOf())},wi.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?w(Date.prototype.toISOString)?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},wi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)},wi.toJSON=function(){return this.isValid()?this.toISOString():null},wi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wi.unix=function(){return Math.floor(this.valueOf()/1e3)},wi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wi.year=$e,wi.isLeapYear=function(){return U(this.year())},wi.weekYear=function(t){return Nt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wi.isoWeekYear=function(t){return Nt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},wi.quarter=wi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},wi.month=G,wi.daysInMonth=function(){return X(this.year(),this.month())},wi.week=wi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},wi.isoWeek=wi.isoWeeks=function(t){var e=tt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},wi.weeksInYear=function(){var t=this.localeData()._week;return et(this.year(),t.dow,t.doy)},wi.isoWeeksInYear=function(){return et(this.year(),1,4)},wi.date=vi,wi.day=wi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},wi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},wi.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},wi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},wi.hour=wi.hours=Qe,wi.minute=wi.minutes=yi,wi.second=wi.seconds=bi,wi.millisecond=wi.milliseconds=xi,wi.utcOffset=function(e,i){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Et(ke,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&i&&(n=Pt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!i||this._changeInProgress?It(this,Mt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Pt(this)},wi.utc=function(t){return this.utcOffset(0,t)},wi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pt(this),"m")),this},wi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Et(Ce,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},wi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},wi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wi.isLocal=function(){return!!this.isValid()&&!this._isUTC},wi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wi.isUtc=Dt,wi.isUTC=Dt,wi.zoneAbbr=function(){return this._isUTC?"UTC":""},wi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wi.dates=b("dates accessor is deprecated. Use date instead.",vi),wi.months=b("months accessor is deprecated. Use month instead",G),wi.years=b("years accessor is deprecated. Use year instead",$e),wi.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),wi.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(d(t,this),(t=yt(t))._a){var e=t._isUTC?l(t._a):xt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Si=T.prototype;Si.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return w(n)?n.call(e,i):n},Si.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},Si.invalidDate=function(){return this._invalidDate},Si.ordinal=function(t){return this._ordinal.replace("%d",t)},Si.preparse=Ht,Si.postformat=Ht,Si.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return w(r)?r(t,e,i,n):r.replace(/%d/i,t)},Si.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return w(i)?i(e):i.replace(/%s/i,e)},Si.set=function(t){var e,i;for(i in t)w(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Si.months=function(t,i){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Be).test(i)?"format":"standalone"][t.month()]:this._months},Si.monthsShort=function(t,i){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Be.test(i)?"format":"standalone"][t.month()]:this._monthsShort},Si.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return W.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=l([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},Si.monthsRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Si.monthsShortRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Xe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Si.week=function(t){return tt(t,this._week.dow,this._week.doy).week},Si.firstDayOfYear=function(){return this._week.doy},Si.firstDayOfWeek=function(){return this._week.dow},Si.weekdays=function(t,i){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][t.day()]:this._weekdays},Si.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},Si.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},Si.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return it.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=l([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},Si.weekdaysRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||nt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ue),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Si.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||nt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Si.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||nt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Si.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Si.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},ct("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",ct),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",ut);var Ti=Math.abs,Ci=Kt("ms"),ki=Kt("s"),Ei=Kt("m"),Oi=Kt("h"),Pi=Kt("d"),Di=Kt("w"),Mi=Kt("M"),Ai=Kt("y"),ji=Zt("milliseconds"),Li=Zt("seconds"),Ii=Zt("minutes"),zi=Zt("hours"),Ri=Zt("days"),Yi=Zt("months"),Ni=Zt("years"),Bi=Math.round,Fi={s:45,m:45,h:22,d:26,M:11},Hi=Math.abs,Xi=St.prototype;return Xi.abs=function(){var t=this._data;return this._milliseconds=Ti(this._milliseconds),this._days=Ti(this._days),this._months=Ti(this._months),t.milliseconds=Ti(t.milliseconds),t.seconds=Ti(t.seconds),t.minutes=Ti(t.minutes),t.hours=Ti(t.hours),t.months=Ti(t.months),t.years=Ti(t.years),this},Xi.add=function(t,e){return Gt(this,t,e,1)},Xi.subtract=function(t,e){return Gt(this,t,e,-1)},Xi.as=function(t){var e,i,n=this._milliseconds;if("month"===(t=k(t))||"year"===t)return e=this._days+n/864e5,i=this._months+qt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Ut(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Xi.asMilliseconds=Ci,Xi.asSeconds=ki,Xi.asMinutes=Ei,Xi.asHours=Oi,Xi.asDays=Pi,Xi.asWeeks=Di,Xi.asMonths=Mi,Xi.asYears=Ai,Xi.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},Xi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Vt(Ut(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=m(s/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,i=m(e/60),l.hours=i%24,o+=m(i/24),a+=r=m(qt(o)),o-=Vt(Ut(r)),n=m(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Xi.get=function(t){return this[(t=k(t))+"s"]()},Xi.milliseconds=ji,Xi.seconds=Li,Xi.minutes=Ii,Xi.hours=zi,Xi.days=Ri,Xi.weeks=function(){return m(this.days()/7)},Xi.months=Yi,Xi.years=Ni,Xi.humanize=function(t){var e=this.localeData(),i=function(t,e,i){var n=Mt(t).abs(),r=Bi(n.as("s")),s=Bi(n.as("m")),o=Bi(n.as("h")),a=Bi(n.as("d")),l=Bi(n.as("M")),c=Bi(n.as("y")),h=r<Fi.s&&["s",r]||s<=1&&["m"]||s<Fi.m&&["mm",s]||o<=1&&["h"]||o<Fi.h&&["hh",o]||a<=1&&["d"]||a<Fi.d&&["dd",a]||l<=1&&["M"]||l<Fi.M&&["MM",l]||c<=1&&["y"]||["yy",c];return h[2]=e,h[3]=+t>0,h[4]=i,Jt.apply(null,h)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Xi.toISOString=Qt,Xi.toString=Qt,Xi.toJSON=Qt,Xi.locale=zt,Xi.localeData=Rt,Xi.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qt),Xi.lang=mi,j("X",0,0,"unix"),j("x",0,0,"valueOf"),R("x",Te),R("X",/[+-]?\d+(\.\d{1,3})?/),B("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))})),B("x",(function(t,e,i){i._d=new Date(v(t))})),t.version="2.17.1",function(t){te=t}(xt),t.fn=wi,t.min=function(){var t=[].slice.call(arguments,0);return wt("isBefore",t)},t.max=function(){var t=[].slice.call(arguments,0);return wt("isAfter",t)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=l,t.unix=function(t){return xt(1e3*t)},t.months=function(t,e){return Wt(t,e,"months")},t.isDate=r,t.locale=ct,t.invalid=u,t.duration=Mt,t.isMoment=g,t.weekdays=function(t,e,i){return $t(t,e,i,"weekdays")},t.parseZone=function(){return xt.apply(null,arguments).parseZone()},t.localeData=ut,t.isDuration=Tt,t.monthsShort=function(t,e){return Wt(t,e,"monthsShort")},t.weekdaysMin=function(t,e,i){return $t(t,e,i,"weekdaysMin")},t.defineLocale=ht,t.updateLocale=function(t,e){if(null!=e){var i,n=ti;null!=ei[t]&&(n=ei[t]._config),(i=new T(e=S(n,e))).parentLocale=ei[t],ei[t]=i,ct(t)}else null!=ei[t]&&(null!=ei[t].parentLocale?ei[t]=ei[t].parentLocale:null!=ei[t]&&delete ei[t]);return ei[t]},t.locales=function(){return se(ei)},t.weekdaysShort=function(t,e,i){return $t(t,e,i,"weekdaysShort")},t.normalizeUnits=k,t.relativeTimeRounding=function(t){return void 0===t?Bi:"function"==typeof t&&(Bi=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==Fi[t]&&(void 0===e?Fi[t]:(Fi[t]=e,!0))},t.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},t.prototype=wi,t})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Swiper=e()}(this,(function(){"use strict";!function(t,e){var i="__proto__",n="___proto_polyfill_proto___",r="___proto_polyfill_funct___",s="___proto_polyfill_value___",o=t.getPrototypeOf,a=t.getOwnPropertyNames,l=t.defineProperty,c=t.getOwnPropertyDescriptor,h=t.create;function u(t,e,i){var n=c(t,e)[i];return n[r]||n}function f(t,e,i,n){function s(){return u(e,i,n).apply(t,arguments)}return l(s,r,{get:function(){return u(e,i,n)},enumerable:!1,configurable:!1}),s}function d(t,i,n){var r=c(i,n),o=r.set instanceof e,a=r.get instanceof e;l(t,n,o&&a?{set:f(t,i,n,"set"),get:f(t,i,n,"get"),enumerable:r.enumerable||!1,configurable:!0}:o?{set:f(t,i,n,"set"),enumerable:r.enumerable||!1,configurable:!0}:a?{get:f(t,i,n,"get"),enumerable:r.enumerable||!1,configurable:!0}:{set:function(t){this[s][n]=t},get:function(){return n in this[s]?this[s][n]:this===t?i[n]:t[n]},enumerable:r.enumerable||!1,configurable:!0})}function p(t,e){for(var o,l=a(e),c=0;c<l.length;c++)(o=l[c])&&o!==i&&o!==n&&o!==r&&o!==s&&0!==o.indexOf("Symbol(")&&!t.hasOwnProperty(o)&&d(t,e,o)}function g(t,e){var i="function"==typeof e?e.prototype:e,r="function"==typeof e?e:i&&i.constructor;l(t,n,{value:i||e,enumerable:!1,configurable:!1,writable:!1}),l(t,s,{value:{},enumerable:!1,configurable:!1,writable:!1}),r&&p(t,r)}!(i in t)&&!(i in e)&&o instanceof e&&a instanceof e&&l instanceof e&&c instanceof e&&(t.setPrototypeOf=function(e,i){return e instanceof t&&null!==e&&(e.__proto__=i),e},t.getPrototypeOf=function(e){return e instanceof t&&null!==e?e.__proto__:o(e)},l(t,"create",{value:function(t,e){var n=h(t,e);return l(n,i,{get:function(){return this===n?t:n},enumerable:!1,configurable:!1}),n},enumerable:!1,configurable:!0,writable:!0}),l(t.prototype,i,{get:function(){switch(typeof this){case"string":return String.prototype;case"number":return Number.prototype;case"boolean":return Boolean.prototype}if(n in this)return this[n];var e=this.constructor;if(e){if("function"==typeof e.prototype)return e;if(this instanceof e)return e.prototype||null;var i=e.__proto__;return this!==t.prototype&&void 0===i.prototype?t.prototype:i.prototype||null}return null},set:function(e){e&&this instanceof t&&(l(this,n,{value:e,enumerable:!1,configurable:!1,writable:!1}),l(this,s,{value:{},enumerable:!1,configurable:!1,writable:!1}),p(this,e))},enumerable:!1,configurable:!1}),l(e.prototype,i,{get:function(){if("function"==typeof this.prototype)return o(this.constructor);if(!(n in this)){if(!this.prototype)return t.prototype;g(this,o(this))}return this[n]?"function"==typeof this[n]?this[n]:this[n].constructor:null},set:function(t){g(this,t)},enumerable:!1,configurable:!1}))}(Object,Function);var t="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,e="undefined"==typeof window?{document:t,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,i=function(t){for(var e=0;e<t.length;e+=1)this[e]=t[e];return this.length=t.length,this};function n(n,r){var s=[],o=0;if(n&&!r&&n instanceof i)return n;if(n)if("string"==typeof n){var a,l,c=n.trim();if(c.indexOf("<")>=0&&c.indexOf(">")>=0){var h="div";for(0===c.indexOf("<li")&&(h="ul"),0===c.indexOf("<tr")&&(h="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(h="tr"),0===c.indexOf("<tbody")&&(h="table"),0===c.indexOf("<option")&&(h="select"),(l=t.createElement(h)).innerHTML=c,o=0;o<l.childNodes.length;o+=1)s.push(l.childNodes[o])}else for(a=r||"#"!==n[0]||n.match(/[ .<>:~]/)?(r||t).querySelectorAll(n.trim()):[t.getElementById(n.trim().split("#")[1])],o=0;o<a.length;o+=1)a[o]&&s.push(a[o])}else if(n.nodeType||n===e||n===t)s.push(n);else if(n.length>0&&n[0].nodeType)for(o=0;o<n.length;o+=1)s.push(n[o]);return new i(s)}function r(t){for(var e=[],i=0;i<t.length;i+=1)-1===e.indexOf(t[i])&&e.push(t[i]);return e}n.fn=i.prototype,n.Class=i,n.Dom7=i;"resize scroll".split(" ");var s={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.add(e[i]);return this},removeClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.remove(e[i]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.toggle(e[i]);return this},attr:function(t,e){var i=arguments,n=this;if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var r=0;r<this.length;r+=1)if(2===i.length)n[r].setAttribute(t,e);else for(var s in t)n[r][s]=t[s],n[r].setAttribute(s,t[s]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){var i;if(void 0!==e){for(var n=0;n<this.length;n+=1)(i=this[n]).dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e;return this}if(i=this[0]){if(i.dom7ElementDataStorage&&t in i.dom7ElementDataStorage)return i.dom7ElementDataStorage[t];var r=i.getAttribute("data-"+t);return r||void 0}},transform:function(t){for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransform=t,i.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransitionDuration=t,i.transitionDuration=t}return this},on:function(){for(var t=this,e=[],i=arguments.length;i--;)e[i]=arguments[i];var r,s=e[0],o=e[1],a=e[2],l=e[3];function c(t){var e=t.target;if(e){var i=t.target.dom7EventData||[];if(i.unshift(t),n(e).is(o))a.apply(e,i);else for(var r=n(e).parents(),s=0;s<r.length;s+=1)n(r[s]).is(o)&&a.apply(r[s],i)}}function h(t){var e=t&&t.target&&t.target.dom7EventData||[];e.unshift(t),a.apply(this,e)}"function"==typeof e[1]&&(s=(r=e)[0],a=r[1],l=r[2],o=void 0),l||(l=!1);for(var u,f=s.split(" "),d=0;d<this.length;d+=1){var p=t[d];if(o)for(u=0;u<f.length;u+=1)p.dom7LiveListeners||(p.dom7LiveListeners=[]),p.dom7LiveListeners.push({type:s,listener:a,proxyListener:c}),p.addEventListener(f[u],c,l);else for(u=0;u<f.length;u+=1)p.dom7Listeners||(p.dom7Listeners=[]),p.dom7Listeners.push({type:s,listener:a,proxyListener:h}),p.addEventListener(f[u],h,l)}return this},off:function(){for(var t=this,e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r=e[0],s=e[1],o=e[2],a=e[3];"function"==typeof e[1]&&(r=(n=e)[0],o=n[1],a=n[2],s=void 0),a||(a=!1);for(var l=r.split(" "),c=0;c<l.length;c+=1)for(var h=0;h<this.length;h+=1){var u=t[h];if(s){if(u.dom7LiveListeners)for(var f=0;f<u.dom7LiveListeners.length;f+=1)o?u.dom7LiveListeners[f].listener===o&&u.removeEventListener(l[c],u.dom7LiveListeners[f].proxyListener,a):u.dom7LiveListeners[f].type===l[c]&&u.removeEventListener(l[c],u.dom7LiveListeners[f].proxyListener,a)}else if(u.dom7Listeners)for(var d=0;d<u.dom7Listeners.length;d+=1)o?u.dom7Listeners[d].listener===o&&u.removeEventListener(l[c],u.dom7Listeners[d].proxyListener,a):u.dom7Listeners[d].type===l[c]&&u.removeEventListener(l[c],u.dom7Listeners[d].proxyListener,a)}return this},trigger:function(){for(var i=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];for(var s=n[0].split(" "),o=n[1],a=0;a<s.length;a+=1)for(var l=0;l<this.length;l+=1){var c=void 0;try{c=new e.CustomEvent(s[a],{detail:o,bubbles:!0,cancelable:!0})}catch(e){(c=t.createEvent("Event")).initEvent(s[a],!0,!0),c.detail=o}i[l].dom7EventData=n.filter((function(t,e){return e>0})),i[l].dispatchEvent(c),i[l].dom7EventData=[],delete i[l].dom7EventData}return this},transitionEnd:function(t){var e,i=["webkitTransitionEnd","transitionend"],n=this;function r(s){if(s.target===this)for(t.call(this,s),e=0;e<i.length;e+=1)n.off(i[e],r)}if(t)for(e=0;e<i.length;e+=1)n.on(i[e],r);return this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var i=this[0],n=i.getBoundingClientRect(),r=t.body,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,a=i===e?e.scrollY:i.scrollTop,l=i===e?e.scrollX:i.scrollLeft;return{top:n.top+a-s,left:n.left+l-o}}return null},css:function(t,i){var n,r=this;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var s in t)r[n].style[s]=t[s];return this}if(this[0])return e.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)r[n].style[t]=i;return this}return this},each:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(r){var s,o,a=this[0];if(!a||void 0===r)return!1;if("string"==typeof r){if(a.matches)return a.matches(r);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(r);if(a.msMatchesSelector)return a.msMatchesSelector(r);for(s=n(r),o=0;o<s.length;o+=1)if(s[o]===a)return!0;return!1}if(r===t)return a===t;if(r===e)return a===e;if(r.nodeType||r instanceof i){for(s=r.nodeType?[r]:r,o=0;o<s.length;o+=1)if(s[o]===a)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e,n=this.length;return new i(t>n-1?[]:t<0?(e=n+t)<0?[]:[this[e]]:[this[t]])},append:function(){for(var e,n=this,r=[],s=arguments.length;s--;)r[s]=arguments[s];for(var o=0;o<r.length;o+=1){e=r[o];for(var a=0;a<this.length;a+=1)if("string"==typeof e){var l=t.createElement("div");for(l.innerHTML=e;l.firstChild;)n[a].appendChild(l.firstChild)}else if(e instanceof i)for(var c=0;c<e.length;c+=1)n[a].appendChild(e[c]);else n[a].appendChild(e)}return this},prepend:function(e){var n,r;for(n=0;n<this.length;n+=1)if("string"==typeof e){var s=t.createElement("div");for(s.innerHTML=e,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(e instanceof i)for(r=0;r<e.length;r+=1)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&n(this[0].nextElementSibling).is(t)?new i([this[0].nextElementSibling]):new i([]):this[0].nextElementSibling?new i([this[0].nextElementSibling]):new i([]):new i([])},nextAll:function(t){var e=[],r=this[0];if(!r)return new i([]);for(;r.nextElementSibling;){var s=r.nextElementSibling;t?n(s).is(t)&&e.push(s):e.push(s),r=s}return new i(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&n(e.previousElementSibling).is(t)?new i([e.previousElementSibling]):new i([]):e.previousElementSibling?new i([e.previousElementSibling]):new i([])}return new i([])},prevAll:function(t){var e=[],r=this[0];if(!r)return new i([]);for(;r.previousElementSibling;){var s=r.previousElementSibling;t?n(s).is(t)&&e.push(s):e.push(s),r=s}return new i(e)},parent:function(t){for(var e=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(t?n(this[i].parentNode).is(t)&&e.push(this[i].parentNode):e.push(this[i].parentNode));return n(r(e))},parents:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].parentNode;s;)t?n(s).is(t)&&e.push(s):e.push(s),s=s.parentNode;return n(r(e))},closest:function(t){var e=this;return void 0===t?new i([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),s=0;s<r.length;s+=1)e.push(r[s]);return new i(e)},children:function(t){for(var e=[],s=0;s<this.length;s+=1)for(var o=this[s].childNodes,a=0;a<o.length;a+=1)t?1===o[a].nodeType&&n(o[a]).is(t)&&e.push(o[a]):1===o[a].nodeType&&e.push(o[a]);return new i(r(e))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,r,s=this;for(i=0;i<t.length;i+=1){var o=n(t[i]);for(r=0;r<o.length;r+=1)s[s.length]=o[r],s.length+=1}return s},styles:function(){return this[0]?e.getComputedStyle(this[0],null):{}}};Object.keys(s).forEach((function(t){n.fn[t]=s[t]}));var o,a,l={deleteProps:function(t){var e=t;Object.keys(e).forEach((function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}}))},nextTick:function(t,e){return void 0===e&&(e=0),setTimeout(t,e)},now:function(){return Date.now()},getTranslate:function(t,i){var n,r,s;void 0===i&&(i="x");var o=e.getComputedStyle(t,null);return e.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(t){return t.replace(",",".")})).join(", ")),s=new e.WebKitCSSMatrix("none"===r?"":r)):n=(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(r=e.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===i&&(r=e.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0},parseUrlQuery:function(t){var i,n,r,s,o={},a=t||e.location.href;if("string"==typeof a&&a.length)for(s=(n=(a=a.indexOf("?")>-1?a.replace(/\S*\?/,""):"").split("&").filter((function(t){return""!==t}))).length,i=0;i<s;i+=1)r=n[i].replace(/#\S+/g,"").split("="),o[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r[1])||"";return o},isObject:function(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object},extend:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=Object(t[0]),n=1;n<t.length;n+=1){var r=t[n];if(null!=r)for(var s=Object.keys(Object(r)),o=0,a=s.length;o<a;o+=1){var c=s[o],h=Object.getOwnPropertyDescriptor(r,c);void 0!==h&&h.enumerable&&(l.isObject(i[c])&&l.isObject(r[c])?l.extend(i[c],r[c]):!l.isObject(i[c])&&l.isObject(r[c])?(i[c]={},l.extend(i[c],r[c])):i[c]=r[c])}}return i}},c=(a=t.createElement("div"),{touch:e.Modernizr&&!0===e.Modernizr.touch||!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!(!e.navigator.pointerEnabled&&!e.PointerEvent),prefixedPointerEvents:!!e.navigator.msPointerEnabled,transition:(o=a.style,"transition"in o||"webkitTransition"in o||"MozTransition"in o),transforms3d:e.Modernizr&&!0===e.Modernizr.csstransforms3d||function(){var t=a.style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=a.style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i+=1)if(e[i]in t)return!0;return!1}(),observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(t){}return t}(),gestures:"ongesturestart"in e}),h=function(t){void 0===t&&(t={});var e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach((function(t){e.on(t,e.params.on[t])}))},u={components:{configurable:!0}};h.prototype.on=function(t,e){var i=this;return"function"!=typeof e||t.split(" ").forEach((function(t){i.eventsListeners[t]||(i.eventsListeners[t]=[]),i.eventsListeners[t].push(e)})),i},h.prototype.once=function(t,e){var i=this;if("function"!=typeof e)return i;return i.on(t,(function n(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];e.apply(i,r),i.off(t,n)}))},h.prototype.off=function(t,e){var i=this;return t.split(" ").forEach((function(t){void 0===e?i.eventsListeners[t]=[]:i.eventsListeners[t].forEach((function(n,r){n===e&&i.eventsListeners[t].splice(r,1)}))})),i},h.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,n,r,s=this;if(!s.eventsListeners)return s;"string"==typeof t[0]||Array.isArray(t[0])?(i=t[0],n=t.slice(1,t.length),r=s):(i=t[0].events,n=t[0].data,r=t[0].context||s);var o=Array.isArray(i)?i:i.split(" ");return o.forEach((function(t){if(s.eventsListeners[t]){var e=[];s.eventsListeners[t].forEach((function(t){e.push(t)})),e.forEach((function(t){t.apply(r,n)}))}})),s},h.prototype.useModulesParams=function(t){var e=this;e.modules&&Object.keys(e.modules).forEach((function(i){var n=e.modules[i];n.params&&l.extend(t,n.params)}))},h.prototype.useModules=function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach((function(i){var n=e.modules[i],r=t[i]||{};n.instance&&Object.keys(n.instance).forEach((function(t){var i=n.instance[t];e[t]="function"==typeof i?i.bind(e):i})),n.on&&e.on&&Object.keys(n.on).forEach((function(t){e.on(t,n.on[t])})),n.create&&n.create.bind(e)(r)}))},u.components.set=function(t){this.use&&this.use(t)},h.installModule=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=this;n.prototype.modules||(n.prototype.modules={});var r=t.name||Object.keys(n.prototype.modules).length+"_"+l.now();return n.prototype.modules[r]=t,t.proto&&Object.keys(t.proto).forEach((function(e){n.prototype[e]=t.proto[e]})),t.static&&Object.keys(t.static).forEach((function(e){n[e]=t.static[e]})),t.install&&t.install.apply(n,e),n},h.use=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=this;return Array.isArray(t)?(t.forEach((function(t){return n.installModule(t)})),n):n.installModule.apply(n,[t].concat(e))},Object.defineProperties(h,u);var f={updateSize:function(){var t,e,i=this.$el;t=void 0!==this.params.width?this.params.width:i[0].clientWidth,e=void 0!==this.params.height?this.params.height:i[0].clientHeight,0===t&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),e=e-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),l.extend(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){var t=this.params,e=this.$wrapperEl,i=this.size,n=this.rtl,r=this.wrongRTL,s=e.children("."+this.params.slideClass),o=this.virtual&&t.virtual.enabled?this.virtual.slides.length:s.length,a=[],h=[],u=[],f=t.slidesOffsetBefore;"function"==typeof f&&(f=t.slidesOffsetBefore.call(this));var d=t.slidesOffsetAfter;"function"==typeof d&&(d=t.slidesOffsetAfter.call(this));var p=o,g=this.snapGrid.length,m=this.snapGrid.length,v=t.spaceBetween,y=-f,_=0,b=0;if(void 0!==i){var x,w;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*i),this.virtualSize=-v,n?s.css({marginLeft:"",marginTop:""}):s.css({marginRight:"",marginBottom:""}),t.slidesPerColumn>1&&(x=Math.floor(o/t.slidesPerColumn)===o/this.params.slidesPerColumn?o:Math.ceil(o/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(x=Math.max(x,t.slidesPerView*t.slidesPerColumn)));for(var S,T=t.slidesPerColumn,C=x/T,k=C-(t.slidesPerColumn*C-o),E=0;E<o;E+=1){w=0;var O=s.eq(E);if(t.slidesPerColumn>1){var P=void 0,D=void 0,M=void 0;"column"===t.slidesPerColumnFill?(M=E-(D=Math.floor(E/T))*T,(D>k||D===k&&M===T-1)&&(M+=1)>=T&&(M=0,D+=1),P=D+M*x/T,O.css({"-webkit-box-ordinal-group":P,"-moz-box-ordinal-group":P,"-ms-flex-order":P,"-webkit-order":P,order:P})):D=E-(M=Math.floor(E/C))*C,O.css("margin-"+(this.isHorizontal()?"top":"left"),0!==M&&t.spaceBetween&&t.spaceBetween+"px").attr("data-swiper-column",D).attr("data-swiper-row",M)}"none"!==O.css("display")&&("auto"===t.slidesPerView?(w=this.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0),t.roundLengths&&(w=Math.floor(w))):(w=(i-(t.slidesPerView-1)*v)/t.slidesPerView,t.roundLengths&&(w=Math.floor(w)),s[E]&&(this.isHorizontal()?s[E].style.width=w+"px":s[E].style.height=w+"px")),s[E]&&(s[E].swiperSlideSize=w),u.push(w),t.centeredSlides?(y=y+w/2+_/2+v,0===_&&0!==E&&(y=y-i/2-v),0===E&&(y=y-i/2-v),Math.abs(y)<.001&&(y=0),b%t.slidesPerGroup==0&&a.push(y),h.push(y)):(b%t.slidesPerGroup==0&&a.push(y),h.push(y),y=y+w+v),this.virtualSize+=w+v,_=w,b+=1)}if(this.virtualSize=Math.max(this.virtualSize,i)+d,n&&r&&("slide"===t.effect||"coverflow"===t.effect)&&e.css({width:this.virtualSize+t.spaceBetween+"px"}),c.flexbox&&!t.setWrapperSize||(this.isHorizontal()?e.css({width:this.virtualSize+t.spaceBetween+"px"}):e.css({height:this.virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(this.virtualSize=(w+t.spaceBetween)*x,this.virtualSize=Math.ceil(this.virtualSize/t.slidesPerColumn)-t.spaceBetween,this.isHorizontal()?e.css({width:this.virtualSize+t.spaceBetween+"px"}):e.css({height:this.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){S=[];for(var A=0;A<a.length;A+=1)a[A]<this.virtualSize+a[0]&&S.push(a[A]);a=S}if(!t.centeredSlides){S=[];for(var j=0;j<a.length;j+=1)a[j]<=this.virtualSize-i&&S.push(a[j]);a=S,Math.floor(this.virtualSize-i)-Math.floor(a[a.length-1])>1&&a.push(this.virtualSize-i)}0===a.length&&(a=[0]),0!==t.spaceBetween&&(this.isHorizontal()?n?s.css({marginLeft:v+"px"}):s.css({marginRight:v+"px"}):s.css({marginBottom:v+"px"})),l.extend(this,{slides:s,snapGrid:a,slidesGrid:h,slidesSizesGrid:u}),o!==p&&this.emit("slidesLengthChange"),a.length!==g&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),h.length!==m&&this.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(){var t,e=[],i=0;if("auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var n=this.activeIndex+t;if(n>this.slides.length)break;e.push(this.slides.eq(n)[0])}else e.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<e.length;t+=1)if(void 0!==e[t]){var r=e[t].offsetHeight;i=r>i?r:i}i&&this.$wrapperEl.css("height",i+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this.translate||0);var e=this.params,i=this.slides,n=this.rtl;if(0!==i.length){void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();var r=-t;n&&(r=t),i.removeClass(e.slideVisibleClass);for(var s=0;s<i.length;s+=1){var o=i[s],a=(r+(e.centeredSlides?this.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+e.spaceBetween);if(e.watchSlidesVisibility){var l=-(r-o.swiperSlideOffset),c=l+this.slidesSizesGrid[s];(l>=0&&l<this.size||c>0&&c<=this.size||l<=0&&c>=this.size)&&i.eq(s).addClass(e.slideVisibleClass)}o.progress=n?-a:a}}},updateProgress:function(t){void 0===t&&(t=this.translate||0);var e=this.params,i=this.maxTranslate()-this.minTranslate(),n=this.progress,r=this.isBeginning,s=this.isEnd,o=r,a=s;0===i?(n=0,r=!0,s=!0):(r=(n=(t-this.minTranslate())/i)<=0,s=n>=1),l.extend(this,{progress:n,isBeginning:r,isEnd:s}),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesProgress(t),r&&!o&&this.emit("reachBeginning toEdge"),s&&!a&&this.emit("reachEnd toEdge"),(o&&!r||a&&!s)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var t,e=this.slides,i=this.params,n=this.$wrapperEl,r=this.activeIndex,s=this.realIndex,o=this.virtual&&i.virtual.enabled;e.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(t=o?this.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+r+'"]'):e.eq(r)).addClass(i.slideActiveClass),i.loop&&(t.hasClass(i.slideDuplicateClass)?n.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass):n.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass));var a=t.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===a.length&&(a=e.eq(0)).addClass(i.slideNextClass);var l=t.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===l.length&&(l=e.eq(-1)).addClass(i.slidePrevClass),i.loop&&(a.hasClass(i.slideDuplicateClass)?n.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):n.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),l.hasClass(i.slideDuplicateClass)?n.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):n.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass))},updateActiveIndex:function(t){var e,i=this.rtl?this.translate:-this.translate,n=this.slidesGrid,r=this.snapGrid,s=this.params,o=this.activeIndex,a=this.realIndex,c=this.snapIndex,h=t;if(void 0===h){for(var u=0;u<n.length;u+=1)void 0!==n[u+1]?i>=n[u]&&i<n[u+1]-(n[u+1]-n[u])/2?h=u:i>=n[u]&&i<n[u+1]&&(h=u+1):i>=n[u]&&(h=u);s.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if((e=r.indexOf(i)>=0?r.indexOf(i):Math.floor(h/s.slidesPerGroup))>=r.length&&(e=r.length-1),h!==o){var f=parseInt(this.slides.eq(h).attr("data-swiper-slide-index")||h,10);l.extend(this,{snapIndex:e,realIndex:f,previousIndex:o,activeIndex:h}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==f&&this.emit("realIndexChange"),this.emit("slideChange")}else e!==c&&(this.snapIndex=e,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var e=this.params,i=n(t.target).closest("."+e.slideClass)[0],r=!1;if(i)for(var s=0;s<this.slides.length;s+=1)this.slides[s]===i&&(r=!0);if(!i||!r)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=i,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(n(i).attr("data-swiper-slide-index"),10):this.clickedIndex=n(i).index(),e.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},d={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,i=this.rtl,n=this.translate,r=this.$wrapperEl;if(e.virtualTranslate)return i?-n:n;var s=l.getTranslate(r[0],t);return i&&(s=-s),s||0},setTranslate:function(t,e){var i=this.rtl,n=this.params,r=this.$wrapperEl,s=this.progress,o=0,a=0;this.isHorizontal()?o=i?-t:t:a=t,n.roundLengths&&(o=Math.floor(o),a=Math.floor(a)),n.virtualTranslate||(c.transforms3d?r.transform("translate3d("+o+"px, "+a+"px, 0px)"):r.transform("translate("+o+"px, "+a+"px)")),this.translate=this.isHorizontal()?o:a;var l=this.maxTranslate()-this.minTranslate();(0===l?0:(t-this.minTranslate())/l)!==s&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},p={setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,n=this.params,r=this.previousIndex;n.autoHeight&&this.updateAutoHeight();var s=e;if(s||(s=i>r?"next":i<r?"prev":"reset"),this.emit("transitionStart"),t&&i!==r){if("reset"===s)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===s?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,n=this.previousIndex;this.animating=!1,this.setTransition(0);var r=e;if(r||(r=i>n?"next":i<n?"prev":"reset"),this.emit("transitionEnd"),t&&i!==n){if("reset"===r)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===r?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},g={slideTo:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var r=this,s=t;s<0&&(s=0);var o=r.params,a=r.snapGrid,l=r.slidesGrid,h=r.previousIndex,u=r.activeIndex,f=r.rtl,d=r.$wrapperEl;if(r.animating&&o.preventIntercationOnTransition)return!1;var p=Math.floor(s/o.slidesPerGroup);p>=a.length&&(p=a.length-1),(u||o.initialSlide||0)===(h||0)&&i&&r.emit("beforeSlideChangeStart");var g,m=-a[p];if(r.updateProgress(m),o.normalizeSlideIndex)for(var v=0;v<l.length;v+=1)-Math.floor(100*m)>=Math.floor(100*l[v])&&(s=v);if(r.initialized&&s!==u){if(!r.allowSlideNext&&m<r.translate&&m<r.minTranslate())return!1;if(!r.allowSlidePrev&&m>r.translate&&m>r.maxTranslate()&&(u||0)!==s)return!1}return g=s>u?"next":s<u?"prev":"reset",f&&-m===r.translate||!f&&m===r.translate?(r.updateActiveIndex(s),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(m),"reset"!==g&&(r.transitionStart(i,g),r.transitionEnd(i,g)),!1):(0!==e&&c.transition?(r.setTransition(e),r.setTranslate(m),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,n),r.transitionStart(i,g),r.animating||(r.animating=!0,d.transitionEnd((function(){r&&!r.destroyed&&r.transitionEnd(i,g)})))):(r.setTransition(0),r.setTranslate(m),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,n),r.transitionStart(i,g),r.transitionEnd(i,g)),!0)},slideToLoop:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var r=t;return this.params.loop&&(r+=this.loopedSlides),this.slideTo(r,e,i,n)},slideNext:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var n=this.params,r=this.animating;return n.loop?!r&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+n.slidesPerGroup,t,e,i)):this.slideTo(this.activeIndex+n.slidesPerGroup,t,e,i)},slidePrev:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var n=this.params,r=this.animating;return n.loop?!r&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex-1,t,e,i)):this.slideTo(this.activeIndex-1,t,e,i)},slideReset:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);return this.slideTo(this.activeIndex,t,e,i)},slideToClickedSlide:function(){var t,e=this,i=e.params,r=e.$wrapperEl,s="auto"===i.slidesPerView?e.slidesPerViewDynamic():i.slidesPerView,o=e.clickedIndex;if(i.loop){if(e.animating)return;t=parseInt(n(e.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?o<e.loopedSlides-s/2||o>e.slides.length-e.loopedSlides+s/2?(e.loopFix(),o=r.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),l.nextTick((function(){e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-s?(e.loopFix(),o=r.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),l.nextTick((function(){e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}},m={loopCreate:function(){var e=this,i=e.params,r=e.$wrapperEl;r.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var s=r.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var o=i.slidesPerGroup-s.length%i.slidesPerGroup;if(o!==i.slidesPerGroup){for(var a=0;a<o;a+=1){var l=n(t.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);r.append(l)}s=r.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=s.length),e.loopedSlides=parseInt(i.loopedSlides||i.slidesPerView,10),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);var c=[],h=[];s.each((function(t,i){var r=n(i);t<e.loopedSlides&&h.push(i),t<s.length&&t>=s.length-e.loopedSlides&&c.push(i),r.attr("data-swiper-slide-index",t)}));for(var u=0;u<h.length;u+=1)r.append(n(h[u].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var f=c.length-1;f>=0;f-=1)r.prepend(n(c[f].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){var t,e=this.params,i=this.activeIndex,n=this.slides,r=this.loopedSlides,s=this.allowSlidePrev,o=this.allowSlideNext,a=this.snapGrid,l=this.rtl;this.allowSlidePrev=!0,this.allowSlideNext=!0;var c=-a[i]-this.getTranslate();if(i<r)t=n.length-3*r+i,t+=r,this.slideTo(t,0,!1,!0)&&0!==c&&this.setTranslate((l?-this.translate:this.translate)-c);else if("auto"===e.slidesPerView&&i>=2*r||i>n.length-2*e.slidesPerView){t=-n.length+i+r,t+=r,this.slideTo(t,0,!1,!0)&&0!==c&&this.setTranslate((l?-this.translate:this.translate)-c)}this.allowSlidePrev=s,this.allowSlideNext=o},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,i=this.slides;t.children("."+e.slideClass+"."+e.slideDuplicateClass).remove(),i.removeAttr("data-swiper-slide-index")}},v={setGrabCursor:function(t){if(!c.touch&&this.params.simulateTouch){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){c.touch||(this.el.style.cursor="")}},y={appendSlide:function(t){var e=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var n=0;n<t.length;n+=1)t[n]&&e.append(t[n]);else e.append(t);i.loop&&this.loopCreate(),i.observer&&c.observer||this.update()},prependSlide:function(t){var e=this.params,i=this.$wrapperEl,n=this.activeIndex;e.loop&&this.loopDestroy();var r=n+1;if("object"==typeof t&&"length"in t){for(var s=0;s<t.length;s+=1)t[s]&&i.prepend(t[s]);r=n+t.length}else i.prepend(t);e.loop&&this.loopCreate(),e.observer&&c.observer||this.update(),this.slideTo(r,0,!1)},removeSlide:function(t){var e=this.params,i=this.$wrapperEl,n=this.activeIndex;e.loop&&(this.loopDestroy(),this.slides=i.children("."+e.slideClass));var r,s=n;if("object"==typeof t&&"length"in t){for(var o=0;o<t.length;o+=1)r=t[o],this.slides[r]&&this.slides.eq(r).remove(),r<s&&(s-=1);s=Math.max(s,0)}else r=t,this.slides[r]&&this.slides.eq(r).remove(),r<s&&(s-=1),s=Math.max(s,0);e.loop&&this.loopCreate(),e.observer&&c.observer||this.update(),e.loop?this.slideTo(s+this.loopedSlides,0,!1):this.slideTo(s,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},_=function(){var i=e.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:e.cordova||e.phonegap,phonegap:e.cordova||e.phonegap},r=i.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),s=i.match(/(Android);?[\s\/]+([\d.]+)?/),o=i.match(/(iPad).*OS\s([\d_]+)/),a=i.match(/(iPod)(.*OS\s([\d_]+))?/),l=!o&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(r&&(n.os="windows",n.osVersion=r[2],n.windows=!0),s&&!r&&(n.os="android",n.osVersion=s[2],n.android=!0,n.androidChrome=i.toLowerCase().indexOf("chrome")>=0),(o||l||a)&&(n.os="ios",n.ios=!0),l&&!a&&(n.osVersion=l[2].replace(/_/g,"."),n.iphone=!0),o&&(n.osVersion=o[2].replace(/_/g,"."),n.ipad=!0),a&&(n.osVersion=a[3]?a[3].replace(/_/g,"."):null,n.iphone=!0),n.ios&&n.osVersion&&i.indexOf("Version/")>=0&&"10"===n.osVersion.split(".")[0]&&(n.osVersion=i.toLowerCase().split("version/")[1].split(" ")[0]),n.desktop=!(n.os||n.android||n.webView),n.webView=(l||o||a)&&i.match(/.*AppleWebKit(?!.*Safari)/i),n.os&&"ios"===n.os){var c=n.osVersion.split("."),h=t.querySelector('meta[name="viewport"]');n.minimalUi=!n.webView&&(a||l)&&(1*c[0]==7?1*c[1]>=1:1*c[0]>7)&&h&&h.getAttribute("content").indexOf("minimal-ui")>=0}return n.pixelRatio=e.devicePixelRatio||1,n}(),b=function(i){var r=this.touchEventsData,s=this.params,o=this.touches;if(!this.animating||!s.preventIntercationOnTransition){var a=i;if(a.originalEvent&&(a=a.originalEvent),r.isTouchEvent="touchstart"===a.type,(r.isTouchEvent||!("which"in a)||3!==a.which)&&(!r.isTouched||!r.isMoved))if(s.noSwiping&&n(a.target).closest(s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass)[0])this.allowClick=!0;else if(!s.swipeHandler||n(a).closest(s.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var c=o.currentX,h=o.currentY;if(!(_.ios&&!_.cordova&&s.iOSEdgeSwipeDetection&&c<=s.iOSEdgeSwipeThreshold&&c>=e.screen.width-s.iOSEdgeSwipeThreshold)){if(l.extend(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=c,o.startY=h,r.touchStartTime=l.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==a.type){var u=!0;n(a.target).is(r.formElements)&&(u=!1),t.activeElement&&n(t.activeElement).is(r.formElements)&&t.activeElement!==a.target&&t.activeElement.blur(),u&&this.allowTouchMove&&a.preventDefault()}this.emit("touchStart",a)}}}},x=function(e){var i=this.touchEventsData,r=this.params,s=this.touches,o=this.rtl,a=e;if(a.originalEvent&&(a=a.originalEvent),i.isTouched){if(!i.isTouchEvent||"mousemove"!==a.type){var c="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,h="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if(a.preventedByNestedSwiper)return s.startX=c,void(s.startY=h);if(!this.allowTouchMove)return this.allowClick=!1,void(i.isTouched&&(l.extend(s,{startX:c,startY:h,currentX:c,currentY:h}),i.touchStartTime=l.now()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(h<s.startY&&this.translate<=this.maxTranslate()||h>s.startY&&this.translate>=this.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(c<s.startX&&this.translate<=this.maxTranslate()||c>s.startX&&this.translate>=this.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&a.target===t.activeElement&&n(a.target).is(i.formElements))return i.isMoved=!0,void(this.allowClick=!1);if(i.allowTouchCallbacks&&this.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){s.currentX=c,s.currentY=h;var u,f=s.currentX-s.startX,d=s.currentY-s.startY;if(void 0===i.isScrolling)this.isHorizontal()&&s.currentY===s.startY||this.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+d*d>=25&&(u=180*Math.atan2(Math.abs(d),Math.abs(f))/Math.PI,i.isScrolling=this.isHorizontal()?u>r.touchAngle:90-u>r.touchAngle);if(i.isScrolling&&this.emit("touchMoveOpposite",a),"undefined"==typeof startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){this.allowClick=!1,a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation(),i.isMoved||(r.loop&&this.loopFix(),i.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",a)),this.emit("sliderMove",a),i.isMoved=!0;var p=this.isHorizontal()?f:d;s.diff=p,p*=r.touchRatio,o&&(p=-p),this.swipeDirection=p>0?"prev":"next",i.currentTranslate=p+i.startTranslate;var g=!0,m=r.resistanceRatio;if(r.touchReleaseOnEdges&&(m=0),p>0&&i.currentTranslate>this.minTranslate()?(g=!1,r.resistance&&(i.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+i.startTranslate+p,m))):p<0&&i.currentTranslate<this.maxTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-i.startTranslate-p,m))),g&&(a.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(p)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=this.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===i.velocities.length&&i.velocities.push({position:s[this.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:s[this.isHorizontal()?"currentX":"currentY"],time:l.now()})),this.updateProgress(i.currentTranslate),this.setTranslate(i.currentTranslate))}}}}else i.isMoved&&i.isScrolling&&this.emit("touchMoveOpposite",a)},w=function(t){var e=this,i=e.touchEventsData,n=e.params,r=e.touches,s=e.rtl,o=e.$wrapperEl,a=e.slidesGrid,c=e.snapGrid,h=t;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&e.setGrabCursor(!1),void(i.isMoved=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var u,f=l.now(),d=f-i.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(h),e.emit("tap",h),d<300&&f-i.lastClickTime>300&&(i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=l.nextTick((function(){e&&!e.destroyed&&e.emit("click",h)}),300)),d<300&&f-i.lastClickTime<300&&(i.clickTimeout&&clearTimeout(i.clickTimeout),e.emit("doubleTap",h))),i.lastClickTime=l.now(),l.nextTick((function(){e.destroyed||(e.allowClick=!0)})),!i.isTouched||!i.isMoved||!e.swipeDirection||0===r.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,void(i.isMoved=!1);if(i.isTouched=!1,i.isMoved=!1,u=n.followFinger?s?e.translate:-e.translate:-i.currentTranslate,n.freeMode){if(u<-e.minTranslate())return void e.slideTo(e.activeIndex);if(u>-e.maxTranslate())return void(e.slides.length<c.length?e.slideTo(c.length-1):e.slideTo(e.slides.length-1));if(n.freeModeMomentum){if(i.velocities.length>1){var p=i.velocities.pop(),g=i.velocities.pop(),m=p.position-g.position,v=p.time-g.time;e.velocity=m/v,e.velocity/=2,Math.abs(e.velocity)<n.freeModeMinimumVelocity&&(e.velocity=0),(v>150||l.now()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=n.freeModeMomentumVelocityRatio,i.velocities.length=0;var y=1e3*n.freeModeMomentumRatio,_=e.velocity*y,b=e.translate+_;s&&(b=-b);var x,w=!1,S=20*Math.abs(e.velocity)*n.freeModeMomentumBounceRatio;if(b<e.maxTranslate())n.freeModeMomentumBounce?(b+e.maxTranslate()<-S&&(b=e.maxTranslate()-S),x=e.maxTranslate(),w=!0,i.allowMomentumBounce=!0):b=e.maxTranslate();else if(b>e.minTranslate())n.freeModeMomentumBounce?(b-e.minTranslate()>S&&(b=e.minTranslate()+S),x=e.minTranslate(),w=!0,i.allowMomentumBounce=!0):b=e.minTranslate();else if(n.freeModeSticky){for(var T,C=0;C<c.length;C+=1)if(c[C]>-b){T=C;break}b=-(b=Math.abs(c[T]-b)<Math.abs(c[T-1]-b)||"next"===e.swipeDirection?c[T]:c[T-1])}if(0!==e.velocity)y=s?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity);else if(n.freeModeSticky)return void e.slideReset();n.freeModeMomentumBounce&&w?(e.updateProgress(x),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd((function(){e&&!e.destroyed&&i.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(n.speed),e.setTranslate(x),o.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()})))}))):e.velocity?(e.updateProgress(b),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd((function(){e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}(!n.freeModeMomentum||d>=n.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var k=0,E=e.slidesSizesGrid[0],O=0;O<a.length;O+=n.slidesPerGroup)void 0!==a[O+n.slidesPerGroup]?u>=a[O]&&u<a[O+n.slidesPerGroup]&&(k=O,E=a[O+n.slidesPerGroup]-a[O]):u>=a[O]&&(k=O,E=a[a.length-1]-a[a.length-2]);var P=(u-a[k])/E;if(d>n.longSwipesMs){if(!n.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(P>=n.longSwipesRatio?e.slideTo(k+n.slidesPerGroup):e.slideTo(k)),"prev"===e.swipeDirection&&(P>1-n.longSwipesRatio?e.slideTo(k+n.slidesPerGroup):e.slideTo(k))}else{if(!n.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(k+n.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(k)}}},S=function(){var t=this.params,e=this.el;if(!e||0!==e.offsetWidth){t.breakpoints&&this.setBreakpoint();var i=this.allowSlideNext,n=this.allowSlidePrev;if(this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),t.freeMode){var r=Math.min(Math.max(this.translate,this.maxTranslate()),this.minTranslate());this.setTranslate(r),this.updateActiveIndex(),this.updateSlidesClasses(),t.autoHeight&&this.updateAutoHeight()}else this.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.allowSlidePrev=n,this.allowSlideNext=i}},T=function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))};var C,k={attachEvents:function(){var e=this.params,i=this.touchEvents,n=this.el,r=this.wrapperEl;this.onTouchStart=b.bind(this),this.onTouchMove=x.bind(this),this.onTouchEnd=w.bind(this),this.onClick=T.bind(this);var s="container"===e.touchEventsTarget?n:r,o=!!e.nested;if(c.touch||!c.pointerEvents&&!c.prefixedPointerEvents){if(c.touch){var a=!("touchstart"!==i.start||!c.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(i.start,this.onTouchStart,a),s.addEventListener(i.move,this.onTouchMove,c.passiveListener?{passive:!1,capture:o}:o),s.addEventListener(i.end,this.onTouchEnd,a)}(e.simulateTouch&&!_.ios&&!_.android||e.simulateTouch&&!c.touch&&_.ios)&&(s.addEventListener("mousedown",this.onTouchStart,!1),t.addEventListener("mousemove",this.onTouchMove,o),t.addEventListener("mouseup",this.onTouchEnd,!1))}else s.addEventListener(i.start,this.onTouchStart,!1),t.addEventListener(i.move,this.onTouchMove,o),t.addEventListener(i.end,this.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.addEventListener("click",this.onClick,!0),this.on("resize observerUpdate",S)},detachEvents:function(){var e=this.params,i=this.touchEvents,n=this.el,r=this.wrapperEl,s="container"===e.touchEventsTarget?n:r,o=!!e.nested;if(c.touch||!c.pointerEvents&&!c.prefixedPointerEvents){if(c.touch){var a=!("onTouchStart"!==i.start||!c.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(i.start,this.onTouchStart,a),s.removeEventListener(i.move,this.onTouchMove,o),s.removeEventListener(i.end,this.onTouchEnd,a)}(e.simulateTouch&&!_.ios&&!_.android||e.simulateTouch&&!c.touch&&_.ios)&&(s.removeEventListener("mousedown",this.onTouchStart,!1),t.removeEventListener("mousemove",this.onTouchMove,o),t.removeEventListener("mouseup",this.onTouchEnd,!1))}else s.removeEventListener(i.start,this.onTouchStart,!1),t.removeEventListener(i.move,this.onTouchMove,o),t.removeEventListener(i.end,this.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.removeEventListener("click",this.onClick,!0),this.off("resize observerUpdate",S)}},E={setBreakpoint:function(){var t=this.activeIndex,e=this.loopedSlides;void 0===e&&(e=0);var i=this.params,n=i.breakpoints;if(n&&(!n||0!==Object.keys(n).length)){var r=this.getBreakpoint(n);if(r&&this.currentBreakpoint!==r){var s=r in n?n[r]:this.originalParams,o=i.loop&&s.slidesPerView!==i.slidesPerView;l.extend(this.params,s),l.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=r,o&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(t-e+this.loopedSlides,0,!1)),this.emit("breakpoint",s)}}},getBreakpoint:function(t){if(t){var i=!1,n=[];Object.keys(t).forEach((function(t){n.push(t)})),n.sort((function(t,e){return parseInt(t,10)-parseInt(e,10)}));for(var r=0;r<n.length;r+=1){var s=n[r];s>=e.innerWidth&&!i&&(i=s)}return i||"max"}}},O={isIE:!!e.navigator.userAgent.match(/Trident/g)||!!e.navigator.userAgent.match(/MSIE/g),isSafari:(C=e.navigator.userAgent.toLowerCase(),C.indexOf("safari")>=0&&C.indexOf("chrome")<0&&C.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)};var P={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},D={update:f,translate:d,transition:p,slide:g,loop:m,grabCursor:v,manipulation:y,events:k,breakpoints:E,checkOverflow:{checkOverflow:function(){var t=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowTouchMove=!this.isLocked,t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var t=this.classNames,e=this.params,i=this.rtl,n=this.$el,r=[];r.push(e.direction),e.freeMode&&r.push("free-mode"),c.flexbox||r.push("no-flexbox"),e.autoHeight&&r.push("autoheight"),i&&r.push("rtl"),e.slidesPerColumn>1&&r.push("multirow"),_.android&&r.push("android"),_.ios&&r.push("ios"),O.isIE&&(c.pointerEvents||c.prefixedPointerEvents)&&r.push("wp8-"+e.direction),r.forEach((function(i){t.push(e.containerModifierClass+i)})),n.addClass(t.join(" "))},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" "))}},images:{loadImage:function(t,i,n,r,s,o){var a;function l(){o&&o()}t.complete&&s?l():i?((a=new e.Image).onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),i&&(a.src=i)):l()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var i=0;i<t.imagesToLoad.length;i+=1){var n=t.imagesToLoad[i];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},M={},A=function(t){function e(){for(var i,r,s,o=[],a=arguments.length;a--;)o[a]=arguments[a];1===o.length&&o[0].constructor&&o[0].constructor===Object?r=o[0]:(i=(s=o)[0],r=s[1]);r||(r={}),r=l.extend({},r),i&&!r.el&&(r.el=i),t.call(this,r),Object.keys(D).forEach((function(t){Object.keys(D[t]).forEach((function(i){e.prototype[i]||(e.prototype[i]=D[t][i])}))}));var h=this;void 0===h.modules&&(h.modules={}),Object.keys(h.modules).forEach((function(t){var e=h.modules[t];if(e.params){var i=Object.keys(e.params)[0],n=e.params[i];if("object"!=typeof n)return;if(!(i in r)||!("enabled"in n))return;!0===r[i]&&(r[i]={enabled:!0}),"object"!=typeof r[i]||"enabled"in r[i]||(r[i].enabled=!0),r[i]||(r[i]={enabled:!1})}}));var u=l.extend({},P);h.useModulesParams(u),h.params=l.extend({},u,M,r),h.originalParams=l.extend({},h.params),h.passedParams=l.extend({},r),h.$=n;var f=n(h.params.el);if(i=f[0]){if(f.length>1){var d=[];return f.each((function(t,i){var n=l.extend({},r,{el:i});d.push(new e(n))})),d}i.swiper=h,f.data("swiper",h);var p,g,m=f.children("."+h.params.wrapperClass);return l.extend(h,{$el:f,el:i,$wrapperEl:m,wrapperEl:m[0],classNames:[],slides:n(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===h.params.direction},isVertical:function(){return"vertical"===h.params.direction},rtl:"horizontal"===h.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===f.css("direction")),wrongRTL:"-webkit-box"===m.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEvents:(p=["touchstart","touchmove","touchend"],g=["mousedown","mousemove","mouseup"],c.pointerEvents?g=["pointerdown","pointermove","pointerup"]:c.prefixedPointerEvents&&(g=["MSPointerDown","MSPointerMove","MSPointerUp"]),h.touchEventsTouch={start:p[0],move:p[1],end:p[2]},h.touchEventsDesktop={start:g[0],move:g[1],end:g[2]},c.touch||!h.params.simulateTouch?h.touchEventsTouch:h.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:l.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.useModules(),h.params.init&&h.init(),h}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return e.prototype.slidesPerViewDynamic=function(){var t=this.params,e=this.slides,i=this.slidesGrid,n=this.size,r=this.activeIndex,s=1;if(t.centeredSlides){for(var o,a=e[r].swiperSlideSize,l=r+1;l<e.length;l+=1)e[l]&&!o&&(s+=1,(a+=e[l].swiperSlideSize)>n&&(o=!0));for(var c=r-1;c>=0;c-=1)e[c]&&!o&&(s+=1,(a+=e[c].swiperSlideSize)>n&&(o=!0))}else for(var h=r+1;h<e.length;h+=1)i[h]-i[r]<n&&(s+=1);return s},e.prototype.update=function(){var t=this;t&&!t.destroyed&&(t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(e(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||e(),t.emit("update"));function e(){var e=t.rtl?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}},e.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},e.prototype.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=this,n=i.params,r=i.$el,s=i.$wrapperEl,o=i.slides;i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),e&&(i.removeClasses(),r.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(t){i.off(t)})),!1!==t&&(i.$el[0].swiper=null,i.$el.data("swiper",null),l.deleteProps(i)),i.destroyed=!0},e.extendDefaults=function(t){l.extend(M,t)},i.extendedDefaults.get=function(){return M},i.defaults.get=function(){return P},i.Class.get=function(){return t},i.$.get=function(){return n},Object.defineProperties(e,i),e}(h),j={name:"device",proto:{device:_},static:{device:_}},L={name:"support",proto:{support:c},static:{support:c}},I={name:"browser",proto:{browser:O},static:{browser:O}},z={name:"resize",create:function(){var t=this;l.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){e.addEventListener("resize",this.resize.resizeHandler),e.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){e.removeEventListener("resize",this.resize.resizeHandler),e.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},R={func:e.MutationObserver||e.WebkitMutationObserver,attach:function(t,e){void 0===e&&(e={});var i=this,n=new(0,R.func)((function(t){t.forEach((function(t){i.emit("observerUpdate",t)}))}));n.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),i.observer.observers.push(n)},init:function(){if(c.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:!1}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(t){t.disconnect()})),this.observer.observers=[]}},Y={name:"observer",params:{observer:!1,observeParents:!1},create:function(){l.extend(this,{observer:{init:R.init.bind(this),attach:R.attach.bind(this),destroy:R.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},N={update:function(t){var e=this,i=e.params,n=i.slidesPerView,r=i.slidesPerGroup,s=i.centeredSlides,o=e.virtual,a=o.from,c=o.to,h=o.slides,u=o.slidesGrid,f=o.renderSlide,d=o.offset;e.updateActiveIndex();var p,g,m,v=e.activeIndex||0;p=e.rtl&&e.isHorizontal()?"right":e.isHorizontal()?"left":"top",s?(g=Math.floor(n/2)+r,m=Math.floor(n/2)+r):(g=n+(r-1),m=r);var y=Math.max((v||0)-m,0),_=Math.min((v||0)+g,h.length-1),b=(e.slidesGrid[y]||0)-(e.slidesGrid[0]||0);function x(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(l.extend(e.virtual,{from:y,to:_,offset:b,slidesGrid:e.slidesGrid}),a===y&&c===_&&!t)return e.slidesGrid!==u&&b!==d&&e.slides.css(p,b+"px"),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:y,to:_,slides:function(){for(var t=[],e=y;e<=_;e+=1)t.push(h[e]);return t}()}),void x();var w=[],S=[];if(t)e.$wrapperEl.find("."+e.params.slideClass).remove();else for(var T=a;T<=c;T+=1)(T<y||T>_)&&e.$wrapperEl.find("."+e.params.slideClass+'[data-swiper-slide-index="'+T+'"]').remove();for(var C=0;C<h.length;C+=1)C>=y&&C<=_&&(void 0===c||t?S.push(C):(C>c&&S.push(C),C<a&&w.push(C)));S.forEach((function(t){e.$wrapperEl.append(f(h[t],t))})),w.sort((function(t,e){return t<e})).forEach((function(t){e.$wrapperEl.prepend(f(h[t],t))})),e.$wrapperEl.children(".swiper-slide").css(p,b+"px"),x()},renderSlide:function(t,e){var i=this.params.virtual;if(i.cache&&this.virtual.cache[e])return this.virtual.cache[e];var r=i.renderSlide?n(i.renderSlide.call(this,t,e)):n('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+e+'">'+t+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",e),i.cache&&(this.virtual.cache[e]=r),r},appendSlide:function(t){this.virtual.slides.push(t),this.virtual.update(!0)},prependSlide:function(t){if(this.virtual.slides.unshift(t),this.params.virtual.cache){var e=this.virtual.cache,i={};Object.keys(e).forEach((function(t){i[t+1]=e[t]})),this.virtual.cache=i}this.virtual.update(!0),this.slideNext(0)}},B={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){l.extend(this,{virtual:{update:N.update.bind(this),appendSlide:N.appendSlide.bind(this),prependSlide:N.prependSlide.bind(this),renderSlide:N.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};l.extend(this.params,t),l.extend(this.originalParams,t),this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},F={handle:function(i){var n=i;n.originalEvent&&(n=n.originalEvent);var r=n.keyCode||n.charCode;if(!this.allowSlideNext&&(this.isHorizontal()&&39===r||this.isVertical()&&40===r))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&37===r||this.isVertical()&&38===r))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||t.activeElement&&t.activeElement.nodeName&&("input"===t.activeElement.nodeName.toLowerCase()||"textarea"===t.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(37===r||39===r||38===r||40===r)){var s=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var o=e.innerWidth,a=e.innerHeight,l=this.$el.offset();this.rtl&&(l.left-=this.$el[0].scrollLeft);for(var c=[[l.left,l.top],[l.left+this.width,l.top],[l.left,l.top+this.height],[l.left+this.width,l.top+this.height]],h=0;h<c.length;h+=1){var u=c[h];u[0]>=0&&u[0]<=o&&u[1]>=0&&u[1]<=a&&(s=!0)}if(!s)return}this.isHorizontal()?(37!==r&&39!==r||(n.preventDefault?n.preventDefault():n.returnValue=!1),(39===r&&!this.rtl||37===r&&this.rtl)&&this.slideNext(),(37===r&&!this.rtl||39===r&&this.rtl)&&this.slidePrev()):(38!==r&&40!==r||(n.preventDefault?n.preventDefault():n.returnValue=!1),40===r&&this.slideNext(),38===r&&this.slidePrev()),this.emit("keyPress",r)}},enable:function(){this.keyboard.enabled||(n(t).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(n(t).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},H={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){l.extend(this,{keyboard:{enabled:!1,enable:F.enable.bind(this),disable:F.disable.bind(this),handle:F.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}};var X={lastScrollTime:l.now(),event:e.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in t;if(!e){var i=t.createElement("div");i.setAttribute("onwheel","return;"),e="function"==typeof i.onwheel}return!e&&t.implementation&&t.implementation.hasFeature&&!0!==t.implementation.hasFeature("","")&&(e=t.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(t){var e=0,i=0,n=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=10*e,r=10*i,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||r)&&t.deltaMode&&(1===t.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!e&&(e=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:r}},handle:function(t){var i=t,n=this,r=n.params.mousewheel;i.originalEvent&&(i=i.originalEvent);var s=0,o=n.rtl?-1:1,a=X.normalize(i);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;s=a.pixelX*o}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;s=a.pixelY}else s=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*o:-a.pixelY;if(0===s)return!0;if(r.invert&&(s=-s),n.params.freeMode){var c=n.getTranslate()+s*r.sensitivity,h=n.isBeginning,u=n.isEnd;if(c>=n.minTranslate()&&(c=n.minTranslate()),c<=n.maxTranslate()&&(c=n.maxTranslate()),n.setTransition(0),n.setTranslate(c),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!h&&n.isBeginning||!u&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky&&(clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=l.nextTick((function(){n.slideReset()}),300)),n.emit("scroll",i),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.stopAutoplay(),c===n.minTranslate()||c===n.maxTranslate())return!0}else{if(l.now()-n.mousewheel.lastScrollTime>60)if(s<0)if(n.isEnd&&!n.params.loop||n.animating){if(r.releaseOnEdges)return!0}else n.slideNext(),n.emit("scroll",i);else if(n.isBeginning&&!n.params.loop||n.animating){if(r.releaseOnEdges)return!0}else n.slidePrev(),n.emit("scroll",i);n.mousewheel.lastScrollTime=(new e.Date).getTime()}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},enable:function(){if(!X.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=n(this.params.mousewheel.eventsTarged)),t.on(X.event,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){if(!X.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=n(this.params.mousewheel.eventsTarged)),t.off(X.event,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},W={update:function(){var t=this.params.navigation;if(!this.params.loop){var e=this.navigation,i=e.$nextEl,n=e.$prevEl;n&&n.length>0&&(this.isBeginning?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),i&&i.length>0&&(this.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))}},init:function(){var t,e,i=this,r=i.params.navigation;(r.nextEl||r.prevEl)&&(r.nextEl&&(t=n(r.nextEl),i.params.uniqueNavElements&&"string"==typeof r.nextEl&&t.length>1&&1===i.$el.find(r.nextEl).length&&(t=i.$el.find(r.nextEl))),r.prevEl&&(e=n(r.prevEl),i.params.uniqueNavElements&&"string"==typeof r.prevEl&&e.length>1&&1===i.$el.find(r.prevEl).length&&(e=i.$el.find(r.prevEl))),t&&t.length>0&&t.on("click",(function(t){t.preventDefault(),i.isEnd&&!i.params.loop||i.slideNext()})),e&&e.length>0&&e.on("click",(function(t){t.preventDefault(),i.isBeginning&&!i.params.loop||i.slidePrev()})),l.extend(i.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:e,prevEl:e&&e[0]}))},destroy:function(){var t=this.navigation,e=t.$nextEl,i=t.$prevEl;e&&e.length&&(e.off("click"),e.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click"),i.removeClass(this.params.navigation.disabledClass))}},$={update:function(){var t=this.rtl,e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var i,r=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,s=this.pagination.$el,o=this.params.loop?Math.ceil((r-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((i=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>r-1-2*this.loopedSlides&&(i-=r-2*this.loopedSlides),i>o-1&&(i-=o),i<0&&"bullets"!==this.params.paginationType&&(i=o+i)):i=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===e.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var a,l,c,h=this.pagination.bullets;if(e.dynamicBullets&&(this.pagination.bulletSize=h.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(e.dynamicMainBullets+4)+"px"),e.dynamicMainBullets>1&&void 0!==this.previousIndex&&(i>this.previousIndex&&this.pagination.dynamicBulletIndex<e.dynamicMainBullets-1?this.pagination.dynamicBulletIndex+=1:i<this.previousIndex&&this.pagination.dynamicBulletIndex>0&&(this.pagination.dynamicBulletIndex-=1)),a=i-this.pagination.dynamicBulletIndex,c=((l=a+(e.dynamicMainBullets-1))+a)/2),h.removeClass(e.bulletActiveClass+" "+e.bulletActiveClass+"-next "+e.bulletActiveClass+"-next-next "+e.bulletActiveClass+"-prev "+e.bulletActiveClass+"-prev-prev "+e.bulletActiveClass+"-main"),s.length>1)h.each((function(t,r){var s=n(r),o=s.index();o===i&&s.addClass(e.bulletActiveClass),e.dynamicBullets&&(o>=a&&o<=l&&s.addClass(e.bulletActiveClass+"-main"),o===a&&s.prev().addClass(e.bulletActiveClass+"-prev").prev().addClass(e.bulletActiveClass+"-prev-prev"),o===l&&s.next().addClass(e.bulletActiveClass+"-next").next().addClass(e.bulletActiveClass+"-next-next"))}));else if(h.eq(i).addClass(e.bulletActiveClass),e.dynamicBullets){for(var u=h.eq(a),f=h.eq(l),d=a;d<=l;d+=1)h.eq(d).addClass(e.bulletActiveClass+"-main");u.prev().addClass(e.bulletActiveClass+"-prev").prev().addClass(e.bulletActiveClass+"-prev-prev"),f.next().addClass(e.bulletActiveClass+"-next").next().addClass(e.bulletActiveClass+"-next-next")}if(e.dynamicBullets){var p=Math.min(h.length,e.dynamicMainBullets+4),g=(this.pagination.bulletSize*p-this.pagination.bulletSize)/2-c*this.pagination.bulletSize,m=t?"right":"left";h.css(this.isHorizontal()?m:"top",g+"px")}}if("fraction"===e.type&&(s.find("."+e.currentClass).text(i+1),s.find("."+e.totalClass).text(o)),"progressbar"===e.type){var v=(i+1)/o,y=v,_=1;this.isHorizontal()||(_=v,y=1),s.find("."+e.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+_+")").transition(this.params.speed)}"custom"===e.type&&e.renderCustom?(s.html(e.renderCustom(this,i+1,o)),this.emit("paginationRender",this,s[0])):this.emit("paginationUpdate",this,s[0]),s[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)}},render:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,n="";if("bullets"===t.type){for(var r=this.params.loop?Math.ceil((e-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,s=0;s<r;s+=1)t.renderBullet?n+=t.renderBullet.call(this,s,t.bulletClass):n+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";i.html(n),this.pagination.bullets=i.find("."+t.bulletClass)}"fraction"===t.type&&(n=t.renderFraction?t.renderFraction.call(this,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',i.html(n)),"progressbar"===t.type&&(n=t.renderProgressbar?t.renderProgressbar.call(this,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',i.html(n)),"custom"!==t.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var t=this,e=t.params.pagination;if(e.el){var i=n(e.el);0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&i.length>1&&1===t.$el.find(e.el).length&&(i=t.$el.find(e.el)),"bullets"===e.type&&e.clickable&&i.addClass(e.clickableClass),i.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(i.addClass(""+e.modifierClass+e.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),e.clickable&&i.on("click","."+e.bulletClass,(function(e){e.preventDefault();var i=n(this).index()*t.params.slidesPerGroup;t.params.loop&&(i+=t.loopedSlides),t.slideTo(i)})),l.extend(t.pagination,{$el:i,el:i[0]}))}},destroy:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click","."+t.bulletClass)}}},G={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=this.rtl,i=this.progress,n=t.dragSize,r=t.trackSize,s=t.$dragEl,o=t.$el,a=this.params.scrollbar,l=n,h=(r-n)*i;e&&this.isHorizontal()?(h=-h)>0?(l=n-h,h=0):-h+n>r&&(l=r+h):h<0?(l=n+h,h=0):h+n>r&&(l=r-h),this.isHorizontal()?(c.transforms3d?s.transform("translate3d("+h+"px, 0, 0)"):s.transform("translateX("+h+"px)"),s[0].style.width=l+"px"):(c.transforms3d?s.transform("translate3d(0px, "+h+"px, 0)"):s.transform("translateY("+h+"px)"),s[0].style.height=l+"px"),a.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout((function(){o[0].style.opacity=0,o.transition(400)}),1e3))}},setTransition:function(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=t.$dragEl,i=t.$el;e[0].style.width="",e[0].style.height="";var n,r=this.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,s=this.size/this.virtualSize,o=s*(r/this.size);n="auto"===this.params.scrollbar.dragSize?r*s:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?e[0].style.width=n+"px":e[0].style.height=n+"px",i[0].style.display=s>=1?"none":"",this.params.scrollbarHide&&(i[0].style.opacity=0),l.extend(t,{trackSize:r,divider:s,moveDivider:o,dragSize:n}),t.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},setDragPosition:function(t){var e,i=this.scrollbar,n=i.$el,r=i.dragSize,s=i.trackSize;e=((this.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-n.offset()[this.isHorizontal()?"left":"top"]-r/2)/(s-r),e=Math.max(Math.min(e,1),0),this.rtl&&(e=1-e);var o=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*e;this.updateProgress(o),this.setTranslate(o),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(t){var e=this.params.scrollbar,i=this.scrollbar,n=this.$wrapperEl,r=i.$el,s=i.$dragEl;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),n.transition(100),s.transition(100),i.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),r.transition(0),e.hide&&r.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this.scrollbar,i=this.$wrapperEl,n=e.$el,r=e.$dragEl;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),i.transition(0),n.transition(0),r.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this.params.scrollbar,i=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=l.nextTick((function(){i.css("opacity",0),i.transition(400)}),1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideReset())},enableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,i=this.touchEvents,n=this.touchEventsDesktop,r=this.params,s=e.$el[0],o=!(!c.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},a=!(!c.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};c.touch||!c.pointerEvents&&!c.prefixedPointerEvents?(c.touch&&(s.addEventListener(i.start,this.scrollbar.onDragStart,o),s.addEventListener(i.move,this.scrollbar.onDragMove,o),s.addEventListener(i.end,this.scrollbar.onDragEnd,a)),(r.simulateTouch&&!_.ios&&!_.android||r.simulateTouch&&!c.touch&&_.ios)&&(s.addEventListener("mousedown",this.scrollbar.onDragStart,o),t.addEventListener("mousemove",this.scrollbar.onDragMove,o),t.addEventListener("mouseup",this.scrollbar.onDragEnd,a))):(s.addEventListener(n.start,this.scrollbar.onDragStart,o),t.addEventListener(n.move,this.scrollbar.onDragMove,o),t.addEventListener(n.end,this.scrollbar.onDragEnd,a))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,i=this.touchEvents,n=this.touchEventsDesktop,r=this.params,s=e.$el[0],o=!(!c.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},a=!(!c.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};c.touch||!c.pointerEvents&&!c.prefixedPointerEvents?(c.touch&&(s.removeEventListener(i.start,this.scrollbar.onDragStart,o),s.removeEventListener(i.move,this.scrollbar.onDragMove,o),s.removeEventListener(i.end,this.scrollbar.onDragEnd,a)),(r.simulateTouch&&!_.ios&&!_.android||r.simulateTouch&&!c.touch&&_.ios)&&(s.removeEventListener("mousedown",this.scrollbar.onDragStart,o),t.removeEventListener("mousemove",this.scrollbar.onDragMove,o),t.removeEventListener("mouseup",this.scrollbar.onDragEnd,a))):(s.removeEventListener(n.start,this.scrollbar.onDragStart,o),t.removeEventListener(n.move,this.scrollbar.onDragMove,o),t.removeEventListener(n.end,this.scrollbar.onDragEnd,a))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.$el,i=this.params.scrollbar,r=n(i.el);this.params.uniqueNavElements&&"string"==typeof i.el&&r.length>1&&1===e.find(i.el).length&&(r=e.find(i.el));var s=r.find("."+this.params.scrollbar.dragClass);0===s.length&&(s=n('<div class="'+this.params.scrollbar.dragClass+'"></div>'),r.append(s)),l.extend(t,{$el:r,el:r[0],$dragEl:s,dragEl:s[0]}),i.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},V={setTransform:function(t,e){var i=this.rtl,r=n(t),s=i?-1:1,o=r.attr("data-swiper-parallax")||"0",a=r.attr("data-swiper-parallax-x"),l=r.attr("data-swiper-parallax-y"),c=r.attr("data-swiper-parallax-scale"),h=r.attr("data-swiper-parallax-opacity");if(a||l?(a=a||"0",l=l||"0"):this.isHorizontal()?(a=o,l="0"):(l=o,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*e*s+"%":a*e*s+"px",l=l.indexOf("%")>=0?parseInt(l,10)*e+"%":l*e+"px",null!=h){var u=h-(h-1)*(1-Math.abs(e));r[0].style.opacity=u}if(null==c)r.transform("translate3d("+a+", "+l+", 0px)");else{var f=c-(c-1)*(1-Math.abs(e));r.transform("translate3d("+a+", "+l+", 0px) scale("+f+")")}},setTranslate:function(){var t=this,e=t.$el,i=t.slides,r=t.progress,s=t.snapGrid;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,i){t.parallax.setTransform(i,r)})),i.each((function(e,i){var o=i.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(o+=Math.ceil(e/2)-r*(s.length-1)),o=Math.min(Math.max(o,-1),1),n(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,i){t.parallax.setTransform(i,o)}))}))},setTransition:function(t){void 0===t&&(t=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,i){var r=n(i),s=parseInt(r.attr("data-swiper-parallax-duration"),10)||t;0===t&&(s=0),r.transition(s)}))}},q={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,n=t.targetTouches[1].pageX,r=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-i,2))},onGestureStart:function(t){var e=this.params.zoom,i=this.zoom,r=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!c.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;i.fakeGestureTouched=!0,r.scaleStart=q.getDistanceBetweenTouches(t)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=n(t.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+e.containerClass),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(t){var e=this.params.zoom,i=this.zoom,n=i.gesture;if(!c.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;i.fakeGestureMoved=!0,n.scaleMove=q.getDistanceBetweenTouches(t)}n.$imageEl&&0!==n.$imageEl.length&&(c.gestures?this.zoom.scale=t.scale*i.currentScale:i.scale=n.scaleMove/n.scaleStart*i.currentScale,i.scale>n.maxRatio&&(i.scale=n.maxRatio-1+Math.pow(i.scale-n.maxRatio+1,.5)),i.scale<e.minRatio&&(i.scale=e.minRatio+1-Math.pow(e.minRatio-i.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")"))},onGestureEnd:function(t){var e=this.params.zoom,i=this.zoom,n=i.gesture;if(!c.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!_.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,n.maxRatio),e.minRatio),n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+i.scale+")"),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(n.$slideEl=void 0))},onTouchStart:function(t){var e=this.zoom,i=e.gesture,n=e.image;i.$imageEl&&0!==i.$imageEl.length&&(n.isTouched||(_.android&&t.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this.zoom,i=e.gesture,n=e.image,r=e.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,n.isTouched&&i.$slideEl)){n.isMoved||(n.width=i.$imageEl[0].offsetWidth,n.height=i.$imageEl[0].offsetHeight,n.startX=l.getTranslate(i.$imageWrapEl[0],"x")||0,n.startY=l.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),this.rtl&&(n.startX=-n.startX),this.rtl&&(n.startY=-n.startY));var s=n.width*e.scale,o=n.height*e.scale;if(!(s<i.slideWidth&&o<i.slideHeight)){if(n.minX=Math.min(i.slideWidth/2-s/2,0),n.maxX=-n.minX,n.minY=Math.min(i.slideHeight/2-o/2,0),n.maxY=-n.minY,n.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!n.isMoved&&!e.isScaling){if(this.isHorizontal()&&(Math.floor(n.minX)===Math.floor(n.startX)&&n.touchesCurrent.x<n.touchesStart.x||Math.floor(n.maxX)===Math.floor(n.startX)&&n.touchesCurrent.x>n.touchesStart.x))return void(n.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(n.minY)===Math.floor(n.startY)&&n.touchesCurrent.y<n.touchesStart.y||Math.floor(n.maxY)===Math.floor(n.startY)&&n.touchesCurrent.y>n.touchesStart.y))return void(n.isTouched=!1)}t.preventDefault(),t.stopPropagation(),n.isMoved=!0,n.currentX=n.touchesCurrent.x-n.touchesStart.x+n.startX,n.currentY=n.touchesCurrent.y-n.touchesStart.y+n.startY,n.currentX<n.minX&&(n.currentX=n.minX+1-Math.pow(n.minX-n.currentX+1,.8)),n.currentX>n.maxX&&(n.currentX=n.maxX-1+Math.pow(n.currentX-n.maxX+1,.8)),n.currentY<n.minY&&(n.currentY=n.minY+1-Math.pow(n.minY-n.currentY+1,.8)),n.currentY>n.maxY&&(n.currentY=n.maxY-1+Math.pow(n.currentY-n.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=n.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=n.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(n.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(n.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(n.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(n.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=n.touchesCurrent.x,r.prevPositionY=n.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,e=t.gesture,i=t.image,n=t.velocity;if(e.$imageEl&&0!==e.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var r=300,s=300,o=n.x*r,a=i.currentX+o,l=n.y*s,c=i.currentY+l;0!==n.x&&(r=Math.abs((a-i.currentX)/n.x)),0!==n.y&&(s=Math.abs((c-i.currentY)/n.y));var h=Math.max(r,s);i.currentX=a,i.currentY=c;var u=i.width*t.scale,f=i.height*t.scale;i.minX=Math.min(e.slideWidth/2-u/2,0),i.maxX=-i.minX,i.minY=Math.min(e.slideHeight/2-f/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),e.$imageWrapEl.transition(h).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,e=t.gesture;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0,t.scale=1,t.currentScale=1)},toggle:function(t){var e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in:function(t){var e,i,r,s,o,a,l,c,h,u,f,d,p,g,m,v,y=this.zoom,_=this.params.zoom,b=y.gesture,x=y.image;(b.$slideEl||(b.$slideEl=this.clickedSlide?n(this.clickedSlide):this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas"),b.$imageWrapEl=b.$imageEl.parent("."+_.containerClass)),b.$imageEl&&0!==b.$imageEl.length)&&(b.$slideEl.addClass(""+_.zoomedSlideClass),void 0===x.touchesStart.x&&t?(e="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,i="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(e=x.touchesStart.x,i=x.touchesStart.y),y.scale=b.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,y.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,t?(m=b.$slideEl[0].offsetWidth,v=b.$slideEl[0].offsetHeight,r=b.$slideEl.offset().left+m/2-e,s=b.$slideEl.offset().top+v/2-i,l=b.$imageEl[0].offsetWidth,c=b.$imageEl[0].offsetHeight,h=l*y.scale,u=c*y.scale,p=-(f=Math.min(m/2-h/2,0)),g=-(d=Math.min(v/2-u/2,0)),(o=r*y.scale)<f&&(o=f),o>p&&(o=p),(a=s*y.scale)<d&&(a=d),a>g&&(a=g)):(o=0,a=0),b.$imageWrapEl.transition(300).transform("translate3d("+o+"px, "+a+"px,0)"),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var t=this.zoom,e=this.params.zoom,i=t.gesture;i.$slideEl||(i.$slideEl=this.clickedSlide?n(this.clickedSlide):this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+e.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+e.zoomedSlideClass),i.$slideEl=void 0)},enable:function(){var t=this.zoom;if(!t.enabled){t.enabled=!0;var e=!("touchstart"!==this.touchEvents.start||!c.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};c.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove)}},disable:function(){var t=this.zoom;if(t.enabled){this.zoom.enabled=!1;var e=!("touchstart"!==this.touchEvents.start||!c.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};c.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove)}}},U={loadInSlide:function(t,e){void 0===e&&(e=!0);var i=this,r=i.params.lazy;if(void 0!==t&&0!==i.slides.length){var s=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):i.slides.eq(t),o=s.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!s.hasClass(r.elementClass)||s.hasClass(r.loadedClass)||s.hasClass(r.loadingClass)||(o=o.add(s[0])),0!==o.length&&o.each((function(t,o){var a=n(o);a.addClass(r.loadingClass);var l=a.attr("data-background"),c=a.attr("data-src"),h=a.attr("data-srcset"),u=a.attr("data-sizes");i.loadImage(a[0],c||l,h,u,!1,(function(){if(null!=i&&i&&(!i||i.params)&&!i.destroyed){if(l?(a.css("background-image",'url("'+l+'")'),a.removeAttr("data-background")):(h&&(a.attr("srcset",h),a.removeAttr("data-srcset")),u&&(a.attr("sizes",u),a.removeAttr("data-sizes")),c&&(a.attr("src",c),a.removeAttr("data-src"))),a.addClass(r.loadedClass).removeClass(r.loadingClass),s.find("."+r.preloaderClass).remove(),i.params.loop&&e){var t=s.attr("data-swiper-slide-index");if(s.hasClass(i.params.slideDuplicateClass)){var n=i.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(n.index(),!1)}else{var o=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');i.lazy.loadInSlide(o.index(),!1)}}i.emit("lazyImageReady",s[0],a[0])}})),i.emit("lazyImageLoad",s[0],a[0])}))}},load:function(){var t=this,e=t.$wrapperEl,i=t.params,r=t.slides,s=t.activeIndex,o=t.virtual&&i.virtual.enabled,a=i.lazy,l=i.slidesPerView;function c(t){if(o){if(e.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return!0}else if(r[t])return!0;return!1}function h(t){return o?n(t).attr("data-swiper-slide-index"):n(t).index()}if("auto"===l&&(l=0),t.lazy.initialImageLoaded||(t.lazy.initialImageLoaded=!0),t.params.watchSlidesVisibility)e.children("."+i.slideVisibleClass).each((function(e,i){var r=o?n(i).attr("data-swiper-slide-index"):n(i).index();t.lazy.loadInSlide(r)}));else if(l>1)for(var u=s;u<s+l;u+=1)c(u)&&t.lazy.loadInSlide(u);else t.lazy.loadInSlide(s);if(a.loadPrevNext)if(l>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){for(var f=a.loadPrevNextAmount,d=l,p=Math.min(s+d+Math.max(f,d),r.length),g=Math.max(s-Math.max(d,f),0),m=s+l;m<p;m+=1)c(m)&&t.lazy.loadInSlide(m);for(var v=g;v<s;v+=1)c(v)&&t.lazy.loadInSlide(v)}else{var y=e.children("."+i.slideNextClass);y.length>0&&t.lazy.loadInSlide(h(y));var _=e.children("."+i.slidePrevClass);_.length>0&&t.lazy.loadInSlide(h(_))}}},K={LinearSpline:function(t,e){var i,n,r,s,o,a=function(t,e){for(n=-1,i=t.length;i-n>1;)t[r=i+n>>1]<=e?n=r:i=r;return i};return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(o=a(this.x,t),s=o-1,(t-this.x[s])*(this.y[o]-this.y[s])/(this.x[o]-this.x[s])+this.y[s]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new K.LinearSpline(this.slidesGrid,t.slidesGrid):new K.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var i,n,r=this,s=r.controller.control;function o(t){var e=t.rtl&&"horizontal"===t.params.direction?-r.translate:r.translate;"slide"===r.params.controller.by&&(r.controller.getInterpolateFunction(t),n=-r.controller.spline.interpolate(-e)),n&&"container"!==r.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(r.maxTranslate()-r.minTranslate()),n=(e-r.minTranslate())*i+t.minTranslate()),r.params.controller.inverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setTranslate(n,r),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(s))for(var a=0;a<s.length;a+=1)s[a]!==e&&s[a]instanceof A&&o(s[a]);else s instanceof A&&e!==s&&o(s)},setTransition:function(t,e){var i,n=this,r=n.controller.control;function s(e){e.setTransition(t,n),0!==t&&(e.transitionStart(),e.$wrapperEl.transitionEnd((function(){r&&(e.params.loop&&"slide"===n.params.controller.by&&e.loopFix(),e.transitionEnd())})))}if(Array.isArray(r))for(i=0;i<r.length;i+=1)r[i]!==e&&r[i]instanceof A&&s(r[i]);else r instanceof A&&e!==r&&s(r)}},Z={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){var e=this.params.a11y;if(13===t.keyCode){var i=n(t.target);this.navigation&&this.navigation.$nextEl&&i.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(e.lastSlideMessage):this.a11y.notify(e.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&i.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(e.firstSlideMessage):this.a11y.notify(e.prevSlideMessage)),this.pagination&&i.is("."+this.params.pagination.bulletClass)&&i[0].click()}},notify:function(t){var e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation:function(){if(!this.params.loop){var t=this.navigation,e=t.$nextEl,i=t.$prevEl;i&&i.length>0&&(this.isBeginning?this.a11y.disableEl(i):this.a11y.enableEl(i)),e&&e.length>0&&(this.isEnd?this.a11y.disableEl(e):this.a11y.enableEl(e))}},updatePagination:function(){var t=this,e=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each((function(i,r){var s=n(r);t.a11y.makeElFocusable(s),t.a11y.addElRole(s,"button"),t.a11y.addElLabel(s,e.paginationBulletMessage.replace(/{{index}}/,s.index()+1))}))},init:function(){this.$el.append(this.a11y.liveRegion);var t,e,i=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(t=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(e=this.navigation.$prevEl),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,i.nextSlideMessage),t.on("keydown",this.a11y.onEnterKey)),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,i.prevSlideMessage),e.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var t,e;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(t=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(e=this.navigation.$prevEl),t&&t.off("keydown",this.a11y.onEnterKey),e&&e.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},J={init:function(){if(this.params.history){if(!e.history||!e.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=J.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||e.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=J.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var t=e.location.pathname.slice(1).split("/").filter((function(t){return""!==t})),i=t.length;return{key:t[i-2],value:t[i-1]}},setHistory:function(t,i){if(this.history.initialized&&this.params.history.enabled){var n=this.slides.eq(i),r=J.slugify(n.attr("data-history"));e.location.pathname.includes(t)||(r=t+"/"+r);var s=e.history.state;s&&s.value===r||(this.params.history.replaceState?e.history.replaceState({value:r},null,r):e.history.pushState({value:r},null,r))}},slugify:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,i){if(e)for(var n=0,r=this.slides.length;n<r;n+=1){var s=this.slides.eq(n);if(J.slugify(s.attr("data-history"))===e&&!s.hasClass(this.params.slideDuplicateClass)){var o=s.index();this.slideTo(o,t,i)}}else this.slideTo(0,t,i)}},Q={onHashCange:function(){var e=t.location.hash.replace("#","");e!==this.slides.eq(this.activeIndex).attr("data-hash")&&this.slideTo(this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+e+'"]').index())},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var i=this.slides.eq(this.activeIndex),n=i.attr("data-hash")||i.attr("data-history");t.location.hash=n||""}},init:function(){if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var i=t.location.hash.replace("#","");if(i)for(var r=0,s=this.slides.length;r<s;r+=1){var o=this.slides.eq(r);if((o.attr("data-hash")||o.attr("data-history"))===i&&!o.hasClass(this.params.slideDuplicateClass)){var a=o.index();this.slideTo(a,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&n(e).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&n(e).off("hashchange",this.hashNavigation.onHashCange)}},tt={run:function(){var t=this,e=t.slides.eq(t.activeIndex),i=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=l.nextTick((function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))}),i)},start:function(){return void 0===this.autoplay.timeout&&(!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0))},stop:function(){return!!this.autoplay.running&&(void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0))},pause:function(t){var e=this;e.autoplay.running&&(e.autoplay.paused||(e.autoplay.timeout&&clearTimeout(e.autoplay.timeout),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?e.$wrapperEl.transitionEnd((function(){e&&!e.destroyed&&(e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())})):(e.autoplay.paused=!1,e.autoplay.run())))}},et={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var i=this.slides.eq(e),n=-i[0].swiperSlideOffset;this.params.virtualTranslate||(n-=this.translate);var r=0;this.isHorizontal()||(r=n,n=0);var s=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:s}).transform("translate3d("+n+"px, "+r+"px, 0px)")}},setTransition:function(t){var e=this,i=e.slides,n=e.$wrapperEl;if(i.transition(t),e.params.virtualTranslate&&0!==t){var r=!1;i.transitionEnd((function(){if(!r&&e&&!e.destroyed){r=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],i=0;i<t.length;i+=1)n.trigger(t[i])}}))}}},it={setTranslate:function(){var t,e=this.$el,i=this.$wrapperEl,r=this.slides,s=this.width,o=this.height,a=this.rtl,l=this.size,c=this.params.cubeEffect,h=this.isHorizontal(),u=this.virtual&&this.params.virtual.enabled,f=0;c.shadow&&(h?(0===(t=i.find(".swiper-cube-shadow")).length&&(t=n('<div class="swiper-cube-shadow"></div>'),i.append(t)),t.css({height:s+"px"})):0===(t=e.find(".swiper-cube-shadow")).length&&(t=n('<div class="swiper-cube-shadow"></div>'),e.append(t)));for(var d=0;d<r.length;d+=1){var p=r.eq(d),g=d;u&&(g=parseInt(p.attr("data-swiper-slide-index"),10));var m=90*g,v=Math.floor(m/360);a&&(m=-m,v=Math.floor(-m/360));var y=Math.max(Math.min(p[0].progress,1),-1),_=0,b=0,x=0;g%4==0?(_=4*-v*l,x=0):(g-1)%4==0?(_=0,x=4*-v*l):(g-2)%4==0?(_=l+4*v*l,x=l):(g-3)%4==0&&(_=-l,x=3*l+4*l*v),a&&(_=-_),h||(b=_,_=0);var w="rotateX("+(h?0:-m)+"deg) rotateY("+(h?m:0)+"deg) translate3d("+_+"px, "+b+"px, "+x+"px)";if(y<=1&&y>-1&&(f=90*g+90*y,a&&(f=90*-g-90*y)),p.transform(w),c.slideShadows){var S=h?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),T=h?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===S.length&&(S=n('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),p.append(S)),0===T.length&&(T=n('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),p.append(T)),S.length&&(S[0].style.opacity=Math.max(-y,0)),T.length&&(T[0].style.opacity=Math.max(y,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow)if(h)t.transform("translate3d(0px, "+(s/2+c.shadowOffset)+"px, "+-s/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var C=Math.abs(f)-90*Math.floor(Math.abs(f)/90),k=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),E=c.shadowScale,P=c.shadowScale/k,D=c.shadowOffset;t.transform("scale3d("+E+", 1, "+P+") translate3d(0px, "+(o/2+D)+"px, "+-o/2/P+"px) rotateX(-90deg)")}var M=O.isSafari||O.isUiWebView?-l/2:0;i.transform("translate3d(0px,0,"+M+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},nt={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var i=t.eq(e),r=i[0].progress;this.params.flipEffect.limitRotation&&(r=Math.max(Math.min(i[0].progress,1),-1));var s=-180*r,o=0,a=-i[0].swiperSlideOffset,l=0;if(this.isHorizontal()?this.rtl&&(s=-s):(l=a,a=0,o=-s,s=0),i[0].style.zIndex=-Math.abs(Math.round(r))+t.length,this.params.flipEffect.slideShadows){var c=this.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),h=this.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=n('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===h.length&&(h=n('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),i.append(h)),c.length&&(c[0].style.opacity=Math.max(-r,0)),h.length&&(h[0].style.opacity=Math.max(r,0))}i.transform("translate3d("+a+"px, "+l+"px, 0px) rotateX("+o+"deg) rotateY("+s+"deg)")}},setTransition:function(t){var e=this,i=e.slides,n=e.activeIndex,r=e.$wrapperEl;if(i.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.virtualTranslate&&0!==t){var s=!1;i.eq(n).transitionEnd((function(){if(!s&&e&&!e.destroyed){s=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],i=0;i<t.length;i+=1)r.trigger(t[i])}}))}}},rt={setTranslate:function(){for(var t=this.width,e=this.height,i=this.slides,r=this.$wrapperEl,s=this.slidesSizesGrid,o=this.params.coverflowEffect,a=this.isHorizontal(),l=this.translate,h=a?t/2-l:e/2-l,u=a?o.rotate:-o.rotate,f=o.depth,d=0,p=i.length;d<p;d+=1){var g=i.eq(d),m=s[d],v=(h-g[0].swiperSlideOffset-m/2)/m*o.modifier,y=a?u*v:0,_=a?0:u*v,b=-f*Math.abs(v),x=a?0:o.stretch*v,w=a?o.stretch*v:0;Math.abs(w)<.001&&(w=0),Math.abs(x)<.001&&(x=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(_)<.001&&(_=0);var S="translate3d("+w+"px,"+x+"px,"+b+"px)  rotateX("+_+"deg) rotateY("+y+"deg)";if(g.transform(S),g[0].style.zIndex=1-Math.abs(Math.round(v)),o.slideShadows){var T=a?g.find(".swiper-slide-shadow-left"):g.find(".swiper-slide-shadow-top"),C=a?g.find(".swiper-slide-shadow-right"):g.find(".swiper-slide-shadow-bottom");0===T.length&&(T=n('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),g.append(T)),0===C.length&&(C=n('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),g.append(C)),T.length&&(T[0].style.opacity=v>0?v:0),C.length&&(C[0].style.opacity=-v>0?-v:0)}}(c.pointerEvents||c.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin=h+"px 50%")},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},st=[j,L,I,z,Y,B,H,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){l.extend(this,{mousewheel:{enabled:!1,enable:X.enable.bind(this),disable:X.disable.bind(this),handle:X.handle.bind(this),lastScrollTime:l.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){l.extend(this,{navigation:{init:W.init.bind(this),update:W.update.bind(this),destroy:W.destroy.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var e=this.navigation,i=e.$nextEl,r=e.$prevEl;!this.params.navigation.hideOnClick||n(t.target).is(r)||n(t.target).is(i)||(i&&i.toggleClass(this.params.navigation.hiddenClass),r&&r.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){l.extend(this,{pagination:{init:$.init.bind(this),render:$.render.bind(this),update:$.update.bind(this),destroy:$.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){(this.params.loop||void 0===this.snapIndex)&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!n(t.target).hasClass(this.params.pagination.bulletClass)&&this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){l.extend(this,{scrollbar:{init:G.init.bind(this),destroy:G.destroy.bind(this),updateSize:G.updateSize.bind(this),setTranslate:G.setTranslate.bind(this),setTransition:G.setTransition.bind(this),enableDraggable:G.enableDraggable.bind(this),disableDraggable:G.disableDraggable.bind(this),setDragPosition:G.setDragPosition.bind(this),onDragStart:G.onDragStart.bind(this),onDragMove:G.onDragMove.bind(this),onDragEnd:G.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){l.extend(this,{parallax:{setTransform:V.setTransform.bind(this),setTranslate:V.setTranslate.bind(this),setTransition:V.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(t){this.params.parallax&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var t=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach((function(i){e[i]=q[i].bind(t)})),l.extend(t,{zoom:e})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd:function(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap:function(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){l.extend(this,{lazy:{initialImageLoaded:!1,load:U.load.bind(this),loadInSlide:U.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){l.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:K.getInterpolateFunction.bind(this),setTranslate:K.setTranslate.bind(this),setTransition:K.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition:function(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!1,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var t=this;l.extend(t,{a11y:{liveRegion:n('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(Z).forEach((function(e){t.a11y[e]=Z[e].bind(t)}))},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){l.extend(this,{history:{init:J.init.bind(this),setHistory:J.setHistory.bind(this),setHistoryPopState:J.setHistoryPopState.bind(this),scrollToSlide:J.scrollToSlide.bind(this),destroy:J.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){l.extend(this,{hashNavigation:{initialized:!1,init:Q.init.bind(this),destroy:Q.destroy.bind(this),setHash:Q.setHash.bind(this),onHashCange:Q.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){l.extend(this,{autoplay:{running:!1,paused:!1,run:tt.run.bind(this),start:tt.start.bind(this),stop:tt.stop.bind(this),pause:tt.pause.bind(this)}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){l.extend(this,{fadeEffect:{setTranslate:et.setTranslate.bind(this),setTransition:et.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};l.extend(this.params,t),l.extend(this.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){l.extend(this,{cubeEffect:{setTranslate:it.setTranslate.bind(this),setTransition:it.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};l.extend(this.params,t),l.extend(this.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){l.extend(this,{flipEffect:{setTranslate:nt.setTranslate.bind(this),setTransition:nt.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};l.extend(this.params,t),l.extend(this.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){l.extend(this,{coverflowEffect:{setTranslate:rt.setTranslate.bind(this),setTransition:rt.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}}];return void 0===A.use&&(A.use=A.Class.use,A.installModule=A.Class.installModule),A.use(st),A})),function(t){"use strict";var e=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),t.prototype.clearData=function(t){null!=t?delete this._data[t]:this._data=null},t.prototype.getData=function(t){return this._data[t]},t.prototype.setData=function(t,e){this._data[t]=e},t.prototype.setDragImage=function(t,e,n){var r=i._instance;r._imgCustom=t,r._imgOffset={x:e,y:n}},t}();t.DataTransfer=e;var i=function(){function t(){if(this._lastClick=0,t._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",(function(){}),{get passive(){return e=!0,!0}}),"ontouchstart"in document){var i=document,n=this._touchstart.bind(this),r=this._touchmove.bind(this),s=this._touchend.bind(this),o=!!e&&{passive:!1,capture:!1};i.addEventListener("touchstart",n,o),i.addEventListener("touchmove",r,o),i.addEventListener("touchend",s),i.addEventListener("touchcancel",s)}}return t.getInstance=function(){return t._instance},t.prototype._touchstart=function(e){var i=this._touchmove.bind(this);document.addEventListener("touchmove",i,!1);var n=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<t._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.preventDefault(),void this._reset();this._reset();var r=this._closestDraggable(e.target);r&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=r,this._ptDown=this._getPoint(e),this._lastTouch=e,e.preventDefault(),setTimeout((function(){n._dragSource==r&&null==n._img&&n._dispatchEvent(e,"contextmenu",r)&&n._reset()}),t._CTXMENU)))}},t.prototype._touchmove=function(e){if(this._shouldHandle(e)){var i=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",i))return this._lastTouch=e,void e.preventDefault();if(this._dragSource&&!this._img)this._getDelta(e)>t._THRESHOLD&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",i));this._img&&(this._lastTouch=e,e.preventDefault(),i!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",i),this._lastTarget=i),this._moveImage(e),this._dispatchEvent(e,"dragover",i))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},t.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new e},t.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),{x:e?t.pageX:t.clientX,y:e?t.pageY:t.clientY}},t.prototype._getDelta=function(t){var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),i=document.elementFromPoint(e.x,e.y);i&&"none"==getComputedStyle(i).pointerEvents;)i=i.parentElement;return i},t.prototype._createImage=function(e){this._img&&this._destroyImage();var i=this._imgCustom||this._dragSource;if(this._img=i.cloneNode(!0),this._copyStyle(i,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var n=i.getBoundingClientRect(),r=this._getPoint(e);this._imgOffset={x:r.x-n.left,y:r.y-n.top},this._img.style.opacity=t._OPACITY.toString()}this._moveImage(e);r=this._getPoint(e,!0);var s=this._img.style;s.position="absolute",s.pointerEvents="none",s.zIndex="999999",s.left=Math.round(r.x-this._imgOffset.x)+"px",s.top=Math.round(r.y-this._imgOffset.y)+"px",document.body.appendChild(this._img)},t.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame((function(){if(e._img){var i=e._getPoint(t,!0),n=e._img.style;n.left=Math.round(i.x-e._imgOffset.x)+"px",n.top=Math.round(i.y-e._imgOffset.y)+"px"}}))},t.prototype._copyProps=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];t[r]=e[r]}},t.prototype._copyStyle=function(e,i){if(t._rmvAtts.forEach((function(t){i.removeAttribute(t)})),e instanceof HTMLCanvasElement){var n=e,r=i;r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0)}for(var s=getComputedStyle(e),o=0;o<s.length;o++){var a=s[o];a.indexOf("transition")<0&&(i.style[a]=s[a])}i.style.pointerEvents="none";for(o=0;o<e.children.length;o++)this._copyStyle(e.children[o],i.children[o])},t.prototype._dispatchEvent=function(e,i,n){if(e&&n){var r=document.createEvent("Event"),s=e.touches?e.touches[0]:e;return r.initEvent(i,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,e,t._kbdProps),this._copyProps(r,s,t._ptProps),r.dataTransfer=this._dataTransfer,n.dispatchEvent(r),r.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.draggable)return t;return null},t}();i._instance=new i,i._THRESHOLD=5,i._OPACITY=.5,i._DBLCLICK=500,i._CTXMENU=900,i._rmvAtts="id,class,style,draggable".split(","),i._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),i._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=i}(DragDropTouch||(DragDropTouch={})),
/*! rangeslider.js - v2.3.2 | (c) 2018 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t};var e,i=0,n=((e=document.createElement("input")).setAttribute("type","range"),"text"!==e.type),r={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},s={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};function o(t){return t&&(0===t.offsetWidth||0===t.offsetHeight||!1===t.open)}function a(t,e){var i=function(t){for(var e=[],i=t.parentNode;o(i);)e.push(i),i=i.parentNode;return e}(t),n=i.length,r=[],s=t[e];function a(t){void 0!==t.open&&(t.open=!t.open)}if(n){for(var l=0;l<n;l++)r[l]=i[l].style.cssText,i[l].style.setProperty?i[l].style.setProperty("display","block","important"):i[l].style.cssText+=";display: block !important",i[l].style.height="0",i[l].style.overflow="hidden",i[l].style.visibility="hidden",a(i[l]);s=t[e];for(var c=0;c<n;c++)i[c].style.cssText=r[c],a(i[c])}return s}function l(t,e){var i=parseFloat(t);return Number.isNaN(i)?e:i}function c(t){return t.charAt(0).toUpperCase()+t.substr(1)}function h(e,o){if(this.$window=t(window),this.$document=t(document),this.$element=t(e),this.options=t.extend({},r,o),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=s.orientation[this.orientation].dimension,this.DIRECTION=s.orientation[this.orientation].direction,this.DIRECTION_STYLE=s.orientation[this.orientation].directionStyle,this.COORDINATE=s.orientation[this.orientation].coordinate,this.polyfill&&n)return!1;this.identifier="js-rangeslider-"+i++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=t('<div class="'+this.options.fillClass+'">'),this.$handle=t('<div class="'+this.options.handleClass+'"><div>'),this.$range=t('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var a,l,c=this;this.$window.on("resize."+this.identifier,(a=function(){!function(t,e){var i=Array.prototype.slice.call(arguments,2);setTimeout((function(){return t.apply(null,i)}),e)}((function(){c.update(!1,!1)}),300)},l=(l=20)||100,function(){if(!a.debouncing){var t=Array.prototype.slice.apply(arguments);a.lastReturnVal=a.apply(window,t),a.debouncing=!0}return clearTimeout(a.debounceTimeout),a.debounceTimeout=setTimeout((function(){a.debouncing=!1}),l),a.lastReturnVal})),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,(function(t,e){if(!e||e.origin!==c.identifier){var i=t.target.value,n=c.getPositionFromValue(i);c.setPosition(n)}}))}return h.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},h.prototype.update=function(t,e){(t=t||!1)&&(this.min=l(this.$element[0].getAttribute("min"),0),this.max=l(this.$element[0].getAttribute("max"),100),this.value=l(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=l(this.$element[0].getAttribute("step"),1)),this.handleDimension=a(this.$handle[0],"offset"+c(this.DIMENSION)),this.rangeDimension=a(this.$range[0],"offset"+c(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,e)},h.prototype.handleDown=function(t){if(t.preventDefault(),!(t.button&&0!==t.button||(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),(" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1))){var e=this.getRelativePosition(t),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=this.getPositionFromNode(this.$handle[0])-i,r="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(r),e>=n&&e<n+this.handleDimension&&(this.grabPos=e-n)}},h.prototype.handleMove=function(t){t.preventDefault();var e=this.getRelativePosition(t),i="vertical"===this.orientation?this.maxHandlePos-(e-this.grabPos):e-this.grabPos;this.setPosition(i)},h.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},h.prototype.cap=function(t,e,i){return t<e?e:t>i?i:t},h.prototype.setPosition=function(t,e){var i,n;void 0===e&&(e=!0),i=this.getValueFromPosition(this.cap(t,0,this.maxHandlePos)),n=this.getPositionFromValue(i),this.$fill[0].style[this.DIMENSION]=n+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=n+"px",this.setValue(i),this.position=n,this.value=i;var r=this.$element[0];e&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,i,r)},h.prototype.setPosition2=function(t,e){this.$fill[0].style[this.DIMENSION]=t+"px",this.$handle[0].style[this.DIRECTION_STYLE]=t-30+"px"},h.prototype.getPositionFromNode=function(t){for(var e=0;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e},h.prototype.getRelativePosition=function(t){var e=c(this.COORDINATE),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=0;return void 0!==t.originalEvent["client"+e]?n=t.originalEvent["client"+e]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0]["client"+e]?n=t.originalEvent.touches[0]["client"+e]:t.currentPoint&&void 0!==t.currentPoint[this.COORDINATE]&&(n=t.currentPoint[this.COORDINATE]),n-i},h.prototype.getPositionFromValue=function(t){var e;return e=(t-this.min)/(this.max-this.min),Number.isNaN(e)?0:e*this.maxHandlePos},h.prototype.getValueFromPosition=function(t){var e,i;return e=t/(this.maxHandlePos||1),i=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},h.prototype.setValue=function(t){t===this.value&&""!==this.$element[0].value||this.$element.val(t).trigger("input",{origin:this.identifier})},h.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_rangeslider"),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},t.fn.rangeslider=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),r=n.data("plugin_rangeslider");r||n.data("plugin_rangeslider",r=new h(this,e)),"string"==typeof e&&r[e].apply(r,i)}))},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"})),function(t,e,i){if(t){for(var n,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l=1;l<20;++l)r[111+l]="f"+l;for(l=0;l<=9;++l)r[l+96]=l.toString();p.prototype.bind=function(t,e,i){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,i),this},p.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},p.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},p.prototype.reset=function(){return this._callbacks={},this._directMap={},this},p.prototype.stopCallback=function(t,i){return!((" "+i.className+" ").indexOf(" mousetrap ")>-1)&&(!function t(i,n){return null!==i&&i!==e&&(i===n||t(i.parentNode,n))}(i,this.target)&&("INPUT"==i.tagName||"SELECT"==i.tagName||"TEXTAREA"==i.tagName||i.isContentEditable))},p.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},p.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);n=null},p.init=function(){var t=p(e);for(var i in t)"_"!==i.charAt(0)&&(p[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i))},p.init(),t.Mousetrap=p,"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define.amd&&define((function(){return p}))}function c(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return r[t.which]?r[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function u(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function f(t,e,i){return i||(i=function(){if(!n)for(var t in n={},r)t>95&&t<112||r.hasOwnProperty(t)&&(n[r[t]]=t);return n}()[t]?"keydown":"keypress"),"keypress"==i&&e.length&&(i="keydown"),i}function d(t,e){var i,n,r,s=[];for(i=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),r=0;r<i.length;++r)n=i[r],a[n]&&(n=a[n]),e&&"keypress"!=e&&o[n]&&(n=o[n],s.push("shift")),u(n)&&s.push(n);return{key:n,modifiers:s,action:e=f(n,s,e)}}function p(t){var i=this;if(t=t||e,!(i instanceof p))return new p(t);i.target=t,i._callbacks={},i._directMap={};var n,r={},s=!1,o=!1,a=!1;function l(t){t=t||{};var e,i=!1;for(e in r)t[e]?i=!0:r[e]=0;i||(a=!1)}function f(t,e,n,s,o,a){var l,c,h,f,d=[],p=n.type;if(!i._callbacks[t])return[];for("keyup"==p&&u(t)&&(e=[t]),l=0;l<i._callbacks[t].length;++l)if(c=i._callbacks[t][l],(s||!c.seq||r[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!n.metaKey&&!n.ctrlKey||(h=e,f=c.modifiers,h.sort().join(",")===f.sort().join(",")))){var g=!s&&c.combo==o,m=s&&c.seq==s&&c.level==a;(g||m)&&i._callbacks[t].splice(l,1),d.push(c)}return d}function g(t,e,n,r){i.stopCallback(e,e.target||e.srcElement,n,r)||!1===t(e,n)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(e),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(e))}function m(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=h(t);e&&("keyup"!=t.type||s!==e?i.handleKey(e,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):s=!1)}function v(t,e,i,o){function c(e){return function(){a=e,++r[t],clearTimeout(n),n=setTimeout(l,1e3)}}function u(e){g(i,e,t),"keyup"!==o&&(s=h(e)),setTimeout(l,10)}r[t]=0;for(var f=0;f<e.length;++f){var p=f+1===e.length?u:c(o||d(e[f+1]).action);y(e[f],p,o,t,f)}}function y(t,e,n,r,s){i._directMap[t+":"+n]=e;var o,a=(t=t.replace(/\s+/g," ")).split(" ");a.length>1?v(t,a,e,n):(o=d(t,n),i._callbacks[o.key]=i._callbacks[o.key]||[],f(o.key,o.modifiers,{type:o.action},r,t,s),i._callbacks[o.key][r?"unshift":"push"]({callback:e,modifiers:o.modifiers,action:o.action,seq:r,level:s,combo:t}))}i._handleKey=function(t,e,i){var n,r=f(t,e,i),s={},c=0,h=!1;for(n=0;n<r.length;++n)r[n].seq&&(c=Math.max(c,r[n].level));for(n=0;n<r.length;++n)if(r[n].seq){if(r[n].level!=c)continue;h=!0,s[r[n].seq]=1,g(r[n].callback,i,r[n].combo,r[n].seq)}else h||g(r[n].callback,i,r[n].combo);var d="keypress"==i.type&&o;i.type!=a||u(t)||d||l(s),o=h&&"keydown"==i.type},i._bindMultiple=function(t,e,i){for(var n=0;n<t.length;++n)y(t[n],e,i)},c(t,"keypress",m),c(t,"keydown",m),c(t,"keyup",m)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null);
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var fabric=fabric||{version:"1.7.2"},fabric_overflowed_img=new Image;fabric_overflowed_img.crossOrigin="Anonymous",fabric_overflowed_img.src="//s3.marpple.co/files/u_193535/2019/7/original/f_560075_1563334423229_L4HPnA2CSoXum1I0T0FM.svg?canvas=v1";var fabric_smallsized_img=new Image;fabric_smallsized_img.crossOrigin="Anonymous",fabric_smallsized_img.src="//s3.marpple.co/files/u_193535/2019/7/original/f_560073_1563334423229_dw2L4CMNt7RBBOlo4W2A.svg?canvas=v1";var fabric_oversized_img=new Image;function getWholeChar(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}function graphemeSplit(t){var e,i=0,n=[];for(i=0;i<t.length;i++)!1!==(e=getWholeChar(t,i))&&n.push(e);return n}fabric_oversized_img.crossOrigin="Anonymous",fabric_oversized_img.src="//s3.marpple.co/files/u_193535/2019/7/original/f_560072_1563334423229_qqlToIV0z2aS9su0oQh.svg?canvas=v1","undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window&&(fabric.document=document,fabric.window=window,window.fabric=fabric),fabric.trimCanvas=function(){function t(t,e,i){for(var n=0;n<e;++n)if(0!==t.data[i*e*4+4*n+3])return!1;return!0}function e(t,e,i,n,r){for(var s=n;s<r;++s)if(0!==t.data[s*e*4+4*i+3])return!1;return!0}return function(i){for(var n=i.getContext("2d"),r=i.width,s=n.getImageData(0,0,i.width,i.height),o=0,a=s.height,l=0,c=s.width;o<a&&t(s,r,o);)++o;for(;a-1>o&&t(s,r,a-1);)--a;for(;l<c&&e(s,r,l,o,a);)++l;for(;c-1>l&&e(s,r,c-1,o,a);)--c;var h=n.getImageData(l,o,c-l,a-o),u=i.ownerDocument.createElement("canvas"),f=u.getContext("2d");return u.width=h.width,u.height=h.height,f.putImageData(h,0,0),u}}(),fabric.trimSize=function(){function t(t,e,i){for(var n=0;n<e;++n)if(0!==t.data[i*e*4+4*n+3])return!1;return!0}function e(t,e,i,n,r){for(var s=n;s<r;++s)if(0!==t.data[s*e*4+4*i+3])return!1;return!0}return function(i){for(var n=i.getContext("2d"),r=i.width,s=n.getImageData(0,0,i.width,i.height),o=0,a=s.height,l=0,c=s.width;o<a&&t(s,r,o);)++o;for(;a-1>o&&t(s,r,a-1);)--a;for(;l<c&&e(s,r,l,o,a);)++l;for(;c-1>l&&e(s,r,c-1,o,a);)--c;return{left:l,right:i.width-c,width:c-l,height:a-o,bottom:i.height-a,top:o}}}(),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",fabric.fontPaths={},fabric.charWidthsCache={},fabric.devicePixelRatio=Math.min(2,fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:fabric.util.array.fill(i,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}}function n(t,e){if(this.__eventListeners){var i=this.__eventListeners[t];if(i){for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});return this.__eventListeners[t]=i.filter((function(t){return!1!==t})),this}}}fabric.Observable={observe:e,stopObserving:i,fire:n,on:e,off:i,trigger:n}}(),fabric.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,i){var n=this.getObjects();return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),i=!1,n=0,r=arguments.length;n<r;n++)-1!==(t=e.indexOf(arguments[n]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.renderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(t){return void 0===t?this._objects:this._objects.filter((function(e){return e.type===t}))},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},function(t){var e=Math.sqrt,i=Math.atan2,n=Math.pow,r=Math.abs,s=Math.PI/180;fabric.util={removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*s},radiansToDegrees:function(t){return t/s},rotatePoint:function(t,e,i){t.subtractEquals(e);var n=fabric.util.rotateVector(t,i);return new fabric.Point(n.x,n.y).addEquals(e)},rotateVector:function(t,e){var i=Math.sin(e),n=Math.cos(e);return{x:t.x*n-t.y*i,y:t.x*i+t.y*n}},transformPoint:function(t,e,i){return i?new fabric.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],i=fabric.util.array.min(e),n=fabric.util.array.max(e),r=Math.abs(i-n),s=[t[0].y,t[1].y,t[2].y,t[3].y],o=fabric.util.array.min(s),a=fabric.util.array.max(s);return{left:i,top:o,width:r,height:Math.abs(o-a)}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],n=fabric.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-n.x,i[5]=-n.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return n*fabric.DPI/25.4;case"cm":return n*fabric.DPI/2.54;case"in":return n*fabric.DPI;case"pt":return n*fabric.DPI/72;case"pc":return n*fabric.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;var i,n=e.split("."),r=n.length,s=t||fabric.window;for(i=0;i<r;++i)s=s[n[i]];return s},loadImage:function(t,e,i,n){if(t){var r=fabric.util.createImage();r.onload=function(){e&&e.call(i,r),r=r.onload=r.onerror=null},r.onerror=function(){fabric.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&n&&(r.crossOrigin=n),r.crossOrigin="Anonymous";var s=new RegExp("\\"+G.mp.maker.cross_origin_query_str);t=/data:image\/([a-zA-Z]*);base64,([^\"]*)/.exec(t)||s.exec(t)?t:t+G.mp.maker.cross_origin_query_str,r.src=t}else e&&e.call(i,t)},enlivenObjects:function(t,e,i,n){function r(){++o===a&&e&&e(s)}var s=[],o=0,a=(t=t||[]).length;a?t.forEach((function(t,e){if(t&&t.type){var o=fabric.util.getKlass(t.type,i);o.async?o.fromObject(t,(function(i,o){o||(s[e]=i,n&&n(t,s[e])),r()})):(s[e]=o.fromObject(t),n&&n(t,s[e]),r())}else r()})):e&&e(s)},groupSVGElements:function(t,e,i){var n;return n=new fabric.PathGroup(t,e),void 0!==i&&n.setSourcePath(i),n},populateWithProperties:function(t,e,i){if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},drawDashedLine:function(t,n,r,s,o,a){var l=s-n,c=o-r,h=e(l*l+c*c),u=i(c,l),f=a.length,d=0,p=!0;for(t.save(),t.translate(n,r),t.moveTo(0,0),t.rotate(u),n=0;h>n;)(n+=a[d++%f])>h&&(n=h),t[p?"lineTo":"moveTo"](n,0),p=!p;t.restore()},createCanvasElementt:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(t){var e,i,n,r,s,o=t.prototype;for(e=o.stateProperties.length;e--;)r="set"+(n=(i=o.stateProperties[e]).charAt(0).toUpperCase()+i.slice(1)),o[s="get"+n]||(o[s]=new Function('return this.get("'+i+'")')),o[r]||(o[r]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(i))},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var r=i(t[1],t[0]),o=n(t[0],2)+n(t[1],2),a=e(o),l=(t[0]*t[3]-t[2]*t[1])/a,c=i(t[0]*t[2]+t[1]*t[3],o);return{angle:r/s,scaleX:a,scaleY:l,skewX:c/s,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,i){var n=[1,0,r(Math.tan(i*s)),1],o=[r(t),0,0,r(e)];return fabric.util.multiplyTransformMatrices(o,n,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.setAngle(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);var r,s=!0,o=t.getImageData(e,i,2*n||1,2*n||1),a=o.data.length;for(r=3;r<a&&!1!==(s=o.data[r]<=0);r+=4);return o=null,s},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",n=t.split(" ");return n&&n.length&&("meet"!==(i=n.pop())&&"slice"!==i?(e=i,i="meet"):n.length&&(e=n.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){t?fabric.charWidthsCache[t]&&delete fabric.charWidthsCache[t]:fabric.charWidthsCache={}}}}("undefined"!=typeof exports?exports:this),function(){var t={},e={},i={},n=Array.prototype.join;function r(e,i,r,a,l,c,h){var u=n.call(arguments);if(t[u])return t[u];var f=Math.PI,d=h*f/180,p=Math.sin(d),g=Math.cos(d),m=0,v=0,y=-g*e*.5-p*i*.5,_=-g*i*.5+p*e*.5,b=(r=Math.abs(r))*r,x=(a=Math.abs(a))*a,w=_*_,S=y*y,T=b*x-b*w-x*S,C=0;if(T<0){var k=Math.sqrt(1-T/(b*x));r*=k,a*=k}else C=(l===c?-1:1)*Math.sqrt(T/(b*w+x*S));var E=C*r*_/a,O=-C*a*y/r,P=g*E-p*O+.5*e,D=p*E+g*O+.5*i,M=o(1,0,(y-E)/r,(_-O)/a),A=o((y-E)/r,(_-O)/a,(-y-E)/r,(-_-O)/a);0===c&&A>0?A-=2*f:1===c&&A<0&&(A+=2*f);for(var j=Math.ceil(Math.abs(A/f*2)),L=[],I=A/j,z=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2),R=M+I,Y=0;Y<j;Y++)L[Y]=s(M,R,g,p,r,a,P,D,z,m,v),m=L[Y][4],v=L[Y][5],M=R,R+=I;return t[u]=L,L}function s(t,i,r,s,o,a,l,c,h,u,f){var d=n.call(arguments);if(e[d])return e[d];var p=Math.cos(t),g=Math.sin(t),m=Math.cos(i),v=Math.sin(i),y=r*o*m-s*a*v+l,_=s*o*m+r*a*v+c,b=u+h*(-r*o*g-s*a*p),x=f+h*(-s*o*g+r*a*p),w=y+h*(r*o*v+s*a*m),S=_+h*(s*o*v-r*a*m);return e[d]=[b,x,w,S,y,_],e[d]}function o(t,e,i,n){var r=Math.atan2(e,t),s=Math.atan2(n,i);return s>=r?s-r:2*Math.PI-(r-s)}function a(t,e,r,s,o,a,l,c){var h=n.call(arguments);if(i[h])return i[h];var u,f,d,p,g,m,v,y,_=Math.sqrt,b=Math.min,x=Math.max,w=Math.abs,S=[],T=[[],[]];f=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*l,d=3*r-3*t;for(var C=0;C<2;++C)if(C>0&&(f=6*e-12*s+6*a,u=-3*e+9*s-9*a+3*c,d=3*s-3*e),w(u)<1e-12){if(w(f)<1e-12)continue;0<(p=-d/f)&&p<1&&S.push(p)}else(v=f*f-4*d*u)<0||(0<(g=(-f+(y=_(v)))/(2*u))&&g<1&&S.push(g),0<(m=(-f-y)/(2*u))&&m<1&&S.push(m));for(var k,E,O,P=S.length,D=P;P--;)k=(O=1-(p=S[P]))*O*O*t+3*O*O*p*r+3*O*p*p*o+p*p*p*l,T[0][P]=k,E=O*O*O*e+3*O*O*p*s+3*O*p*p*a+p*p*p*c,T[1][P]=E;T[0][D]=t,T[1][D]=e,T[0][D+1]=l,T[1][D+1]=c;var M=[{x:b.apply(null,T[0]),y:b.apply(null,T[1])},{x:x.apply(null,T[0]),y:x.apply(null,T[1])}];return i[h]=M,M}fabric.util.drawArc=function(t,e,i,n){for(var s=n[0],o=n[1],a=n[2],l=n[3],c=n[4],h=[[],[],[],[]],u=r(n[5]-e,n[6]-i,s,o,l,c,a),f=0,d=u.length;f<d;f++)h[f][0]=u[f][0]+e,h[f][1]=u[f][1]+i,h[f][2]=u[f][2]+e,h[f][3]=u[f][3]+i,h[f][4]=u[f][4]+e,h[f][5]=u[f][5]+i,t.bezierCurveTo.apply(t,h[f])},fabric.util.getBoundsOfArc=function(t,e,i,n,s,o,l,c,h){for(var u,f=0,d=0,p=[],g=r(c-t,h-e,i,n,o,l,s),m=0,v=g.length;m<v;m++)u=a(f,d,g[m][0],g[m][1],g[m][2],g[m][3],g[m][4],g[m][5]),p.push({x:u[0].x+t,y:u[0].y+e}),p.push({x:u[1].x+t,y:u[1].y+e}),f=g[m][4],d=g[m][5];return p},fabric.util.getBoundsOfCurve=a}(),function(){var t=Array.prototype.slice;function e(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==Number.POSITIVE_INFINITY&&n!==Number.NEGATIVE_INFINITY&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,n=this.length>>>0;i<n;i++)i in this&&t.call(e,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var i=[],n=0,r=this.length>>>0;n<r;n++)n in this&&(i[n]=t.call(e,this[n],n,this));return i}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var i=0,n=this.length>>>0;i<n;i++)if(i in this&&!t.call(e,this[i],i,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var i=0,n=this.length>>>0;i<n;i++)if(i in this&&t.call(e,this[i],i,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var i,n=[],r=0,s=this.length>>>0;r<s;r++)r in this&&(i=this[r],t.call(e,i,r,this)&&n.push(i));return n}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,i=this.length>>>0,n=0;if(arguments.length>1)e=arguments[1];else for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;n<i;n++)n in this&&(e=t.call(null,e,this[n],n,this));return e}),fabric.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(e,i){for(var n=t.call(arguments,2),r=[],s=0,o=e.length;s<o;s++)r[s]=n.length?e[s][i].apply(e[s],n):e[s][i].call(e[s]);return r},min:function(t,i){return e(t,i,(function(t,e){return t<e}))},max:function(t,i){return e(t,i,(function(t,e){return t>=e}))}}}(),function(){function t(e,i,n){if(n)if(!fabric.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var r=0,s=i.length;r<s;r++)e[r]=t({},i[r],n)}else if(i&&"object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=t({},i[o],n));else e=i;else for(var o in i)e[o]=i[o];return e}fabric.util.object={extend:t,clone:function(e,i){return t({},e,i)}}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:graphemeSplit},function(){var t=Array.prototype.slice,e=Function.prototype.apply,i=function(){};Function.prototype.bind||(Function.prototype.bind=function(n){var r,s=this,o=t.call(arguments,1);return r=o.length?function(){return e.call(s,this instanceof i?this:n,o.concat(t.call(arguments)))}:function(){return e.call(s,this instanceof i?this:n,arguments)},i.prototype=this.prototype,r.prototype=new i,r})}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),n=function(t,e,n){for(var r in e)r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function s(e){var i=this.constructor.superclass.prototype[e];return arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this)}fabric.util.createClass=function(){var i=null,o=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(i=o.shift()),a.superclass=i,a.subclasses=[],i&&(r.prototype=i.prototype,a.prototype=new r,i.subclasses.push(a));for(var l=0,c=o.length;l<c;l++)n(a,o[l],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=s,a}}(),function(){function t(t){var e,i,n=Array.prototype.slice.call(arguments,1),r=n.length;for(i=0;i<r;i++)if(e=typeof t[n[i]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}var e,i,n,r,s=(n=0,function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+n++)});function o(t,i){return function(n){i.call(e(t),n||fabric.window.event)}}r={},e=function(t){return r[t]},i=function(t,e){r[t]=e};var a,l,c=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),h=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),u={},f={};c?(a=function(t,e,i){t.addEventListener(e,i,!1)},l=function(t,e,i){t.removeEventListener(e,i,!1)}):h?(a=function(t,e,n){var r=s(t);i(r,t),u[r]||(u[r]={}),u[r][e]||(u[r][e]=[]);var a=function(t,e){return{handler:e,wrappedHandler:o(t,e)}}(r,n);u[r][e].push(a),t.attachEvent("on"+e,a.wrappedHandler)},l=function(t,e,i){var n,r=s(t);if(u[r]&&u[r][e])for(var o=0,a=u[r][e].length;o<a;o++)(n=u[r][e][o])&&n.handler===i&&(t.detachEvent("on"+e,n.wrappedHandler),u[r][e][o]=null)}):(a=function(t,e,i){var n=s(t);if(f[n]||(f[n]={}),!f[n][e]){f[n][e]=[];var r=t["on"+e];r&&f[n][e].push(r),t["on"+e]=function(t,e){return function(i){if(f[t]&&f[t][e])for(var n=f[t][e],r=0,s=n.length;r<s;r++)n[r].call(this,i||fabric.window.event)}}(n,e)}f[n][e].push(i)},l=function(t,e,i){var n=s(t);if(f[n]&&f[n][e])for(var r=f[n][e],o=0,a=r.length;o<a;o++)r[o]===i&&r.splice(o,1)}),fabric.util.addListener=a,fabric.util.removeListener=l;var d=function(t){return"unknown"!=typeof t.clientX?t.clientX:0},p=function(t){return"unknown"!=typeof t.clientY?t.clientY:0};function g(t,e,i){var n="touchend"===t.type?"changedTouches":"touches";return t[n]&&t[n][0]&&t[n][0][e]-(t[n][0][e]-t[n][0][i])||t[i]}fabric.isTouchSupported&&(d=function(t){return g(t,"pageX","clientX")},p=function(t){return g(t,"pageY","clientY")}),fabric.util.getPointer=function(t){t||(t=fabric.window.event);var e=t.target||("unknown"!=typeof t.srcElement?t.srcElement:null),i=fabric.util.getScrollLeftTop(e);return{x:d(t)+i.left,y:p(t)+i.top}},fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){var t=fabric.document.createElement("div"),e="string"==typeof t.style.opacity,i="string"==typeof t.style.filter,n=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,r=function(t){return t};e?r=function(t,e){return t.style.opacity=e,t}:i&&(r=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),n.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(n,e)):i.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=function(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?r(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e){if("opacity"===n)r(t,e[n]);else i["float"===n||"cssFloat"===n?void 0===i.styleFloat?"cssFloat":"styleFloat":n]=e[n]}return t}}(),function(){var t=Array.prototype.slice;var e,i,n,r,s=function(e){return t.call(e,0)};try{e=s(fabric.document.childNodes)instanceof Array}catch(t){}function o(t,e){var i=fabric.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function a(t){for(var e=0,i=0,n=fabric.document.documentElement,r=fabric.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===fabric.document?(e=r.scrollLeft||n.scrollLeft||0,i=r.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==fabric.util.getElementStyle(t,"position")););return{left:e,top:i}}e||(s=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),i=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var i=fabric.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},n=fabric.document.documentElement.style,r="userSelect"in n?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"",fabric.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),r?t.style[r]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},fabric.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),r?t.style[r]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},fabric.util.getScript=function(t,e){var i=fabric.document.getElementsByTagName("head")[0],n=fabric.document.createElement("script"),r=!0;n.onload=n.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||fabric.window.event),n=n.onload=n.onreadystatechange=null}},n.src=t,i.appendChild(n)},fabric.util.getById=function(t){return"string"==typeof t?fabric.document.getElementById(t):t},fabric.util.toArray=s,fabric.util.makeElement=o,fabric.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},fabric.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=o(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},fabric.util.getScrollLeftTop=a,fabric.util.getElementOffset=function(t){var e,n,r=t&&t.ownerDocument,s={left:0,top:0},o={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return o;for(var c in l)o[l[c]]+=parseInt(i(t,c),10)||0;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(s=t.getBoundingClientRect()),n=a(t),{left:s.left+n.left-(e.clientLeft||0)+o.left,top:s.top+n.top-(e.clientTop||0)+o.top}},fabric.util.getElementStyle=i}(),function(){var t=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{if(t[e]())return t[e]}catch(t){}}();function e(){}fabric.util.request=function(i,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",s=n.onComplete||function(){},o=t(),a=n.body||n.parameters;return o.onreadystatechange=function(){4===o.readyState&&(s(o),o.onreadystatechange=e)},"GET"===r&&(a=null,"string"==typeof n.parameters&&(i=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(i,n.parameters))),o.open(r,i,!0),"POST"!==r&&"PUT"!==r||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(a),o}}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach((function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})})),function(){var t=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};function e(){return t.apply(fabric.window,arguments)}fabric.util.animate=function(t){e((function(i){t||(t={});var n,r=i||+new Date,s=t.duration||500,o=r+s,a=t.onChange||function(){},l=t.abort||function(){return!1},c=t.easing||function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},h="startValue"in t?t.startValue:0,u="endValue"in t?t.endValue:100,f=t.byValue||u-h;t.onStart&&t.onStart(),function i(u){var d=(n=u||+new Date)>o?s:n-r;l()?t.onComplete&&t.onComplete():(a(c(d,h,f,s)),n>o?t.onComplete&&t.onComplete():e(i))}(r)}))},fabric.util.requestAnimFrame=e}(),fabric.util.animateColor=function(t,e,i,n){var r=new fabric.Color(t).getSource(),s=new fabric.Color(e).getSource();n=n||{},fabric.util.animate(fabric.util.object.extend(n,{duration:i||500,startValue:r,endValue:s,byValue:s,easing:function(t,e,i,r){var s,o,a,l,c=n.colorEasing?n.colorEasing(t,r):1-Math.cos(t/r*(Math.PI/2));return s=e,o=i,a=c,l="rgba("+parseInt(s[0]+a*(o[0]-s[0]),10)+","+parseInt(s[1]+a*(o[1]-s[1]),10)+","+parseInt(s[2]+a*(o[2]-s[2]),10),l+=","+(s&&o?parseFloat(s[3]+a*(o[3]-s[3])):1),l+=")"}}))},function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,r){return i-n(r-t,0,i,r)+e}function n(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}fabric.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(i,n,r,s){var o=0;return 0===i?n:1===(i/=s)?n+r:(o||(o=.3*s),-e(t(r,r,o,1.70158),i,s)+n)},easeOutElastic:function(e,i,n,r){var s=0;if(0===e)return i;if(1===(e/=r))return i+n;s||(s=.3*r);var o=t(n,n,s,1.70158);return o.a*Math.pow(2,-10*e)*Math.sin((e*r-o.s)*(2*Math.PI)/o.p)+o.c+i},easeInOutElastic:function(i,n,r,s){var o=0;if(0===i)return n;if(2===(i/=s/2))return n+r;o||(o=s*(.3*1.5));var a=t(r,r,o,1.70158);return i<1?-.5*e(a,i,s)+n:a.a*Math.pow(2,-10*(i-=1))*Math.sin((i*s-a.s)*(2*Math.PI)/a.p)*.5+a.c+n},easeInBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:i,easeOutBounce:n,easeInOutBounce:function(t,e,r,s){return t<s/2?.5*i(2*t,0,r,s)+e:.5*n(2*t-s,0,r,s)+.5*r+e}}}(),function(t){"use strict";var e,i,n,r,s,o,a=t.fabric||(t.fabric={}),l=a.util.object.extend,c=a.util.string.capitalize,h=a.util.object.clone,u=a.util.toFixed,f=a.util.parseUnit,d=a.util.multiplyTransformMatrices,p=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,g=/^(symbol|image|marker|pattern|view|svg)$/i,m=/^(?:pattern|defs|symbol|metadata)$/i,v=/^(symbol|g|a|svg)$/i,y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},_={stroke:"strokeOpacity",fill:"fillOpacity"};function b(t){return t in y?y[t]:t}function x(t,e,i,n){var r,s="[object Array]"===Object.prototype.toString.call(e);return"fill"!==t&&"stroke"!==t||"none"!==e?"strokeDashArray"===t?e="none"===e?null:e.replace(/,/g," ").split(/\s+/).map((function(t){return parseFloat(t)})):"transformMatrix"===t?e=i&&i.transformMatrix?d(i.transformMatrix,a.parseTransformAttribute(e)):a.parseTransformAttribute(e):"visible"===t?(e="none"!==e&&"hidden"!==e,i&&!1===i.visible&&(e=!1)):"originX"===t?e="start"===e?"left":"end"===e?"right":"center":r=s?e.map(f):f(e,n):e="",!s&&isNaN(r)?e:r}function w(t,e){for(var i,n,r=[],s=0;s<e.length;s++)i=e[s],n=t.getElementsByTagName(i),r=r.concat(Array.prototype.slice.call(n));return r}function S(t,e){var i,n=!0;return(i=T(t,e.pop()))&&e.length&&(n=function(t,e){var i,n=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),t=t.parentNode,n=T(t,i);return 0===e.length}(t,e)),i&&n&&0===e.length}function T(t,e){var i,n=t.nodeName,r=t.getAttribute("class"),s=t.getAttribute("id");if(i=new RegExp("^"+n,"i"),e=e.replace(i,""),s&&e.length&&(i=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),r&&e.length)for(var o=(r=r.split(" ")).length;o--;)i=new RegExp("\\."+r[o]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function C(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var n,r,s=t.getElementsByTagName("*");for(r=0;r<s.length;r++)if(e===(n=s[r]).getAttribute("id"))return n}a.cssRules={},a.gradientDefs={},a.parseTransformAttribute=(e=[1,0,0,1,0,0],i=a.reNum,r="(?:(?:(matrix)\\s*\\(\\s*("+i+")"+(n="(?:\\s+,?\\s*|,\\s*)")+"("+i+")"+n+"("+i+")"+n+"("+i+")"+n+"("+i+")"+n+"("+i+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+i+")(?:"+n+"("+i+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+i+")(?:"+n+"("+i+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+i+")(?:"+n+"("+i+")"+n+"("+i+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\)))",s=new RegExp("^\\s*(?:(?:"+r+"(?:"+n+"*"+r+")*)?)\\s*$"),o=new RegExp(r,"g"),function(t){var i=e.concat(),n=[];if(!t||t&&!s.test(t))return i;t.replace(o,(function(t){var s=new RegExp(r).exec(t).filter((function(t){return!!t})),o=s[1],l=s.slice(2).map(parseFloat);switch(o){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(i,l);break;case"rotate":l[0]=a.util.degreesToRadians(l[0]),function(t,e){var i=e[0],n=3===e.length?e[1]:0,r=3===e.length?e[2]:0;t[0]=Math.cos(i),t[1]=Math.sin(i),t[2]=-Math.sin(i),t[3]=Math.cos(i),t[4]=n-(t[0]*n+t[2]*r),t[5]=r-(t[1]*n+t[3]*r)}(i,l);break;case"scale":!function(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}(i,l);break;case"skewX":!function(t,e){t[2]=Math.tan(a.util.degreesToRadians(e[0]))}(i,l);break;case"skewY":!function(t,e){t[1]=Math.tan(a.util.degreesToRadians(e[0]))}(i,l);break;case"matrix":i=l}n.push(i.concat()),i=e.concat()}));for(var l=n[0];n.length>1;)n.shift(),l=a.util.multiplyTransformMatrices(l,n[0]);return l});var k=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function E(t){var e,i,n,r,s,o,l=t.getAttribute("viewBox"),c=1,h=1,u=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,m=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",y=!l||!g.test(t.nodeName)||!(l=l.match(k)),_=!u||!d||"100%"===u||"100%"===d,b=y&&_,x={},w="";if(x.width=0,x.height=0,x.toBeParsed=b,b)return x;if(y)return x.width=f(u),x.height=f(d),x;if(e=-parseFloat(l[1]),i=-parseFloat(l[2]),n=parseFloat(l[3]),r=parseFloat(l[4]),_?(x.width=n,x.height=r):(x.width=f(u),x.height=f(d),c=x.width/n,h=x.height/r),"none"!==(v=a.util.parsePreserveAspectRatioAttribute(v)).alignX&&(h=c=c>h?h:c),1===c&&1===h&&0===e&&0===i&&0===p&&0===m)return x;if((p||m)&&(w=" translate("+f(p)+" "+f(m)+") "),s=w+" matrix("+c+" 0 0 "+h+" "+e*c+" "+i*h+") ","svg"===t.nodeName){for(o=t.ownerDocument.createElement("g");t.firstChild;)o.appendChild(t.firstChild);t.appendChild(o)}else s=(o=t).getAttribute("transform")+s;return o.setAttribute("transform",s),x}a.parseSVGDocument=function(t,e,i){if(t){!function(t){for(var e=w(t,["use","svg:use"]),i=0;e.length&&i<e.length;){var n,r,s,o,a=e[i],l=a.getAttribute("xlink:href").substr(1),c=a.getAttribute("x")||0,h=a.getAttribute("y")||0,u=C(t,l).cloneNode(!0),f=(u.getAttribute("transform")||"")+" translate("+c+", "+h+")",d=e.length;if(E(u),/^svg$/i.test(u.nodeName)){var p=u.ownerDocument.createElement("g");for(r=0,o=(s=u.attributes).length;r<o;r++)n=s.item(r),p.setAttribute(n.nodeName,n.nodeValue);for(;u.firstChild;)p.appendChild(u.firstChild);u=p}for(r=0,o=(s=a.attributes).length;r<o;r++)"x"!==(n=s.item(r)).nodeName&&"y"!==n.nodeName&&"xlink:href"!==n.nodeName&&("transform"===n.nodeName?f=n.nodeValue+" "+f:u.setAttribute(n.nodeName,n.nodeValue));u.setAttribute("transform",f),u.setAttribute("instantiated_by_use","1"),u.removeAttribute("id"),a.parentNode.replaceChild(u,a),e.length===d&&i++}}(t);var n=new Date,r=a.Object.__uid++,s=E(t),o=a.util.toArray(t.getElementsByTagName("*"));if(s.svgUid=r,0===o.length&&a.isLikelyNode){for(var l=[],c=0,u=(o=t.selectNodes('//*[name(.)!="svg"]')).length;c<u;c++)l[c]=o[c];o=l}var f=o.filter((function(t){return E(t),p.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,m)}));!f||f&&!f.length?e&&e([],{}):(a.gradientDefs[r]=a.getGradientDefs(t),a.cssRules[r]=a.getCSSRules(t),a.parseElements(f,(function(t){a.documentParsingTime=new Date-n,e&&e(t,s)}),h(s),i))}};var O=function(t,e){e(!1)},P=function(){},D=function(){};function M(t,e,i){e[i]&&e[i].toSVG&&t.push('\t<pattern x="0" y="0" id="',i,'Pattern" ','width="',e[i].source.width,'" height="',e[i].source.height,'" patternUnits="userSpaceOnUse">\n','\t\t<image x="0" y="0" ','width="',e[i].source.width,'" height="',e[i].source.height,'" xlink:href="',e[i].source.src,'"></image>\n\t</pattern>\n')}var A=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");l(a,{parseFontDeclaration:function(t,e){var i=t.match(A);if(i){var n=i[1],r=i[3],s=i[4],o=i[5],a=i[6];n&&(e.fontStyle=n),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=f(s)),a&&(e.fontFamily=a),o&&(e.lineHeight="normal"===o?1:o)}},getGradientDefs:function(t){var e,i,n,r=w(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),s=0,o={},a={};for(s=r.length;s--;)n=(e=r[s]).getAttribute("xlink:href"),i=e.getAttribute("id"),n&&(a[i]=n.substr(1)),o[i]=e;for(i in a){var l=o[a[i]].cloneNode(!0);for(e=o[i];l.firstChild;)e.appendChild(l.firstChild)}return o},parseAttributes:function(t,e,i){if(t){var n,r,s={};void 0===i&&(i=t.getAttribute("svgUid")),t.parentNode&&v.test(t.parentNode.nodeName)&&(s=a.parseAttributes(t.parentNode,e,i)),r=s&&s.fontSize||t.getAttribute("font-size")||a.Text.DEFAULT_SVG_FONT_SIZE;var o=e.reduce((function(e,i){return(n=t.getAttribute(i))&&(i=b(i),n=x(i,n,s,r),e[i]=n),e}),{});return(o=l(o,l(function(t,e){var i={};for(var n in a.cssRules[e])if(S(t,n.split(" ")))for(var r in a.cssRules[e][n])i[r]=a.cssRules[e][n][r];return i}(t,i),a.parseStyleAttribute(t)))).font&&a.parseFontDeclaration(o.font,o),function(t){for(var e in _)if(void 0!==t[_[e]]&&""!==t[e]){if(void 0===t[e]){if(!a.Object.prototype[e])continue;t[e]=a.Object.prototype[e]}if(0!==t[e].indexOf("url(")){var i=new a.Color(t[e]);t[e]=i.setAlpha(u(i.getAlpha()*t[_[e]],2)).toRgba()}}return t}(l(s,o))}},parseElements:function(t,e,i,n){new a.ElementsParser(t,e,i,n).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?function(t,e){var i,n;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");i=b(r[0].trim().toLowerCase()),n=x(i,r[1].trim()),e[i]=n}))}(i,e):function(t,e){var i,n;for(var r in t)void 0!==t[r]&&(n=x(i=b(r.toLowerCase()),t[r]),e[i]=n)}(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,i,n=[];for(e=0,i=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<i;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){for(var e=t.getElementsByTagName("style"),i={},n=0,r=e.length;n<r;n++){var s=e[n].textContent||e[n].text;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){for(var e=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),n={},r=e[2].trim().replace(/;$/,"").split(/\s*;\s*/),s=0,o=r.length;s<o;s++){var l=r[s].split(/\s*:\s*/),c=b(l[0]),h=x(c,l[1],l[0]);n[c]=h}(t=e[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(i[t]?a.util.object.extend(i[t],n):i[t]=a.util.object.clone(n))}))}))}return i},loadSVGFromURL:function(t,e,i){function n(n){var r=n.responseXML;r&&!r.documentElement&&a.window.ActiveXObject&&n.responseText&&((r=new ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(n.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),r&&r.documentElement||e&&e(null),a.parseSVGDocument(r.documentElement,(function(i,n){D(t,{objects:a.util.array.invoke(i,"toObject"),options:n}),e&&e(i,n)}),i)}t=t.replace(/^\n\s*/,"").trim(),O(t,(function(i){i?P(t,(function(t){var i,n,r,s=(n=(i=t).objects,r=i.options,{objects:n=n.map((function(t){return a[c(t.type)].fromObject(t)})),options:r});e(s.objects,s.options)})):new a.util.request(t,{method:"get",onComplete:n})}))},loadSVGFromString:function(t,e,i){var n;if(t=t.trim(),"undefined"!=typeof DOMParser){var r=new DOMParser;r&&r.parseFromString&&(n=r.parseFromString(t,"text/xml"))}else a.window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));a.parseSVGDocument(n.documentElement,(function(t,i){e(t,i)}),i)},createSVGFontFacesMarkup:function(t){for(var e,i,n,r,s,o,l="",c={},h=a.fontPaths,u=0,f=t.length;u<f;u++)if(i=(e=t[u]).fontFamily,-1!==e.type.indexOf("text")&&!c[i]&&h[i]&&(c[i]=!0,e.styles))for(s in n=e.styles)for(o in r=n[s])!c[i=r[o].fontFamily]&&h[i]&&(c[i]=!0);for(var d in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",h[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},createSVGRefElementsMarkup:function(t){var e=[];return M(e,t,"backgroundColor"),M(e,t,"overlayColor"),e.join("")}})}("undefined"!=typeof exports?exports:this),fabric.ElementsParser=function(t,e,i,n){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout((function(){t.createObject(t.elements[e],e)}),0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var i=fabric[fabric.util.string.capitalize(t.tagName.replace("svg:",""))];if(i&&i.fromElement)try{this._createObject(i,t,e)}catch(t){fabric.log(t)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,i){if(t.async)t.fromElement(e,this.createCallback(i,e),this.options);else{var n=t.fromElement(e,this.options);this.resolveGradient(n,"fill"),this.resolveGradient(n,"stroke"),this.reviver&&this.reviver(e,n),this.instances[i]=n,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var i=this;return function(n){i.resolveGradient(n,"fill"),i.resolveGradient(n,"stroke"),i.reviver&&i.reviver(e,n),i.instances[t]=n,i.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var i=t.get(e);if(/^url\(/.test(i)){var n=i.slice(5,i.length-1);fabric.gradientDefs[this.svgUid][n]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][n],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances))},function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t,e){return new i(this.x+t,this.y+(void 0===e?t:e))},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,r,s){var o,a=(s.x-r.x)*(t.y-r.y)-(s.y-r.y)*(t.x-r.x),l=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),c=(s.y-r.y)*(n.x-t.x)-(s.x-r.x)*(n.y-t.y);if(0!==c){var h=a/c,u=l/c;0<=h&&h<=1&&0<=u&&u<=1?(o=new i("Intersection")).appendPoint(new e.Point(t.x+h*(n.x-t.x),t.y+h*(n.y-t.y))):o=new i}else o=new i(0===a||0===l?"Coincident":"Parallel");return o},e.Intersection.intersectLinePolygon=function(t,e,n){for(var r,s,o,a=new i,l=n.length,c=0;c<l;c++)r=n[c],s=n[(c+1)%l],o=i.intersectLineLine(t,e,r,s),a.appendPoints(o.points);return a.points.length>0&&(a.status="Intersection"),a},e.Intersection.intersectPolygonPolygon=function(t,e){for(var n=new i,r=t.length,s=0;s<r;s++){var o=t[s],a=t[(s+1)%r],l=i.intersectLinePolygon(o,a,e);n.appendPoints(l.points)}return n.points.length>0&&(n.status="Intersection"),n},e.Intersection.intersectPolygonRectangle=function(t,n,r){var s=n.min(r),o=n.max(r),a=new e.Point(o.x,s.y),l=new e.Point(s.x,o.y),c=i.intersectLinePolygon(s,a,t),h=i.intersectLinePolygon(a,o,t),u=i.intersectLinePolygon(o,l,t),f=i.intersectLinePolygon(l,s,t),d=new i;return d.appendPoints(c.points),d.appendPoints(h.points),d.appendPoints(u.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,n){t/=255,i/=255,n/=255;var r,s,o,a=e.util.array.max([t,i,n]),l=e.util.array.min([t,i,n]);if(o=(a+l)/2,a===l)r=s=0;else{var c=a-l;switch(s=o>.5?c/(2-a-l):c/(a+l),a){case t:r=(i-n)/c+(i<n?6:0);break;case i:r=(n-t)/c+2;break;case n:r=(t-i)/c+4}r/=6}return[Math.round(360*r),Math.round(100*s),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=1===(t=n[0].toString(16)).length?"0"+t:t,e=1===(e=n[1].toString(16)).length?"0"+e:e,i=1===(i=n[2].toString(16)).length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof i||(t=new i(t));for(var e=[],n=this.getAlpha(),r=this.getSource(),s=t.getSource(),o=0;o<3;o++)e.push(Math.round(.5*r[o]+.5*s[o]));return e[3]=n,this.setSource(e),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),s=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(s,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var r,s,o,a=(parseFloat(e[1])%360+360)%360/360,l=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===l)r=s=o=c;else{var h=c<=.5?c*(l+1):c+l-c*l,u=2*c-h;r=n(u,h,a+1/3),s=n(u,h,a),o=n(u,h,a-1/3)}return[Math.round(255*r),Math.round(255*s),Math.round(255*o),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,r=8===e.length||4===e.length,s=n?e.charAt(0)+e.charAt(0):e.substring(0,2),o=n?e.charAt(1)+e.charAt(1):e.substring(2,4),a=n?e.charAt(2)+e.charAt(2):e.substring(4,6),l=r?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(s,16),parseInt(o,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}("undefined"!=typeof exports?exports:this),function(){function t(t){var e,i,n,r=t.getAttribute("style"),s=t.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,r){var o=r.split(/\s*;\s*/);""===o[o.length-1]&&o.pop();for(var a=o.length;a--;){var l=o[a].split(/\s*:\s*/),c=l[0].trim(),h=l[1].trim();"stop-color"===c?e=h:"stop-opacity"===c&&(n=h)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),n||(n=t.getAttribute("stop-opacity")),i=(e=new fabric.Color(e)).getAlpha(),n=isNaN(parseFloat(n))?1:parseFloat(n),n*=i,{offset:s,color:e.toRgb(),opacity:n}}function e(t,e,i){var n,r=0,s=1,o="";for(var a in e)"Infinity"===e[a]?e[a]=1:"-Infinity"===e[a]&&(e[a]=0),n=parseFloat(e[a],10),s="string"==typeof e[a]&&/^\d+%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(s*="objectBoundingBox"===i?t.width:1,r="objectBoundingBox"===i&&t.left||0):"y1"!==a&&"y2"!==a||(s*="objectBoundingBox"===i?t.height:1,r="objectBoundingBox"===i&&t.top||0),e[a]=n*s+r;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===i&&t.rx!==t.ry){var l=t.ry/t.rx;o=" scale(1, "+l+")",e.y1&&(e.y1/=l),e.y2&&(e.y2/=l)}return o}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var i=new fabric.Color(t[e]);this.colorStops.push({offset:e,color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return fabric.util.populateWithProperties(this,e,t),e},toSVG:function(t){var e,i,n=fabric.util.object.clone(this.coords);if(this.colorStops.sort((function(t,e){return t.offset-e.offset})),!t.group||"path-group"!==t.group.type)for(var r in n)"x1"===r||"x2"===r||"r2"===r?n[r]+=this.offsetX-t.width/2:"y1"!==r&&"y2"!==r||(n[r]+=this.offsetY-t.height/2);i='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(i+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",i,' x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",i,' cx="',n.x2,'" cy="',n.y2,'" r="',n.r2,'" fx="',n.x1,'" fy="',n.y1,'">\n']);for(var s=0;s<this.colorStops.length;s++)e.push("<stop ",'offset="',100*this.colorStops[s].offset+"%",'" style="stop-color:',this.colorStops[s].color,null!==this.colorStops[s].opacity?";stop-opacity: "+this.colorStops[s].opacity:";",'"/>\n');return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var i,n,r=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(n in r)"x1"===n||"x2"===n?r[n]+=-this.offsetX+e.width/2:"y1"!==n&&"y2"!==n||(r[n]+=-this.offsetY+e.height/2);"linear"===this.type?i=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(i=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2));for(var s=0,o=this.colorStops.length;s<o;s++){var a=this.colorStops[s].color,l=this.colorStops[s].opacity,c=this.colorStops[s].offset;void 0!==l&&(a=new fabric.Color(a).setAlpha(l).toRgba()),i.addColorStop(parseFloat(c),a)}return i}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(i,n){var r,s,o,a=i.getElementsByTagName("stop"),l=i.getAttribute("gradientUnits")||"objectBoundingBox",c=i.getAttribute("gradientTransform"),h=[];"linear"===(r="linearGradient"===i.nodeName||"LINEARGRADIENT"===i.nodeName?"linear":"radial")?s=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(i):"radial"===r&&(s=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(i));for(var u=a.length;u--;)h.push(t(a[u]));o=e(n,s,l);var f=new fabric.Gradient({type:r,coords:s,colorStops:h,offsetX:-n.left,offsetY:-n.top});return(c||""!==o)&&(f.gradientTransform=fabric.parseTransformAttribute((c||"")+o)),f},forObject:function(t,i){return i||(i={}),e(t,i.coords,"userSpaceOnUse"),new fabric.Gradient(i)}})}(),fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t){if(t||(t={}),this.id=fabric.Object.__uid++,t.source)if("string"==typeof t.source)if(void 0!==fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source));else{var e=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,(function(t){e.source=t}))}else this.source=t.source;t.repeat&&(this.repeat=t.repeat),t.offsetX&&(this.offsetX=t.offsetX),t.offsetY&&(this.offsetY=t.offsetY)},toObject:function(t){var e,i;return"function"==typeof this.source?e=String(this.source):"string"==typeof this.source.src?e=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(e=this.source.toDataURL()),i={source:e,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY},fabric.util.populateWithProperties(this,i,t),i},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.getWidth(),n=e.height/t.getHeight(),r=this.offsetX/t.getWidth(),s=this.offsetY/t.getHeight(),o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1),e.src?o=e.src:e.toDataURL&&(o=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+s+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var i in"string"==typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[];return{color:(i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(n[1],10)||0,offsetY:parseInt(n[2],10)||0,blur:parseInt(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,r=40,s=e.Object.NUM_FRACTION_DIGITS,o=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle));return t.width&&t.height&&(n=100*i((Math.abs(o.x)+this.blur)/t.width,s)+20,r=100*i((Math.abs(o.y)+this.blur)/t.height,s)+20),t.flipX&&(o.x*=-1),t.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,s)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(o.x,s)+'" dy="'+i(o.y,s)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach((function(e){this[e]!==i[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var t=fabric.util.object.extend,e=fabric.util.getElementOffset,i=fabric.util.removeFromArray,n=fabric.util.toFixed,r=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(t,e){e||(e={}),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,_initStatic:function(t,e){var i=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,i,n){return"string"==typeof e?fabric.util.loadImage(e,(function(e){e&&(this[t]=new fabric.Image(e,n)),i&&i(e)}),this,n&&n.crossOrigin):(n&&e.setOptions(n),this[t]=e,i&&i(e)),this},__setBgOverlayColor:function(t,e,i){if(e&&e.source){var n=this;fabric.util.loadImage(e.source,(function(r){n[t]=new fabric.Pattern({source:r,repeat:e.repeat,offsetX:e.offsetX,offsetY:e.offsetY}),i&&i()}))}else this[t]=e,i&&i();return this},_createCanvasElement:function(t){var e=fabric.util.createCanvasElementt(t);if(e.style||(e.style={}),!e)throw r;if(void 0===e.getContext)throw r;return e},_initOptions:function(t){for(var e in t)this[e]=t[e];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(t),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px"),e.backstoreOnly||this._setCssDimension(n,i);return this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.renderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i=this._activeGroup;this.viewportTransform=t;for(var n=0,r=this._objects.length;n<r;n++)(e=this._objects[n]).group||e.setCoords(!1,!0);return i&&i.setCoords(!1,!0),this.renderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0);t=fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform)),n[0]=e,n[3]=e;var r=fabric.util.transformPoint(t,n);return n[4]+=i.x-r.x,n[5]+=i.y-r.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("selection:cleared",this._canvasITextSelectionClearedHanlder),this.off("object:selected",this._canvasITextSelectionClearedHanlder),this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderCanvas:function(t,e){this.clearContext(t),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform.apply(t,this.viewportTransform),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){for(var i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"];i&&(t.fillStyle=i.toLive?i.toLive(t):i,t.fillRect(i.offsetX||0,i.offsetY||0,this.width,this.height)),(i=this[e+"Image"])&&(this[e+"Vpt"]&&(t.save(),t.transform.apply(t,this.viewportTransform)),i.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=fabric.util.invertTransform(this.viewportTransform);return fabric.util.transformPoint({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this.renderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var n={objects:this._toObjects(e,i)};return t(n,this.__serializeBgOverlay(e,i)),fabric.util.populateWithProperties(this,n,i),n},_toObjects:function(t,e){return this.getObjects().filter((function(t){return!t.excludeFromExport})).map((function(i){return this._toObject(i,t,e)}),this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(t,e){var i={};return this.backgroundColor&&(i.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(i.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),this.backgroundImage&&(i.backgroundImage=this._toObject(this.backgroundImage,t,e)),this.overlayImage&&(i.overlayImage=this._toObject(this.overlayImage,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this._setSVGBgOverlayColor(i,"backgroundColor"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this._setSVGBgOverlayColor(i,"overlayColor"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,r=e.width||this.width,s=e.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',a=fabric.Object.NUM_FRACTION_DIGITS;e.viewBox?o='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,o='viewBox="'+n(-i[4]/i[0],a)+" "+n(-i[5]/i[3],a)+" "+n(this.width/i[0],a)+" "+n(this.height/i[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',s,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",fabric.version,"</desc>\n","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>\n")},_setSVGObjects:function(t,e){for(var i,n=0,r=this.getObjects(),s=r.length;n<s;n++)(i=r[n]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){this[e]&&this[e].source?t.push('<rect x="',this[e].offsetX,'" y="',this[e].offsetY,'" ','width="',"repeat-y"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.width:this.width,'" height="',"repeat-x"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.height:this.height,'" fill="url(#'+e+'Pattern)"',"></rect>\n"):this[e]&&"overlayColor"===e&&t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,r,s=this._activeGroup;if(t===s)for(e=(r=s._objects).length;e--;)n=r[e],i(this._objects,n),this._objects.unshift(n);else i(this._objects,t),this._objects.unshift(t);return this.renderAll&&this.renderAll()},bringToFront:function(t){if(!t)return this;var e,n,r,s=this._activeGroup;if(t===s)for(r=s._objects,e=0;e<r.length;e++)n=r[e],i(this._objects,n),this._objects.push(n);else i(this._objects,t),this._objects.push(t);return this.renderAll&&this.renderAll()},sendBackwards:function(t,e){if(!t)return this;var n,r,s,o,a,l=this._activeGroup;if(t===l)for(a=l._objects,n=0;n<a.length;n++)r=a[n],0!==(s=this._objects.indexOf(r))&&(o=s-1,i(this._objects,r),this._objects.splice(o,0,r));else 0!==(s=this._objects.indexOf(t))&&(o=this._findNewLowerIndex(t,s,e),i(this._objects,t),this._objects.splice(o,0,t));return this.renderAll&&this.renderAll(),this},_findNewLowerIndex:function(t,e,i){var n;if(i){n=e;for(var r=e-1;r>=0;--r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,r,s,o,a,l=this._activeGroup;if(t===l)for(n=(a=l._objects).length;n--;)r=a[n],(s=this._objects.indexOf(r))!==this._objects.length-1&&(o=s+1,i(this._objects,r),this._objects.splice(o,0,r));else(s=this._objects.indexOf(t))!==this._objects.length-1&&(o=this._findNewUpperIndex(t,s,e),i(this._objects,t),this._objects.splice(o,0,t));return this.renderAll&&this.renderAll(),this},_findNewUpperIndex:function(t,e,i){var n;if(i){n=e;for(var r=e+1;r<this._objects.length;++r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElementt();if(!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"getImageData":return void 0!==i.getImageData;case"setLineDash":return void 0!==i.setLineDash;case"toDataURL":return void 0!==e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(t){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t=this.canvas.contextTop,e=this.canvas.viewportTransform,i=this._points[0],n=this._points[1];t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.beginPath(),2===this._points.length&&i.x===n.x&&i.y===n.y&&(i.x-=.5,n.x+=.5),t.moveTo(i.x,i.y);for(var r=1,s=this._points.length;r<s;r++){var o=i.midPointFrom(n);t.quadraticCurveTo(i.x,i.y,o.x,o.y),i=this._points[r],n=this._points[r+1]}t.lineTo(i.x,i.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=[],i=new fabric.Point(t[0].x,t[0].y),n=new fabric.Point(t[1].x,t[1].y);e.push("M ",t[0].x," ",t[0].y," ");for(var r=1,s=t.length;r<s;r++){var o=i.midPointFrom(n);e.push("Q ",i.x," ",i.y," ",o.x," ",o.y," "),i=new fabric.Point(t[r].x,t[r].y),r+1<t.length&&(n=new fabric.Point(t[r+1].x,t[r+1].y))}return e.push("L ",i.x," ",i.y," "),e},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.add(e),e.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:e})}else this.canvas.renderAll()}}),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop,n=this.canvas.viewportTransform;i.save(),i.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i.fillStyle=e.fill,i.beginPath(),i.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),i.closePath(),i.fill(),i.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.points.length;i<n;i++){var r=this.points[i],s=new fabric.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&s.setShadow(this.shadow),e.push(s)}var o=new fabric.Group(e,{originX:"center",originY:"center"});o.canvas=this.canvas,this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),i=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=n,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.sprayChunks.length;i<n;i++)for(var r=this.sprayChunks[i],s=0,o=r.length;s<o;s++){var a=new fabric.Rect({width:r[s].width,height:r[s].width,left:r[s].x+1,top:r[s].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&a.setShadow(this.shadow),e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var l=new fabric.Group(e,{originX:"center",originY:"center"});l.canvas=this.canvas,this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,i={},n=0,r=t.length;n<r;n++)i[e=t[n].left+""+t[n].top]||(i[e]=t[n]);var s=[];for(e in i)s.push(i[e]);return s},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var i=0,n=this.sprayChunkPoints.length;i<n;i++){var r=this.sprayChunkPoints[i];void 0!==r.opacity&&(t.globalAlpha=r.opacity),t.fillRect(r.x,r.y,r.width,r.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,i,n,r=this.width/2,s=0;s<this.density;s++){e=fabric.util.getRandomInt(t.x-r,t.x+r),i=fabric.util.getRandomInt(t.y-r,t.y+r),n=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new fabric.Point(e,i);o.width=n,this.randomOpacity&&(o.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=fabric.document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,i=fabric.util.radiansToDegrees,n=Math.atan2,r=Math.abs,s=fabric.StaticCanvas.supports("setLineDash");for(var o in fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e=this.getActiveGroup(),i=this.getActiveObject(),n=[],r=[];if(!e&&!i||this.preserveObjectStacking)n=this._objects;else{for(var s=0,o=this._objects.length;s<o;s++)t=this._objects[s],e&&e.contains(t)||t===i?r.push(t):n.push(t);e&&(e._set("_objects",r),n.push(e)),i&&n.push(i)}return n},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?"rotate"===t.action?this._setOriginToCenter(t.target):("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,i){var n,r=i||this.getPointer(t,!0);return n=e.group&&e.group===this.getActiveGroup()?this._normalizePointer(e.group,r):{x:r.x,y:r.y},e.containsPoint(n)||e._findTargetCorner(r)},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),n=fabric.util.invertTransform(i),r=this.restorePointerVpt(e);return fabric.util.transformPoint(r,n)},isTargetTransparent:function(t,e,i){var n=t.hasBorders,r=t.transparentCorners,s=this.contextCache,o=t.selectionBackgroundColor;t.hasBorders=t.transparentCorners=!1,t.selectionBackgroundColor="",s.save(),s.transform.apply(s,this.viewportTransform),t.render(s),s.restore(),t.active&&t._renderControls(s),t.hasBorders=n,t.transparentCorners=r,t.selectionBackgroundColor=o;var a=fabric.util.isTransparent(s,e,i,this.targetFindTolerance);return this.clearContext(s),a},_shouldClearSelection:function(t,e){var i=this.getActiveGroup(),n=this.getActiveObject();return!e||e&&i&&!i.contains(e)&&i!==e&&!t[this.selectionKey]||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t){if(t){var e,i=this._currentTransform;return"scale"===i.action||"scaleX"===i.action||"scaleY"===i.action?e=this.centeredScaling||t.centeredScaling:"rotate"===i.action&&(e=this.centeredRotation||t.centeredRotation),e?!i.altKey:i.altKey}},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return i[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return i[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,i){if(i){var n=this.getPointer(t),r=i._findTargetCorner(this.getPointer(t,!0)),s=this._getActionFromCorner(i,r,t),o=this._getOriginFromCorner(i,r);this._currentTransform={target:i,action:s,corner:r,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:n.x-i.left,offsetY:n.y-i.top,originX:o.x,originY:o.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,left:i.left,top:i.top,theta:e(i.angle),width:i.width*i.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:i.left,top:i.top,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,originX:o.x,originY:o.y},this._resetCurrentTransform()}},_translateObject:function(t,e){var i=this._currentTransform,n=i.target,r=t-i.offsetX,s=e-i.offsetY,o=!n.get("lockMovementX")&&n.left!==r,a=!n.get("lockMovementY")&&n.top!==s;return o&&n.set("left",r),a&&n.set("top",s),o||a},_changeSkewTransformOrigin:function(t,e,i){var n="originX",r={0:"center"},s=e.target.skewX,o="left",a="right",l="mt"===e.corner||"ml"===e.corner?1:-1,c=1;t=t>0?1:-1,"y"===i&&(s=e.target.skewY,o="top",a="bottom",n="originY"),r[-1]=o,r[1]=a,e.target.flipX&&(c*=-1),e.target.flipY&&(c*=-1),0===s?(e.skewSign=-l*t*c,e[n]=r[-t]):(s=s>0?1:-1,e.skewSign=s,e[n]=r[s*l*c])},_skewObject:function(t,e,i){var n,r=this._currentTransform,s=r.target,o=s.get("lockSkewingX"),a=s.get("lockSkewingY");if(o&&"x"===i||a&&"y"===i)return!1;var l,c,h=s.getCenterPoint(),u=s.toLocalPoint(new fabric.Point(t,e),"center","center")[i],f=s.toLocalPoint(new fabric.Point(r.lastX,r.lastY),"center","center")[i],d=s._getTransformedDimensions();return this._changeSkewTransformOrigin(u-f,r,i),l=s.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY)[i],c=s.translateToOriginPoint(h,r.originX,r.originY),n=this._setObjectSkew(l,r,i,d),r.lastX=t,r.lastY=e,s.setPositionByOrigin(c,r.originX,r.originY),n},_setObjectSkew:function(t,e,i,n){var r,s,o,a,l,c,h,u,f,d,p=e.target,g=e.skewSign;return"x"===i?(l="y",c="Y",h="X",f=0,d=p.skewY):(l="x",c="X",h="Y",f=p.skewX,d=0),a=p._getTransformedDimensions(f,d),(u=2*Math.abs(t)-a[i])<=2?r=0:(r=g*Math.atan(u/p["scale"+h]/(a[l]/p["scale"+c])),r=fabric.util.radiansToDegrees(r)),s=p["skew"+h]!==r,p.set("skew"+h,r),0!==p["skew"+c]&&(o=p._getTransformedDimensions(),r=n[l]/o[l]*p["scale"+c],p.set("scale"+c,r)),s},_scaleObject:function(t,e,i){var n=this._currentTransform,r=n.target,s=r.get("lockScalingX"),o=r.get("lockScalingY"),a=r.get("lockScalingFlip");if(s&&o)return!1;var l,c=r.translateToOriginPoint(r.getCenterPoint(),n.originX,n.originY),h=r.toLocalPoint(new fabric.Point(t,e),n.originX,n.originY),u=r._getTransformedDimensions();new fabric.Point(r.getCenterPoint().x,r.getCenterPoint().y);return this._setLocalMouse(h,n),l=this._setObjectScale(h,n,s,o,i,a,u),r.setPositionByOrigin(c,n.originX,n.originY),l},_setObjectScale:function(t,e,i,n,r,s,o){var a,l,c,h,u=e.target,f=!1,d=!1,p=!1;return c=t.x*u.scaleX/o.x,h=t.y*u.scaleY/o.y,a=u.scaleX!==c,l=u.scaleY!==h,s&&c<=0&&c<u.scaleX&&(f=!0),s&&h<=0&&h<u.scaleY&&(d=!0),"equally"!==r||i||n?r?"x"!==r||u.get("lockUniScaling")?"y"!==r||u.get("lockUniScaling")||d||n||u.set("scaleY",h)&&(p=p||l):f||i||u.set("scaleX",c)&&(p=p||a):(f||i||u.set("scaleX",c)&&(p=p||a),d||n||u.set("scaleY",h)&&(p=p||l)):f||d||(p=this._scaleObjectEqually(t,u,e,o)),e.newScaleX=c,e.newScaleY=h,f||d||this._flipObject(e,r),p},_scaleObjectEqually:function(t,e,i,n){var r,s=t.y+t.x,o=n.y*i.original.scaleY/e.scaleY+n.x*i.original.scaleX/e.scaleX;return i.newScaleX=i.original.scaleX*s/o,i.newScaleY=i.original.scaleY*s/o,r=i.newScaleX!==e.scaleX||i.newScaleY!==e.scaleY,e.set("scaleX",i.newScaleX),e.set("scaleY",i.newScaleY),r},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var i=e.target;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>i.padding?t.x<0?t.x+=i.padding:t.x-=i.padding:t.x=0,r(t.y)>i.padding?t.y<0?t.y+=i.padding:t.y-=i.padding:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform;if(r.target.get("lockRotation"))return!1;var s=n(r.ey-r.top,r.ex-r.left),o=n(e-r.top,t-r.left),a=i(o-s+r.theta),l=!0;if(a<0&&(a=360+a),a%=360,r.target.snapAngle>0){var c=r.target.snapAngle,h=r.target.snapThreshold||c,u=Math.ceil(a/c)*c,f=Math.floor(a/c)*c;Math.abs(a-f)<h?a=f:Math.abs(a-u)<h&&(a=u),r.target.angle===a&&(l=!1)}return r.target.angle=a,l},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.setAngle(0)},_drawSelection:function(t){var e=this._groupSelector,i=e.left,n=e.top,o=r(i),a=r(n);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(i>0?0:-i),e.ey-(n>0?0:-n),o,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!s){var l=e.ex+.5-(i>0?0:o),c=e.ey+.5-(n>0?0:a);t.beginPath(),fabric.util.drawDashedLine(t,l,c,l+o,c,this.selectionDashArray),fabric.util.drawDashedLine(t,l,c+a-1,l+o,c+a-1,this.selectionDashArray),fabric.util.drawDashedLine(t,l,c,l,c+a,this.selectionDashArray),fabric.util.drawDashedLine(t,l+o-1,c,l+o-1,c+a,this.selectionDashArray),t.closePath(),t.stroke()}else fabric.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(i>0?0:o),e.ey+.5-(n>0?0:a),o,a)},findTarget:function(t,e){if(!this.skipTargetFind){var i,n=this.getPointer(t,!0),r=this.getActiveGroup(),s=this.getActiveObject();if(!this._is_cylinder_preview_on()||(n=this._getCoordBeforeWarped(n)).x&&n.y){if(r&&!e&&this._checkTarget(n,r))return this._fireOverOutEvents(r,t),r;if(s&&s._findTargetCorner(n))return this._fireOverOutEvents(s,t),s;if(s&&this._checkTarget(n,s)){if(!this.preserveObjectStacking)return this._fireOverOutEvents(s,t),s;i=s}this.targets=[];var o=this._searchPossibleTargets(this._objects,n);return t[this.altSelectionKey]&&o&&i&&o!==i&&(o=i),this._fireOverOutEvents(o,t),o}}},_fireOverOutEvents:function(t,e){t?this._hoveredTarget!==t&&(this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout")),this.fire("mouse:over",{target:t,e:e}),t.fire("mouseover"),this._hoveredTarget=t):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(t,e){if(e&&(e.visible||e._data&&e._data._visible)&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}},_searchPossibleTargets:function(t,e){for(var i,n,r,s=t.length;s--;)if(this._checkTarget(e,t[s])){"group"===(i=t[s]).type&&i.subTargetCheck&&(n=this._normalizePointer(i,e),(r=this._searchPossibleTargets(i._objects,n))&&this.targets.push(r));break}return i},restorePointerVpt:function(t){return fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(e,i,n){n||(n=this.upperCanvasEl);var r,s=t(e),o=n.getBoundingClientRect(),a=o.width||0,l=o.height||0;return a&&l||("top"in o&&"bottom"in o&&(l=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(a=Math.abs(o.right-o.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,i||(s=this.restorePointerVpt(s)),r=0===a||0===l?{width:1,height:1}:{width:n.width/a,height:n.height/l},{x:s.x*r.width,y:s.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d"),G.is_mobile_size()&&(this.topUpperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.topUpperCanvasEl,"top-upper-canvas "+t),this.wrapperEl.appendChild(this.topUpperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.topUpperCanvasEl),this._applyCanvasStyle(this.topUpperCanvasEl),this.contextTopUpper=this.topUpperCanvasEl.getContext("2d"),this.topUpperCanvasEl.style.display="none")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,i=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0}),t.width=e,t.height=i,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=t,t&&t.set("active",!0)},setActiveObject:function(t,e){return this._setActiveObject(t),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},setActiveObject2:function(t,e){return this._setActiveObject(t),this.renderAll(),this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this.callSuper("_onObjectRemoved",t)},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(t){var e=this._activeObject;return this.fire("before:selection:cleared",{target:e,e:t}),this._discardActiveObject(),this.fire("selection:cleared",{e:t}),e&&e.fire("deselected",{e:t}),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){var e=this.getActiveGroup();return this.fire("before:selection:cleared",{e:t,target:e}),this._discardActiveGroup(),this.fire("selection:cleared",{e:t}),this},deactivateAll:function(){for(var t,e=this.getObjects(),i=0,n=e.length;i<n;i++)(t=e[i])&&t.set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){var e=this.getActiveGroup(),i=this.getActiveObject();return(i||e)&&this.fire("before:selection:cleared",{target:i||e,e:t}),this.deactivateAll(),(i||e)&&(this.fire("selection:cleared",{e:t,target:i}),i&&i.fire("deselected")),this},dispose:function(){this.callSuper("dispose");var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,this.topUpperCanvasEl&&(t.removeChild(this.topUpperCanvasEl),delete this.topUpperCanvasEl),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,this},clear:function(){return this.discardActiveGroup(),this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this.getActiveGroup();e?e._renderControls(t):this._drawObjectsControls(t);var i=this;this._objects.forEach((function(e){if(!e.group&&e!=i._activeObject&&(e.is_overflow||e.is_oversized||e.is_smallsized)){var n=e.getCenterPoint(),r=e.cornerSize;r=r>=26?r:26;var s=e.is_overflow?fabric_overflowed_img:e.is_smallsized?fabric_smallsized_img:fabric_oversized_img;G.mp.maker.is_ie||t.drawImage(s,n.x-r/2,n.y-r/2,r,r)}}))},_drawObjectsControls:function(t){for(var e=0,i=this._objects.length;e<i;++e)this._objects[e]&&this._objects[e].active&&this._objects[e]._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),r},_realizeGroupTransformOnObject:function(t){if(t.group&&t.group===this.getActiveGroup()){var e={};return["angle","flipX","flipY","height","left","scaleX","scaleY","top","width"].forEach((function(i){e[i]=t[i]})),this.getActiveGroup().realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n;n=this._realizeGroupTransformOnObject(e),this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)}}),fabric.StaticCanvas)"prototype"!==o&&(fabric.Canvas[o]=fabric.StaticCanvas[o]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,i=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mouseout",this._onMouseOut),e(this.upperCanvasEl,"mouseenter",this._onMouseEnter),e(this.upperCanvasEl,"wheel",this._onMouseWheel),e(this.upperCanvasEl,"contextmenu",this._onContextMenu),e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this)},removeListeners:function(){i(fabric.window,"resize",this._onResize),i(this.upperCanvasEl,"mousedown",this._onMouseDown),i(this.upperCanvasEl,"mousemove",this._onMouseMove),i(this.upperCanvasEl,"mouseout",this._onMouseOut),i(this.upperCanvasEl,"mouseenter",this._onMouseEnter),i(this.upperCanvasEl,"wheel",this._onMouseWheel),i(this.upperCanvasEl,"contextmenu",this._onContextMenu),i(this.upperCanvasEl,"touchstart",this._onMouseDown),i(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp),e(fabric.document,"touchmove",this._onMouseMove),i(this.upperCanvasEl,"mousemove",this._onMouseMove),i(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?i(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),i(fabric.document,"mouseup",this._onMouseUp),i(fabric.document,"touchend",this._onMouseUp),i(fabric.document,"mousemove",this._onMouseMove),i(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchend"===t.type){var n=this;setTimeout((function(){e(n.upperCanvasEl,"mousedown",n._onMouseDown)}),400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var i=this.getActiveGroup()||this.getActiveObject();return(!i||!i.isEditing)&&!!(t&&(t.isMoving||t!==i)||!t&&i||!t&&!i&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y))},__onMouseUp:function(t){var e,i=!0,n=this._currentTransform,r=this._groupSelector,s=!r||0===r.left&&0===r.top;if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else{n&&(this._finalizeCurrentTransform(),i=!n.actionPerformed),e=i?this.findTarget(t,!0):n.target;var o=this._shouldRender(e,this.getPointer(t));e||!s?this._maybeGroupObjects(t):(this._groupSelector=null,this._currentTransform=null),e&&(e.isMoving=!1),this._handleCursorAndEvent(t,e,"up"),e&&(e.__corner=0),o&&this.renderAll()}},_handleCursorAndEvent:function(t,e,i){this._setCursorFromEvent(t,e),this._handleEvent(t,i,e||null)},_handleEvent:function(t,e,i){var n=void 0===typeof i?this.findTarget(t):i,r=this.targets||[],s={e:t,target:n,subTargets:r};this.fire("mouse:"+e,s),n&&n.fire("mouse"+e,s);for(var o=0;o<r.length;o++)r[o].fire("mouse"+e,s)},_finalizeCurrentTransform:function(){var t=this._currentTransform,e=t.target;e._scaling&&(e._scaling=!1),e.setCoords(),this._restoreOriginXY(e),(t.actionPerformed||this.stateful&&e.hasStateChanged())&&(this.fire("object:modified",{target:e}),e.fire("modified"))},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){var e=this.findTarget(t),i=this.getPointer(t,!0);if("which"in t?3===t.which:2===t.button)this.fireRightClick&&this._handleEvent(t,"down",e||null);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){this._previousPointer=i;var n=this._shouldRender(e,i),r=this._shouldGroup(t,e);this._shouldClearSelection(t,e)?this._clearSelection(t,e,i):r&&(this._handleGrouping(t,e),e=this.getActiveGroup()),e&&(!e.selectable||!e.__corner&&r||(this._beforeTransform(t,e),this._setupCurrentTransform(t,e)),e!==this.getActiveGroup()&&e!==this.getActiveObject()&&(this.deactivateAll(),e.selectable&&this.setActiveObject(e,t))),this._handleEvent(t,"down",e||null),n&&this.renderAll()}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t))&&this.onBeforeScaleRotate(e)},_clearSelection:function(t,e,i){this.deactivateAllWithDispatch(t),e&&e.selectable?this.setActiveObject(e,t):this.selection&&(this._groupSelector={ex:i.x,ey:i.y,top:0,left:0})},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,i;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!(void 0!==t.touches&&t.touches.length>1)){var n=this._groupSelector;n?(i=this.getPointer(t,!0),n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),this._setCursorFromEvent(t,e)),this._handleEvent(t,"move",e||null)}},__onMouseWheel:function(t){this.fire("mouse:wheel",{e:t})},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.target.isMoving=!0,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._beforeScaleTransform(t,i),this._performTransformAction(t,i,e),i.actionPerformed&&this.renderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,s=e.target,o=e.action,a=!1;"rotate"===o?(a=this._rotateObject(n,r))&&this._fire("rotating",s,t):"scale"===o?(t.corner=e.corner,(a=this._onScale(t,e,n,r))&&this._fire("scaling",s,t)):"scaleX"===o?(t.corner=e.corner,(a=this._scaleObject(n,r,"x"))&&this._fire("scaling",s,t)):"scaleY"===o?(t.corner=e.corner,(a=this._scaleObject(n,r,"y"))&&this._fire("scaling",s,t)):"skewX"===o?(a=this._skewObject(n,r,"x"))&&this._fire("skewing",s,t):"skewY"===o?(a=this._skewObject(n,r,"y"))&&this._fire("skewing",s,t):(a=this._translateObject(n,r))&&(this._fire("moving",s,t),this.setCursor(s.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:function(t,e,i){this.fire("object:"+t,{target:e,e:i}),e.fire(t,{e:i})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var i=this._shouldCenterTransform(e.target);(i&&("center"!==e.originX||"center"!==e.originY)||!i&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,i,n){return e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(i,n,"equally")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor;if(e.selectable){var n=this.getActiveGroup(),r=e._findTargetCorner&&(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this._setCornerCursor(r,e,t):this.setCursor(i)}else this.setCursor(i);return!0},_setCornerCursor:function(e,i,n){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,i,n));else{if("mtr"!==e||!i.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,i,n){var r=Math.round(i.getAngle()%360/45);return r<0&&(r+=8),r+=t[e],n[this.altActionKey]&&t[e]%2==0&&(r+=2),r%=8,this.cursorMap[r]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var i=this.getActiveObject();return t[this.selectionKey]&&e&&e.selectable&&(this.getActiveGroup()||i&&i!==e)&&this.selection},_handleGrouping:function(t,e){var i=this.getActiveGroup();(e!==i||(e=this.findTarget(t,!0)))&&(i?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var i=this.getActiveGroup();if(i.contains(t)){if(i.removeWithUpdate(t),t.set("active",!1),1===i.size())return this.discardActiveGroup(e),void this.setActiveObject(i.item(0))}else i.addWithUpdate(t);this.fire("selection:created",{target:i,e:e}),i.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var i=this._createGroup(t);i.addWithUpdate(),this.setActiveGroup(i),this._activeObject=null,this.fire("selection:created",{target:i,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),i=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new fabric.Group(i,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&((e=new fabric.Group(e.reverse(),{canvas:this})).addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e}),this.renderAll())},_imageMapperCood:function(t,e,i,n){var r=4*((t=Math.round(t))+(e=Math.round(e))*i.width);return n[r+3]>=0?{x:Math.floor(n[r]/65535*i.width),y:Math.floor(n[r+1]/65535*i.height)}:{x:null,y:null}},_getCoordBeforeWarped:function(t){var e=_p.find(this._objects,(function(t){return"cv_cylinder_area"===t._data.cv_type})),i=_p.find(this._objects,(function(t){return"cv_mockup"===t._data.cv_type})),n=_p.find(this._objects,(function(t){return"cv_preview"===t._data.cv_type})),r=_p.find(this._objects,(function(t){return"cv_print_area"===t._data.cv_type}));if(this.preview&&this.preview.cylinder&&e){if(r.containsPoint(t)&&!n.containsPoint(t))return new fabric.Point(0,0);if(!r.containsPoint(t))return t;var s=t.x-n.left,o=t.y-n.top,a=G.mp.maker.getCylinderWarppedCoord(s,o,e,n,this.preview.cylinder.up_side,this.preview.cylinder.down_side);return new fabric.Point(a.x+e.left,a.y+e.top)}if(i){s=t.x-n.left,o=t.y-n.top;var l=i.width,c=i.height;if(s<0||s>l)return{x:null,y:null};if(o<0||o>c)return{x:null,y:null};var h=this.lowerCanvasEl.width/this.width;a=_p.go(this._imageMapperCood(s*h,o*h,_p.go(i,_p.mapObject((function(t){return t*h}))),this.preview.composite.m),_p.mapObject((function(t){return 1*t/h})));return new fabric.Point(a.x+i.left,a.y+i.top)}},_getCoordBeforeWarped2:function(t){var e=_p.find(this._objects,(function(t){return"cv_cylinder_area"===t._data.cv_type})),i=_p.find(this._objects,(function(t){return"cv_preview"===t._data.cv_type})),n=t.x-i.left,r=t.y-i.top;if(this.preview&&this.preview.cylinder&&e){var s=G.mp.maker.getCylinderWarppedCoord2(n,r,e,i,this.preview.cylinder.up_side,this.preview.cylinder.down_side);return new fabric.Point(s.x+e.left,s.y+e.top)}return t},_getSelectionBeforeWarped:function(t,e){var i=_p.find(this._objects,(function(t){return"cv_preview"===t._data.cv_type}));return i.intersectsWithRect(t,e)||i.isContainedWithinRect(t,e)||i.containsPoint(t)||i.containsPoint(e)?{selectionX1Y1:this._getCoordBeforeWarped2(t),selectionX2Y2:this._getCoordBeforeWarped2(e)}:{selectionX1Y1:t,selectionX2Y2:e}},_is_cylinder_preview_on:function(){return this.preview&&(this.preview.cylinder||this.preview.composite)&&this.preview.on},_collectObjects:function(){var i,n=[],r=this._groupSelector.ex,s=this._groupSelector.ey,o=r+this._groupSelector.left,a=s+this._groupSelector.top,l=new fabric.Point(t(r,o),t(s,a)),c=new fabric.Point(e(r,o),e(s,a)),h=r===o&&s===a,u=this._is_cylinder_preview_on();if(u){var f=this._getSelectionBeforeWarped(l,c);if(l=f.selectionX1Y1,c=f.selectionX2Y2,!(l.x&&l.y&&c.x&&c.y))return n}for(var d=this._objects.length;d--&&!((i=this._objects[d])&&i.selectable&&(i._data._visible||i.visible)&&(i.intersectsWithRect(l,c)||i.isContainedWithinRect(l,c)||i.containsPoint(l)||i.containsPoint(c))&&(i.set("active",!0),n.push(i),h)););return u&&n.length>0&&G.mp.maker.removeCvPreview(this),n},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),function(){var t=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,n=t.multiplier||1,r={left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0};return this.__toDataURLWithMultiplier(e,i,r,n)},__toDataURLWithMultiplier:function(t,e,i,n){var r=this.getWidth(),s=this.getHeight(),o=(i.width||this.getWidth())*n,a=(i.height||this.getHeight())*n,l=this.getZoom()*n,c=this.viewportTransform,h=[l,0,0,l,(c[4]-i.left)*n,(c[5]-i.top)*n],u=this.interactive;this.viewportTransform=h,this.interactive&&(this.interactive=!1),r!==o||s!==a?this.setDimensions({width:o,height:a}):this.renderAll();var f=this.__toDataURL(t,e,i);return u&&(this.interactive=u),this.viewportTransform=c,this.setDimensions({width:r,height:s}),f},__toDataURL:function(e,i){var n=this.contextContainer.canvas;return"jpg"===e&&(e="jpeg"),t?n.toDataURL("image/"+e,i):n.toDataURL("image/"+e)},toDataURLWithMultiplier:function(t,e,i){return this.toDataURL({format:t,multiplier:e,quality:i})}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,i){return this.loadFromJSON(t,e,i)},loadFromJSON:function(t,e,i){if(t){var n="string"==typeof t?JSON.parse(t):fabric.util.object.clone(t);this.clear();var r=this;return this._enlivenObjects(n.objects,(function(){r._setBgOverlay(n,(function(){for(var t in delete n.objects,delete n.backgroundImage,delete n.overlayImage,delete n.background,delete n.overlay,n)r[t]=n[t];e&&e()}))}),i),this}},_setBgOverlay:function(t,e){var i=this,n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&(i.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r),r()}else e&&e()},__setBgOverlay:function(t,e,i,n){var r=this;e?"backgroundImage"===t||"overlayImage"===t?fabric.Image.fromObject(e,(function(e){r[t]=e,i[t]=!0,n&&n()})):this["set"+fabric.util.string.capitalize(t,!0)](e,(function(){i[t]=!0,n&&n()})):i[t]=!0},_enlivenObjects:function(t,e,i){var n=this;if(t&&0!==t.length){var r=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(t,(function(t){t.forEach((function(t,e){n.insertAt(t,e)})),n.renderOnAddRemove=r,e&&e()}),null,i)}else e&&e()},_toDataURL:function(t,e){this.clone((function(i){e(i.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,i){this.clone((function(n){i(n.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(i,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var i=new fabric.Canvas(e);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,(function(){i.renderAll(),t&&t(i)})),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.toFixed,r=e.util.string.capitalize,s=e.util.degreesToRadians,o=e.StaticCanvas.supports("setLineDash"),a=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:1e-6,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,dirty:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor".split(" "),initialize:function(t){(t=t||{})&&this.setOptions(t),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"})),this.cid=_p.uniqueId("c"),this._data=t._data||{}},data:function(t,e){return 1==arguments.length&&_p.isString(t)?this._data[t]:1!=arguments.length||_p.isString(t)?(this._data[t]=e,this):(_p.extend(this._data,t),this)},_createCacheCanvas:function(){this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,i=this.getObjectScaling(),n=this._getNonTransformedDimensions(),r=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,s=i.scaleX*t*r,o=i.scaleY*t*r;return{width:n.x*s,height:n.y*o,zoomX:s,zoomY:o}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform&&"scale"===this.canvas._currentTransform.action.slice(0,5))return!1;var t=this._getCacheCanvasDimensions(),e=t.width,i=t.height,n=t.zoomX,r=t.zoomY;return(e!==this.cacheWidth||i!==this.cacheHeight)&&(this._cacheCanvas.width=e,this._cacheCanvas.height=i,this._cacheContext.translate(e/2,i/2),this._cacheContext.scale(n,r),this.cacheWidth=e,this.cacheHeight=i,this.zoomX=n,this.zoomY=r,!0)},_initGradient:function(t){!t.fill||!t.fill.colorStops||t.fill instanceof e.Gradient||this.set("fill",new e.Gradient(t.fill)),!t.stroke||!t.stroke.colorStops||t.stroke instanceof e.Gradient||this.set("stroke",new e.Gradient(t.stroke))},_initPattern:function(t){!t.fill||!t.fill.source||t.fill instanceof e.Pattern||this.set("fill",new e.Pattern(t.fill)),!t.stroke||!t.stroke.source||t.stroke instanceof e.Pattern||this.set("stroke",new e.Pattern(t.stroke))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var i=e.util.getFunctionBody(t.clipTo);void 0!==i&&(this.clipTo=new Function("ctx",i))}},setOptions:function(t){for(var e in t)this.set(e,t[e]);this._initGradient(t),this._initPattern(t),this._initClipping(t)},transform:function(t,e){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(t);var i=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(i.x,i.y),t.rotate(s(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1)),t.transform(1,0,Math.tan(s(this.skewX)),1,0,0),t.transform(1,Math.tan(s(this.skewY)),0,1,0,0)},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,r={cid:this.cid,id:this.id,_data:JSON.parse(JSON.stringify(this._data)),is_overflow:this.is_overflow,is_oversized:this.is_oversized,is_smallsized:this.is_smallsized,left:this.left,top:this.top,width:this.width,height:this.height,fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,evented:this.evented,selectable:this.selectable,strokeWidth:this.strokeWidth,strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.getAngle(),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,i),visible:this.visible,globalCompositeOperation:this.globalCompositeOperation,fillRule:this.fillRule,transformMatrix:this.transformMatrix?this.transformMatrix.concat():this.transformMatrix,backgroundColor:this.backgroundColor,clipTo:this.clipTo&&String(this.clipTo),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,strokeMiterLimit:this.strokeMiterLimit,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,type:this.type,originX:this.originX,originY:this.originY,skewX:n(this.skewX,i),skewY:n(this.skewY,i)};return e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype;return i.stateProperties.forEach((function(e){t[e]===i[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(i[e])&&0===t[e].length&&0===i[e].length&&delete t[e]})),t},toString:function(){return"#<fabric."+r(this.type)+">"},get:function(t){return this[t]},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var i=this.group.getObjectScaling();t*=i.scaleX,e*=i.scaleY}return{scaleX:t,scaleY:e}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,i){return("scaleX"===t||"scaleY"===t)&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow||(i=new e.Shadow(i)),this[t]=i,this.cacheProperties.indexOf(t)>-1&&(this.dirty=!0),"width"!==t&&"height"!==t||(this.minScaleLimit=Math.min(.1,1/Math.max(this.width,this.height))),this},setOnGroup:function(){},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(t,i){0===this.width&&0===this.height||!this.visible||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),i||this.transform(t),this._setOpacity(t),this._setShadow(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),!this.objectCaching||this.group||this._data&&"cv_group"==this._data.cv_type?(this.drawObject(t,i),i&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})):(this.isCacheDirty(i)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,i),this.dirty=!1),this.drawCacheOnCanvas(t)),this.clipTo&&t.restore(),t.restore())},drawObject:function(t,e){this._renderBackground(t),this._setStrokeStyles(t),this._setFillStyles(t),this._render(t,e)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheWidth/2,-this.cacheHeight/2)},isCacheDirty:function(t){if(!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(!t){var e=this._getNonTransformedDimensions();this._cacheContext.clearRect(-e.x/2,-e.y/2,e.x,e.y)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_setLineDash:function(t,e,i){e&&(1&e.length&&e.push.apply(e,e),o?t.setLineDash(e):i&&i(t))},_renderControls:function(t,i){if(!(!this.active||i||this.group&&this.group!==this.canvas.getActiveGroup())){var n,r=this.getViewportTransform(),o=this.calcTransformMatrix();o=e.util.multiplyTransformMatrices(r,o),n=e.util.qrDecompose(o),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.group&&this.group===this.canvas.getActiveGroup()?(t.rotate(s(n.angle)),this.drawBordersInGroup(t,n)):(t.rotate(s(this.angle)),this.drawBorders(t)),this.drawControls(t),t.restore()}},_setShadow:function(t){if(this.shadow){var i=this.canvas&&this.canvas.viewportTransform[0]||1,n=this.canvas&&this.canvas.viewportTransform[3]||1,r=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(i*=e.devicePixelRatio,n*=e.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(i+n)*(r.scaleX+r.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*i*r.scaleX,t.shadowOffsetY=this.shadow.offsetY*n*r.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_renderFill:function(t){if(this.fill){if(t.save(),this.fill.gradientTransform){var e=this.fill.gradientTransform;t.transform.apply(t,e)}this.fill.toLive&&t.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore()}},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this.stroke.gradientTransform){var e=this.stroke.gradientTransform;t.transform.apply(t,e)}this.stroke.toLive&&t.translate(-this.width/2+this.stroke.offsetX||0,-this.height/2+this.stroke.offsetY||0),t.stroke(),t.restore()}},clone:function(t,i){var n=this.toObject(i);return this._element&&(n._element=this._element),this._originalElement&&(n._originalElement=this._originalElement),this.constructor.fromObject?this.constructor.fromObject(n,t):new e.Object(n)},cloneAsImage:function(t,i){var n=this.toDataURL(i);return e.util.loadImage(n,(function(i){t&&t(new e.Image(i))})),this},toDataURL2:function(){var t=e.util.createCanvasElementt(),i=this.getBoundingRect();t.width=2*i.width,t.height=2*i.height,e.util.wrapElement(t,"div");var n=new e.Canvas(t,{enableRetinaScaling:!1}),r={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set({active:!1}),this.setPositionByOrigin(new e.Point(n.getWidth()/2,n.getHeight()/2),"center","center");var s=this.canvas;n.add(this);var o=e.trimCanvas(n.lowerCanvasEl),a=o.toDataURL({left:0,top:0,width:o.width,height:o.height});return this.set(r).setCoords(),this.canvas=s,n.dispose(),n=null,a},toDataURL_black:function(){var t=e.util.createCanvasElementt(),i=this.getBoundingRect();t.width=2*i.width,t.height=2*i.height,e.util.wrapElement(t,"div");var n=new e.Canvas(t),r={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set({active:!1}),this.setPositionByOrigin(new e.Point(n.getWidth()/2,n.getHeight()/2),"center","center");var s=this.canvas;n.add(this);var o=e.trimCanvas(n.lowerCanvasEl),a=o.getContext("2d");a.drawImage(o,0,0,o.width,o.height);for(var l=a.getImageData(0,0,o.width,o.height),c=0;c<l.data.length;)l.data[c+3]>20&&(l.data[c]=0,l.data[c+1]=0,l.data[c+2]=0,l.data[c+3]=255),c+=4;return a.putImageData(l,0,0),this.set(r).setCoords(),this.canvas=s,n.dispose(),n=null,o.toDataURL()},toDataURL3:function(t){var i=e.util.createCanvasElementt(),n=this.getBoundingRect();t?(i.width=n.width*t,i.height=n.height*t):"italic"===this.fontStyle||"Yellowtail"===this.fontFamily||"Oleo Script Swash Caps"===this.fontFamily||"Pattaya"===this.fontFamily||"Holtwood One SC"===this.fontFamily?this.text.length>3?(i.width=2*n.width,i.height=2*n.height):(i.width=3*n.width,i.height=3*n.height):(i.width=1.5*n.width,i.height=1.5*n.height),e.util.wrapElement(i,"div");var r=new e.Canvas(i,{enableRetinaScaling:!1}),s={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set({active:!1}),this.setPositionByOrigin(new e.Point(r.getWidth()/2,r.getHeight()/2),"center","center");var o=this.canvas;r.add(this);var a=e.trimCanvas(r.lowerCanvasEl),l=a.toDataURL({left:0,top:0,width:a.width,height:a.height});return this.set(s).setCoords(),this.canvas=o,r.dispose(),r=null,l},trimmedSize:function(t){var i=e.util.createCanvasElementt(),n=this.getBoundingRect();t?(i.width=n.width,i.height=n.height):"italic"===this.fontStyle||"Yellowtail"===this.fontFamily||"Oleo Script Swash Caps"===this.fontFamily||"Pattaya"===this.fontFamily||"Holtwood One SC"===this.fontFamily?this.text.length>3?(i.width=2*n.width,i.height=2*n.height):(i.width=3*n.width,i.height=3*n.height):(i.width=1.5*n.width,i.height=1.5*n.height),e.util.wrapElement(i,"div");var r=new e.Canvas(i,{enableRetinaScaling:!1});return this.set({active:!1}),this.setPositionByOrigin(new e.Point(r.getWidth()/2,r.getHeight()/2),"center","center"),r.add(this),e.trimSize(r.lowerCanvasEl)},toDataURL:function(t){t||(t={});var i=e.util.createCanvasElementt(),n=this.getBoundingRect();i.width=n.width,i.height=n.height,e.util.wrapElement(i,"div");var r=new e.StaticCanvas(i,{enableRetinaScaling:!1});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(r.backgroundColor="#fff");var s={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(r.getWidth()/2,r.getHeight()/2),"center","center");var o=this.canvas;r.add(this);var a=r.toDataURL(t);return this.set(s).setCoords(),this.canvas=o,r.dispose(),r=null,a},toDataURLL:function(t){t||(t={});var i,n=this.getBoundingRect(),r=this;return _p.go(___,(function(){var s=e.util.createCanvasElementt();s.width=n.width,i=n.width,s.height=n.height,e.util.wrapElement(s,"div");var o=new e.StaticCanvas(s,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(o.backgroundColor="#fff"),r.set("active",!1),r.setPositionByOrigin(new e.Point(o.getWidth()/2,o.getHeight()/2),"center","center");r.canvas;o.add(r);var a=o.getContext().getImageData(0,0,o.width,o.height).data;return _p.findIndex(a,(function(t){return 0!==t}))/4/o.width*1}),_p.add_arg((function(){var i=e.util.createCanvasElementt();i.width=n.height,i.height=n.width,e.util.wrapElement(i,"div");var s=new e.StaticCanvas(i,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(s.backgroundColor="#fff"),r.set("active",!1),r.set("angle",90),r.setPositionByOrigin(new e.Point(s.getWidth()/2,s.getHeight()/2),"center","center");r.canvas;s.add(r);var o=s.getContext().getImageData(0,0,s.width,s.height).data;return _p.findIndex(o,(function(t){return 0!==t}))/4/s.width*1})),_p.add_arg((function(){var i=e.util.createCanvasElementt();i.width=n.height,i.height=n.width,e.util.wrapElement(i,"div");var s=new e.StaticCanvas(i,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(s.backgroundColor="#fff"),r.set("active",!1),r.set("angle",270),r.setPositionByOrigin(new e.Point(s.getWidth()/2,s.getHeight()/2),"center","center");r.canvas;s.add(r);var o=s.getContext().getImageData(0,0,s.width,s.height).data;return _p.findIndex(o,(function(t){return 0!==t}))/4/s.width*1})),(function(t,e,n){var s=e-r.padding,o=-(t-r.padding),a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2)),l=Math.atan(o/s)*(180/Math.PI);return s>0&&o<0?l=360+l:s>0&&o>0?l=l:s<0&&o<0||s<0&&o>0?l=180+l:0===s&&0===o?l=0:0===s&&o>0?l=l:0===s&&o<0?l=360+l:s>0&&0===o?l=l:s<0&&0===o&&(l=180),{left:s,top:o,r:a,width:i-e-n,right:n,deg:l}}))},isType:function(t){return this.type===t},complexity:function(){return 0},toJSON:function(t){return this.toObject(t)},setGradient:function(t,i){i||(i={});var n={colorStops:[]};for(var r in n.type=i.type||(i.r1||i.r2?"radial":"linear"),n.coords={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},(i.r1||i.r2)&&(n.coords.r1=i.r1,n.coords.r2=i.r2),i.gradientTransform&&(n.gradientTransform=i.gradientTransform),i.colorStops){var s=new e.Color(i.colorStops[r]);n.colorStops.push({offset:r,color:s.toRgb(),opacity:s.getAlpha()})}return this.set(t,e.Gradient.forObject(this,n))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},remove:function(){return this.canvas&&this.canvas.remove(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var n=new e.Point(i.x,i.y),r=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,r,e.util.degreesToRadians(-this.angle))),{x:n.x-r.x,y:n.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return t.translate(n,r),i&&t.transform.apply(t,i),{offsetX:n,offsetY:r}}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.__uid=0)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.degreesToRadians,e={left:-.5,center:0,right:.5},i={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(t,n,r,s,o){var a,l,c,h=t.x,u=t.y;return"string"==typeof n?n=e[n]:n-=.5,"string"==typeof s?s=e[s]:s-=.5,"string"==typeof r?r=i[r]:r-=.5,"string"==typeof o?o=i[o]:o-=.5,l=o-r,((a=s-n)||l)&&(c=this._getTransformedDimensions(),h=t.x+a*c.x,u=t.y+l*c.y),new fabric.Point(h,u)},translateToCenterPoint:function(e,i,n){var r=this.translateToGivenOrigin(e,i,n,"center","center");return this.angle?fabric.util.rotatePoint(r,e,t(this.angle)):r},translateToOriginPoint:function(e,i,n){var r=this.translateToGivenOrigin(e,"center","center",i,n);return this.angle?fabric.util.rotatePoint(r,e,t(this.angle)):r},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getCenterPoint2:function(){var t=new fabric.Point(this.originalLeft,this.originalTop);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(e,i,n){var r,s,o=this.getCenterPoint();return r=void 0!==i&&void 0!==n?this.translateToGivenOrigin(o,"center","center",i,n):new fabric.Point(this.left,this.top),s=new fabric.Point(e.x,e.y),this.angle&&(s=fabric.util.rotatePoint(s,o,-t(this.angle))),s.subtractEquals(r)},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(i){var n,r,s=t(this.angle),o=this.getWidth(),a=Math.cos(s)*o,l=Math.sin(s)*o;n="string"==typeof this.originX?e[this.originX]:this.originX-.5,r="string"==typeof i?e[i]:i-.5,this.left+=a*(r-n),this.top+=l*(r-n),this.setCoords(),this.originX=i},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function t(t){return[new fabric.Point(t.tl.x,t.tl.y),new fabric.Point(t.tr.x,t.tr.y),new fabric.Point(t.br.x,t.br.y),new fabric.Point(t.bl.x,t.bl.y)]}var e=fabric.util.degreesToRadians,i=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(e,i){var n=t(this.oCoords);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(n,e,i).status},intersectsWithObject:function(e){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(t(this.oCoords),t(e.oCoords)).status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)},isContainedWithinObject:function(e){for(var i=t(this.oCoords),n=0;n<4;n++)if(!e.containsPoint(i[n]))return!1;return!0},isContainedWithinRect:function(t,e){var i=this.getBoundingRect();return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t){this.oCoords||this.setCoords();var e=this._getImageLines(this.oCoords),i=this._findCrossPoints(t,e);return 0!==i&&i%2==1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,s=0;for(var o in e)if(!((r=e[o]).o.y<t.y&&r.d.y<t.y||r.o.y>=t.y&&r.d.y>=t.y||(r.o.x===r.d.x&&r.o.x>=t.x?n=r.o.x:(0,i=(r.d.y-r.o.y)/(r.d.x-r.o.x),n=-(t.y-0*t.x-(r.o.y-i*r.o.x))/(0-i)),n>=t.x&&(s+=1),2!==s)))break;return s},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(t){var e=this.calcCoords(t);return fabric.util.makeBoundingBoxFromPoints([e.tl,e.tr,e.br,e.bl])},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return(t=this._constrainScale(t))<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords()},scaleToWidth:function(t){var e=this.getBoundingRect().width/this.getWidth();return this.scale(t/this.width/e)},scaleToWidth2:function(t){return this.scale(t/this.width)},scaleToHeight:function(t){var e=this.getBoundingRect().height/this.getHeight();return this.scale(t/this.height/e)},scaleToHeight2:function(t){return this.scale(t/this.height)},calcCoords:function(t){var i=e(this.angle),n=this.getViewportTransform(),r=t?this._getTransformedDimensions():this._calculateCurrentDimensions(),s=r.x,o=r.y,a=Math.sin(i),l=Math.cos(i),c=s>0?Math.atan(o/s):0,h=s/Math.cos(c)/2,u=Math.cos(c+i)*h,f=Math.sin(c+i)*h,d=this.getCenterPoint(),p=t?d:fabric.util.transformPoint(d,n),g=new fabric.Point(p.x-u,p.y-f),m=new fabric.Point(g.x+s*l,g.y+s*a),v=new fabric.Point(g.x-o*a,g.y+o*l),y=new fabric.Point(p.x+u,p.y+f);if(!t)var _=new fabric.Point((g.x+v.x)/2,(g.y+v.y)/2),b=new fabric.Point((m.x+g.x)/2,(m.y+g.y)/2),x=new fabric.Point((y.x+m.x)/2,(y.y+m.y)/2),w=new fabric.Point((y.x+v.x)/2,(y.y+v.y)/2),S=new fabric.Point(b.x+a*this.rotatingPointOffset,b.y-l*this.rotatingPointOffset);p={tl:g,tr:m,br:y,bl:v,mt:new fabric.Point((m.x+g.x)/2,(m.y+g.y)/2)};return t||(p.ml=_,p.mt=b,p.mr=x,p.mb=w,p.mtr=S),p},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||t||(this.absoluteCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var t=e(this.angle),i=Math.cos(t),n=Math.sin(t);return[i,n,-n,i,0,0]}return[1,0,0,1,0,0]},calcTransformMatrix:function(){var t=this.getCenterPoint(),e=[1,0,0,1,t.x,t.y],n=this._calcRotateMatrix(),r=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0),s=this.group?this.group.calcTransformMatrix():[1,0,0,1,0,0];return s=i(s,e),s=i(s,n),s=i(s,r)},_calcDimensionsTransformMatrix:function(t,n,r){var s=[1,0,Math.tan(e(t)),1],o=[1,Math.tan(e(n)),0,1],a=this.scaleX*(r&&this.flipX?-1:1),l=this.scaleY*(r&&this.flipY?-1:1),c=i([a,0,0,l],s,!0);return i(c,o,!0)}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new fabric.Color(e),n=t+": "+i.toRgb()+"; ",r=i.getAlpha();return 1!==r&&(n+=t+"-opacity: "+r.toString()+"; "),n}return t+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule,n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",l=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),u=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",a,"; ",u,"fill-rule: ",i,"; ","opacity: ",l,";",h,c].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),i=this.getSkewX()%360,n=this.getSkewY()%360,r=this.getCenterPoint(),s=fabric.Object.NUM_FRACTION_DIGITS,o="path-group"===this.type?"":"translate("+t(r.x,s)+" "+t(r.y,s)+")",a=0!==e?" rotate("+t(e,s)+")":"",l=1===this.scaleX&&1===this.scaleY?"":" scale("+t(this.scaleX,s)+" "+t(this.scaleY,s)+")",c=0!==i?" skewX("+t(i,s)+")":"",h=0!==n?" skewY("+t(n,s)+")":"",u="path-group"===this.type?this.width:0,f=this.flipX?" matrix(-1 0 0 1 "+u+" 0) ":"",d="path-group"===this.type?this.height:0;return[o,a,l,f,this.flipY?" matrix(1 0 0 -1 0 "+d+")":"",c,h].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}})}(),function(){var t=fabric.util.object.extend;function e(e,i,n){var r={};n.forEach((function(t){r[t]=e[t]})),t(e[i],r,!0)}fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(t){return!function t(e,i,n){if(!fabric.isLikelyNode&&e instanceof Element)return e===i;if(e instanceof Array){if(e.length!==i.length)return!1;for(var r=0,s=e.length;r<s;r++)if(e[r]!==i[r])return!1;return!0}if(e&&"object"==typeof e){if(!n&&Object.keys(e).length!==Object.keys(i).length)return!1;for(var o in e)if(!t(e[o],i[o]))return!1;return!0}return e===i}(this[t="_"+(t=t||"stateProperties")],this,!0)},saveState:function(t){var i=t&&t.propertySet||"stateProperties",n="_"+i;return this[n]?(e(this,n,this[i]),t&&t.stateProperties&&e(this,n,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,i,n=t.x,r=t.y;for(var s in this.__corner=0,this.oCoords)if(this.isControlVisible(s)&&("mtr"!==s||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==s&&"mr"!==s&&"mb"!==s&&"ml"!==s)&&(i=this._getImageLines(this.oCoords[s].corner),0!==(e=this._findCrossPoints({x:n,y:r},i))&&e%2==1))return this.__corner=s,s;return!1},_setCornerCoords:function(){var e,i,n=this.oCoords,r=t(45-this.angle),s=.707106*this.cornerSize,o=s*Math.cos(r),a=s*Math.sin(r);for(var l in n)e=n[l].x,i=n[l].y,n[l].corner={tl:{x:e-a,y:i-o},tr:{x:e+o,y:i-a},bl:{x:e-o,y:i+a},br:{x:e+a,y:i+o}}},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var i,n,r=this._getNonTransformedDimensions(),s=r.x/2,o=r.y/2,a=[{x:-s,y:-o},{x:s,y:-o},{x:-s,y:o},{x:s,y:o}],l=this._calcDimensionsTransformMatrix(t,e,!1);for(i=0;i<a.length;i++)a[i]=fabric.util.transformPoint(a[i],l);return{x:(n=fabric.util.makeBoundingBoxFromPoints(a)).width,y:n.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return fabric.util.transformPoint(e,t,!0).scalarAdd(2*this.padding+(this.otherPaddingH||0),2*this.padding+(this.otherPaddingV||0))},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.group||!this.active)return this;e.save();var i=this.getCenterPoint(),n=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t){if(!this.hasBorders)return this;var e=this._calculateCurrentDimensions(),i=1/this.borderScaleFactor,n=e.x+i,r=e.y+i;if(t.save(),t.strokeStyle=this.borderColor,this._setLineDash(t,this.borderDashArray,null),t.strokeRect(-n/2,-r/2,n,r),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var s=-r/2;t.beginPath(),t.moveTo(0,s),t.lineTo(0,s-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e){if(!this.hasBorders)return this;var i=this._getNonTransformedDimensions(),n=fabric.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),r=fabric.util.transformPoint(i,n),s=1/this.borderScaleFactor,o=r.x+s,a=r.y+s;return t.save(),this._setLineDash(t,this.borderDashArray,null),t.strokeStyle=this.borderColor,t.strokeRect(-o/2,-a/2,o,a),t.restore(),this},drawControls:function(t){if(!this.hasControls){if(this.is_overflow||this.is_oversized||this.is_smallsized){t.save(),c=(c=this.cornerSize)>=26?c:26;var e=this.is_overflow?fabric_overflowed_img:this.is_smallsized?fabric_smallsized_img:fabric_oversized_img;G.mp.maker.is_ie||t.drawImage(e,-c/2,-c/2,c,c),t.restore()}return this}var i=this._calculateCurrentDimensions(),n=i.x,r=i.y,s=this.cornerSize,o=-(n+s)/2,a=-(r+s)/2,l=this.transparentCorners?"stroke":"fill";if(t.save(),t.strokeStyle=t.fillStyle=this.cornerColor,this.transparentCorners||(t.strokeStyle=this.cornerStrokeColor),this._setLineDash(t,this.cornerDashArray,null),this._drawControl("tl",t,l,o,a),this._drawControl("tr",t,l,o+n,a),this._drawControl("bl",t,l,o,a+r),this._drawControl("br",t,l,o+n,a+r),this.get("lockUniScaling")||(this._drawControl("mt",t,l,o+n/2,a),this._drawControl("mb",t,l,o+n/2,a+r),this._drawControl("mr",t,l,o+n,a+r/2),this._drawControl("ml",t,l,o,a+r/2)),this.hasRotatingPoint&&this._drawControl("mtr",t,l,o+n/2,a-this.rotatingPointOffset),this.is_overflow||this.is_oversized||this.is_smallsized){var c;c=(c=this.cornerSize)>=26?c:26;e=this.is_overflow?fabric_overflowed_img:this.is_smallsized?fabric_smallsized_img:fabric_oversized_img;G.mp.maker.is_ie||t.drawImage(e,-c/2,-c/2,c,c)}return t.restore(),this},_drawControl:function(t,e,i,n,r){if(this.isControlVisible(t)){var s=this.cornerSize,o=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case"circle":e.beginPath(),e.arc(n+s/2,r+s/2,s/2,0,2*Math.PI,!1),e[i](),o&&e.stroke();break;default:"undefined"!=typeof G_vmlCanvasManager||this.transparentCorners||e.clearRect(n,r,s,s),e[i+"Rect"](n,r,s,s),o&&e.strokeRect(n,r,s,s)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0,warning:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,s=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),s.renderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxCenterObjectV:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,s=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),s.renderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxRemove:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,s=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),s.renderAll(),r()},onComplete:function(){s.remove(t),n()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[];for(t in arguments[0])i.push(t);for(var n=0,r=i.length;n<r;n++)t=i[n],e=n!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,i,n){var r,s=this;e=e.toString(),i=i?fabric.util.object.clone(i):{},~t.indexOf(".")&&(r=t.split("."));var o=r?this.get(r[0])[r[1]]:this.get(t);"from"in i||(i.from=o),e=~e.indexOf("=")?o+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(){return i.abort.call(s)},onChange:function(e){r?s[r[0]][r[1]]=e:s.set(t,e),n||i.onChange&&i.onChange()},onComplete:function(){n||(s.setCoords(),i.onComplete&&i.onComplete())}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n={x1:1,x2:1,y1:1,y2:1},r=e.StaticCanvas.supports("setLineDash");if(e.Line)e.warn("fabric.Line is already defined");else{var s=e.Object.prototype.cacheProperties.concat();s.push("x1","x2","y1","y2"),e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s,initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==n[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var i=this.getCenterPoint();t.translate(i.x-this.strokeWidth/2,i.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&r){var n=this.calcLinePoints();t.moveTo(n.x1,n.y1),t.lineTo(n.x2,n.y2)}t.lineWidth=this.strokeWidth;var s=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=s},_renderDashedStroke:function(t){var i=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,i.x1,i.y1,i.x2,i.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===t.x&&(t.y-=this.strokeWidth),0===t.y&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},toSVG:function(t){var e=this._createBaseSVGMarkup(),i={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(i=this.calcLinePoints()),e.push("<line ",this.getSvgId(),'x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n){var r=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];return new e.Line(s,i(r,n))},e.Line.fromObject=function(t,i){var n=[t.x1,t.y1,t.x2,t.y2],r=new e.Line(n,t);return i&&i(r),r}}function o(t,e){var i=t.origin,n=t.axis1,r=t.axis2,s=t.dimension,o=e.nearest,a=e.center,l=e.farthest;return function(){switch(this.get(i)){case o:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(s);case l:return Math.max(this.get(n),this.get(r))}}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.PI,n=e.util.object.extend;if(e.Circle)e.warn("fabric.Circle is already defined.");else{var r=e.Object.prototype.cacheProperties.concat();r.push("radius"),e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,cacheProperties:r,initialize:function(t){this.callSuper("initialize",t),this.set("radius",t&&t.radius||0)},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,r=0,s=(this.endAngle-this.startAngle)%(2*i);if(0===s)this.group&&"path-group"===this.group.type&&(n=this.left+this.radius,r=this.top+this.radius),e.push("<circle ",this.getSvgId(),'cx="'+n+'" cy="'+r+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var o=Math.cos(this.startAngle)*this.radius,a=Math.sin(this.startAngle)*this.radius,l=Math.cos(this.endAngle)*this.radius,c=Math.sin(this.endAngle)*this.radius,h=s>i?"1":"0";e.push('<path d="M '+o+" "+a," A "+this.radius+" "+this.radius," 0 ",+h+" 1"," "+l+" "+c,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){i||(i={});var r,s=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=s)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");s.left=s.left||0,s.top=s.top||0;var o=new e.Circle(n(s,i));return o.left-=o.radius,o.top-=o.radius,o},e.Circle.fromObject=function(t,i){var n=new e.Circle(t);return i&&i(n),n}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){this.callSuper("initialize",t),this.set("width",t&&t.width||100).set("height",t&&t.height||100)},_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var i=this.width/2,n=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-i,n,0,-n,this.strokeDashArray),e.util.drawDashedLine(t,0,-n,i,n,this.strokeDashArray),e.util.drawDashedLine(t,i,n,-i,n,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=this.width/2,n=this.height/2,r=[-i+" "+n,"0 "+-n,i+" "+n].join(",");return e.push("<polygon ",this.getSvgId(),'points="',r,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Triangle.fromObject=function(t,i){var n=new e.Triangle(t);return i&&i(n),n})}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI,n=e.util.object.extend;if(e.Ellipse)e.warn("fabric.Ellipse is already defined.");else{var r=e.Object.prototype.cacheProperties.concat();r.push("rx","ry"),e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:r,initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=0,n=0;return this.group&&"path-group"===this.group.type&&(i=this.left+this.rx,n=this.top+this.ry),e.push("<ellipse ",this.getSvgId(),'cx="',i,'" cy="',n,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,i,!1),t.restore(),this._renderFill(t),this._renderStroke(t)},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){i||(i={});var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var s=new e.Ellipse(n(r,i));return s.top-=s.ry,s.left-=s.rx,s},e.Ellipse.fromObject=function(t,i){var n=new e.Ellipse(t);return i&&i(n),n}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;if(e.Rect)e.warn("fabric.Rect is already defined");else{var n=e.Object.prototype.stateProperties.concat();n.push("rx","ry"),e.Rect=e.util.createClass(e.Object,{stateProperties:n,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1!==this.width||1!==this.height){var i=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,s=this.height,o=e?this.left:-this.width/2,a=e?this.top:-this.height/2,l=0!==i||0!==n,c=.4477152502;t.beginPath(),t.moveTo(o+i,a),t.lineTo(o+r-i,a);var h=box.sel("maker->product_color->_->base_product"),u=h&&G.mp.maker.isAirPodCase(h)&&(G.mp.maker.is_cv_print_area(this)||G.mp.maker.is_cv_print_area_mask(this));l&&(u?t.bezierCurveTo(o+r-0,a,o+r,a+0,o+r,a+0):t.bezierCurveTo(o+r-c*i,a,o+r,a+c*n,o+r,a+n)),t.lineTo(o+r,a+s-n),l&&t.bezierCurveTo(o+r,a+s-c*n,o+r-c*i,a+s,o+r-i,a+s),t.lineTo(o+i,a+s),l&&t.bezierCurveTo(o+c*i,a+s,o,a+s-c*n,o,a+s-n),t.lineTo(o,a+n),l&&(u?t.bezierCurveTo(o,a+0,o+0,a,o+0,a):t.bezierCurveTo(o,a+c*n,o+c*i,a,o+i,a)),t.closePath(),this._renderFill(t),this._renderStroke(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var i=-this.width/2,n=-this.height/2,r=this.width,s=this.height;t.beginPath(),e.util.drawDashedLine(t,i,n,i+r,n,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n,i+r,n+s,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n+s,i,n+s,this.strokeDashArray),e.util.drawDashedLine(t,i,n+s,i,n,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=this.left,n=this.top;return this.group&&"path-group"===this.group.type||(i=-this.width/2,n=-this.height/2),e.push("<rect ",this.getSvgId(),'x="',i,'" y="',n,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Heart=e.util.createClass(e.Object,{}),e.Star=e.util.createClass(e.Object,{type:"star",initialize:function(t){t=t||{},this.points=[],this.set("shadow",t.shadow||null),this.set("numPoints",t.numPoints||0),this.set("innerRadius",t.innerRadius||0),this.set("outerRadius",t.outerRadius||0),this.set("radius",t.outerRadius||0),this.callSuper("initialize",t);var e=2*this.get("radius");this.set("width",e).set("height",e),this._setPoints()},_setPoints:function(t,e){var i=this.points=[];i.push({x:0,y:0-this.outerRadius});for(var n=1;n<2*this.numPoints;n++){var r=n%2==0?this.outerRadius:this.innerRadius,s=n*Math.PI/this.numPoints,o=r*Math.sin(s),a=-r*Math.cos(s);i.push({x:o,y:a})}},toObject:function(){return i(this.callSuper("toObject"),{numPoints:this.get("numPoints"),innerRadius:this.get("innerRadius"),outerRadius:this.get("outerRadius"),radius:this.get("radius"),points:this.points})},toSVG:function(){for(var t=[],i=null,n=0,r=this.points.length;n<r;n++)i=this.points[n],t.push(e.util.toFixed(i.x,2),",",e.util.toFixed(i.y,2)," ");return["<polygon ",'points="',t.join(""),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")},_render:function(t,e){var i=this.points,n=null;t.beginPath(),t.globalAlpha*=this.opacity,n=i[0],t.moveTo(n.x,n.y);for(var r=1,s=i.length;r<s;r++)n=i[r],t.lineTo(n.x,n.y);t.closePath(),t.fillOpacity=1,this.fill&&t.fill(),this.stroke&&t.stroke()},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){this.radius=t,this.outerRadius=t,this.set("width",2*t).set("height",2*t),this._setPoints()},setInnerRadius:function(t){this.innerRadius=t,this._setPoints()},setOuterRadius:function(t){this.outerRadius=t,this.set("width",2*t).set("height",2*t),this._setPoints()},setNumPoints:function(t){this.numPoints=t,this._setPoints()},complexity:function(){return this.points.length}}),e.Star.fromElement=function(t,i){return t?e.Polygon.fromElement(t,i):null},e.Star.fromObject=function(t,i){var n=new e.Star(t);return i&&i(n),n},e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n){if(!t)return null;n=n||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var s=new e.Rect(i(n?e.util.object.clone(n):{},r));return s.visible=s.visible&&s.width>0&&s.height>0,s},e.Rect.fromObject=function(t,i){var n=new e.Rect(t);return i&&i(n),n}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});if(e.Polyline)e.warn("fabric.Polyline is already defined");else{var i=e.Object.prototype.cacheProperties.concat();i.push("points"),e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:i,initialize:function(t,i){return e.Polygon.prototype.initialize.call(this,t,i)},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},toObject:function(t){return e.Polygon.prototype.toObject.call(this,t)},toSVG:function(t){return e.Polygon.prototype.toSVG.call(this,t)},_render:function(t,i){e.Polygon.prototype.commonRender.call(this,t,i)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var i,n;t.beginPath();for(var r=0,s=this.points.length;r<s;r++)i=this.points[r],n=this.points[r+1]||i,e.util.drawDashedLine(t,i.x,i.y,n.x,n.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,i){if(!t)return null;i||(i={});var n=e.parsePointsAttribute(t.getAttribute("points")),r=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(n,e.util.object.extend(r,i))},e.Polyline.fromObject=function(t,i){var n=new e.Polyline(t.points,t);return i&&i(n),n}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,s=e.util.toFixed;if(e.Polygon)e.warn("fabric.Polygon is already defined");else{var o=e.Object.prototype.cacheProperties.concat();o.push("points"),e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,cacheProperties:o,initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX),this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var t=this.points,e=n(t,"x"),i=n(t,"y"),s=r(t,"x"),o=r(t,"y");this.width=s-e||0,this.height=o-i||0,this.minX=e||0,this.minY=i||0},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e,i=[],n=this._createBaseSVGMarkup(),r=0,o=this.points.length;r<o;r++)i.push(s(this.points[r].x,2),",",s(this.points[r].y,2)," ");return this.group&&"path-group"===this.group.type||(e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<",this.type," ",this.getSvgId(),'points="',i.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),e," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(n.join("")):n.join("")},_render:function(t,e){this.commonRender(t,e)&&(this._renderFill(t),(this.stroke||this.strokeDashArray)&&(t.closePath(),this._renderStroke(t)))},commonRender:function(t,e){var i,n=this.points.length,r=e?0:this.pathOffset.x,s=e?0:this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-s);for(var o=0;o<n;o++)i=this.points[o],t.lineTo(i.x-r,i.y-s);return!0},_renderDashedStroke:function(t){e.Polyline.prototype._renderDashedStroke.call(this,t),t.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,n){if(!t)return null;n||(n={});var r=e.parsePointsAttribute(t.getAttribute("points")),s=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(r,i(s,n))},e.Polygon.fromObject=function(t,i){var n=new e.Polygon(t.points,t);return i&&i(n),n}}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,s=Object.prototype.toString,o=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};if(e.Path)e.warn("fabric.Path is already defined");else{var c=e.Object.prototype.cacheProperties.concat();c.push("path"),e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:c,initialize:function(t,e){(e=e||{})&&this.setOptions(e),t||(t=[]);var i="[object Array]"===s.call(t);this.path=i?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||(this.path=this._parsePath()),this._setPositionDimensions(e),e.sourcePath&&this.setSourcePath(e.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"})))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.minX=e.left,this.minY=e.top,this.width=e.width,this.height=e.height,void 0===t.left&&(this.left=e.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0)),void 0===t.top&&(this.top=e.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(t){var e,i,n,r=null,s=0,a=0,l=0,c=0,h=0,u=0,f=-this.pathOffset.x,d=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(f=0,d=0),t.beginPath();for(var p=0,g=this.path.length;p<g;++p){switch((e=this.path[p])[0]){case"l":l+=e[1],c+=e[2],t.lineTo(l+f,c+d);break;case"L":l=e[1],c=e[2],t.lineTo(l+f,c+d);break;case"h":l+=e[1],t.lineTo(l+f,c+d);break;case"H":l=e[1],t.lineTo(l+f,c+d);break;case"v":c+=e[1],t.lineTo(l+f,c+d);break;case"V":c=e[1],t.lineTo(l+f,c+d);break;case"m":s=l+=e[1],a=c+=e[2],t.moveTo(l+f,c+d);break;case"M":s=l=e[1],a=c=e[2],t.moveTo(l+f,c+d);break;case"c":i=l+e[5],n=c+e[6],h=l+e[3],u=c+e[4],t.bezierCurveTo(l+e[1]+f,c+e[2]+d,h+f,u+d,i+f,n+d),l=i,c=n;break;case"C":l=e[5],c=e[6],h=e[3],u=e[4],t.bezierCurveTo(e[1]+f,e[2]+d,h+f,u+d,l+f,c+d);break;case"s":i=l+e[3],n=c+e[4],null===r[0].match(/[CcSs]/)?(h=l,u=c):(h=2*l-h,u=2*c-u),t.bezierCurveTo(h+f,u+d,l+e[1]+f,c+e[2]+d,i+f,n+d),h=l+e[1],u=c+e[2],l=i,c=n;break;case"S":i=e[3],n=e[4],null===r[0].match(/[CcSs]/)?(h=l,u=c):(h=2*l-h,u=2*c-u),t.bezierCurveTo(h+f,u+d,e[1]+f,e[2]+d,i+f,n+d),l=i,c=n,h=e[1],u=e[2];break;case"q":i=l+e[3],n=c+e[4],h=l+e[1],u=c+e[2],t.quadraticCurveTo(h+f,u+d,i+f,n+d),l=i,c=n;break;case"Q":i=e[3],n=e[4],t.quadraticCurveTo(e[1]+f,e[2]+d,i+f,n+d),l=i,c=n,h=e[1],u=e[2];break;case"t":i=l+e[1],n=c+e[2],null===r[0].match(/[QqTt]/)?(h=l,u=c):(h=2*l-h,u=2*c-u),t.quadraticCurveTo(h+f,u+d,i+f,n+d),l=i,c=n;break;case"T":i=e[1],n=e[2],null===r[0].match(/[QqTt]/)?(h=l,u=c):(h=2*l-h,u=2*c-u),t.quadraticCurveTo(h+f,u+d,i+f,n+d),l=i,c=n;break;case"a":o(t,l+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+l+f,e[7]+c+d]),l+=e[6],c+=e[7];break;case"A":o(t,l+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),l=e[6],c=e[7];break;case"z":case"Z":l=s,c=a,t.closePath()}r=e}},_render:function(t){this._renderPathCommands(t),this._renderFill(t),this._renderStroke(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",["sourcePath","pathOffset"].concat(t)),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],i=this._createBaseSVGMarkup(),n="",r=0,s=this.path.length;r<s;r++)e.push(this.path[r].join(" "));var o=e.join(" ");return this.group&&"path-group"===this.group.type||(n=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),i.push("<path ",this.getSvgId(),'d="',o,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),n,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(i.join("")):i.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,i,n,r,s=[],o=[],c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,h=0,u=this.path.length;h<u;h++){for(n=(t=this.path[h]).slice(1).trim(),o.length=0;i=c.exec(n);)o.push(i[0]);r=[t.charAt(0)];for(var f=0,d=o.length;f<d;f++)e=parseFloat(o[f]),isNaN(e)||r.push(e);var p=r[0],g=a[p.toLowerCase()],m=l[p]||p;if(r.length-1>g)for(var v=1,y=r.length;v<y;v+=g)s.push([p].concat(r.slice(v,v+g))),p=m;else s.push(r)}return s},_parseDimensions:function(){for(var t,r,s,o,a=[],l=[],c=null,h=0,u=0,f=0,d=0,p=0,g=0,m=0,v=this.path.length;m<v;++m){switch((t=this.path[m])[0]){case"l":f+=t[1],d+=t[2],o=[];break;case"L":f=t[1],d=t[2],o=[];break;case"h":f+=t[1],o=[];break;case"H":f=t[1],o=[];break;case"v":d+=t[1],o=[];break;case"V":d=t[1],o=[];break;case"m":h=f+=t[1],u=d+=t[2],o=[];break;case"M":h=f=t[1],u=d=t[2],o=[];break;case"c":r=f+t[5],s=d+t[6],p=f+t[3],g=d+t[4],o=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],p,g,r,s),f=r,d=s;break;case"C":f=t[5],d=t[6],p=t[3],g=t[4],o=e.util.getBoundsOfCurve(f,d,t[1],t[2],p,g,f,d);break;case"s":r=f+t[3],s=d+t[4],null===c[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),o=e.util.getBoundsOfCurve(f,d,p,g,f+t[1],d+t[2],r,s),p=f+t[1],g=d+t[2],f=r,d=s;break;case"S":r=t[3],s=t[4],null===c[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),o=e.util.getBoundsOfCurve(f,d,p,g,t[1],t[2],r,s),f=r,d=s,p=t[1],g=t[2];break;case"q":r=f+t[3],s=d+t[4],p=f+t[1],g=d+t[2],o=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,s),f=r,d=s;break;case"Q":p=t[1],g=t[2],o=e.util.getBoundsOfCurve(f,d,p,g,p,g,t[3],t[4]),f=t[3],d=t[4];break;case"t":r=f+t[1],s=d+t[2],null===c[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),o=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,s),f=r,d=s;break;case"T":r=t[1],s=t[2],null===c[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),o=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,s),f=r,d=s;break;case"a":o=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":o=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=h,d=u}c=t,o.forEach((function(t){a.push(t.x),l.push(t.y)})),a.push(f),l.push(d)}var y=i(a)||0,_=i(l)||0;return{left:y,top:_,width:(n(a)||0)-y,height:(n(l)||0)-_}}}),e.Path.fromObject=function(t,i){var n;if("string"!=typeof t.path)return n=new e.Path(t.path,t),i&&i(n),n;e.loadSVGFromURL(t.path,(function(r){var s=t.path;n=r[0],delete t.path,e.util.object.extend(n,t),n.setSourcePath(s),i&&i(n)}))},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var s=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);i&&i(new e.Path(s.d,r(s,n)))},e.Path.async=!0}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.PathGroup?e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",initialize:function(t,e){e=e||{},this.paths=t||[];for(var i=this.paths.length;i--;)this.paths[i].group=this;e.toBeParsed&&(this.parseDimensionsFromPaths(e),delete e.toBeParsed),this.setOptions(e),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},parseDimensionsFromPaths:function(t){for(var i,n,r,s,o,a,l=[],c=[],h=this.paths.length;h--;){s=(r=this.paths[h]).height+r.strokeWidth,o=r.width+r.strokeWidth,i=[{x:r.left,y:r.top},{x:r.left+o,y:r.top},{x:r.left,y:r.top+s},{x:r.left+o,y:r.top+s}],a=this.paths[h].transformMatrix;for(var u=0;u<i.length;u++)n=i[u],a&&(n=e.util.transformPoint(n,a,!1)),l.push(n.x),c.push(n.y)}t.width=Math.max.apply(null,l),t.height=Math.max.apply(null,c)},drawObject:function(t){t.save(),t.translate(-this.width/2,-this.height/2);for(var e=0,i=this.paths.length;e<i;++e)this.paths[e].render(t,!0);t.restore()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].isCacheDirty(!0)){var i=this._getNonTransformedDimensions();return this._cacheContext.clearRect(-i.x/2,-i.y/2,i.x,i.y),!0}return!1},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var i=this.paths.length;i--;)this.paths[i]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=this.paths.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var n=e.toObject(t);return e.includeDefaultValues=i,n}));return i(this.callSuper("toObject",["sourcePath"].concat(t)),{paths:e})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){var e=this.getObjects(),i=this.getPointByOrigin("left","top"),n="translate("+i.x+" "+i.y+")",r=this._createBaseSVGMarkup();r.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),n,this.getSvgTransform(),'" ',">\n");for(var s=0,o=e.length;s<o;s++)r.push("\t",e[s].toSVG(t));return r.push("</g>\n"),t?t(r.join("")):r.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=this.getObjects()[0].get("fill")||"";return"string"==typeof t&&(t=t.toLowerCase(),this.getObjects().every((function(e){var i=e.get("fill")||"";return"string"==typeof i&&i.toLowerCase()===t})))},complexity:function(){return this.paths.reduce((function(t,e){return t+(e&&e.complexity?e.complexity():0)}),0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,i){"string"==typeof t.paths?e.loadSVGFromURL(t.paths,(function(n){var r=t.paths;delete t.paths;var s=e.util.groupSVGElements(n,t,r);i(s)})):e.util.enlivenObjects(t.paths,(function(n){delete t.paths,i(new e.PathGroup(n,t))}))},e.PathGroup.async=!0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max;if(!e.Group){var s={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;this.originalState={},e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),i?this._updateObjectsCoords(!0):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e)),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(t){for(var e=this.getCenterPoint(),i=this._objects.length;i--;)this._updateObjectCoords(this._objects[i],e,t)},_updateObjectCoords:function(t,e,i){if(t.__origHasControls=t.hasControls,t.hasControls=!1,!i){var n=t.getLeft(),r=t.getTop();t.set({originalLeft:n,originalTop:r,left:n-e.x,top:r-e.y}),t.setCoords(!0)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){var i=this._objects.length;if(this.delegatedProperties[t]||"canvas"===t)for(;i--;)this._objects[i].set(t,e);else for(;i--;)this._objects[i].setOnGroup(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var n=e.toObject(t);return e.includeDefaultValues=i,n}));return i(this.callSuper("toObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._renderObject(this._objects[e],t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){var i=this._getNonTransformedDimensions();return this._cacheContext.clearRect(-i.x/2,-i.y/2,i.x,i.y),!0}return!1},_renderControls:function(t,e){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e);for(var i=0,n=this._objects.length;i<n;i++)this._objects[i]._renderControls(t);t.restore()},_renderObject:function(t,e){if(t.visible){var i=t.hasRotatingPoint;t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=i}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var i=t.calcTransformMatrix(),n=e.util.qrDecompose(i),r=new e.Point(n.translateX,n.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",n.scaleX),t.set("scaleY",n.scaleY),t.skewX=n.skewX,t.skewY=n.skewY,t.angle=n.angle,t.setPositionByOrigin(r,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),delete t.group,this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0)})),this},_calcBounds:function(t){for(var e,i,n,r=[],s=[],o=["tr","br","bl","tl"],a=0,l=this._objects.length,c=o.length;a<l;++a)for((e=this._objects[a]).setCoords(!0),n=0;n<c;n++)i=o[n],r.push(e.oCoords[i].x),s.push(e.oCoords[i].y);this.set(this._getBounds(r,s,t))},_getBounds:function(t,i,s){var o=new e.Point(n(t),n(i)),a=new e.Point(r(t),r(i)),l={width:a.x-o.x||0,height:a.y-o.y||0};return s||(l.left=o.x||0,l.top=o.y||0,"center"===this.originX&&(l.left+=l.width/2),"right"===this.originX&&(l.left+=l.width),"center"===this.originY&&(l.top+=l.height/2),"bottom"===this.originY&&(l.top+=l.height)),l},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in s){if(this[t])return this[t];for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,i){e.util.enlivenObjects(t.objects,(function(n){delete t.objects,i&&i(new e.Group(n,t,!0))}))},e.Group.async=!0}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=fabric.util.object.extend;if(t.fabric||(t.fabric={}),t.fabric.Image)fabric.warn("fabric.Image is already defined.");else{var i=fabric.Object.prototype.stateProperties.concat();i.push("alignX","alignY","meetOrSlice"),fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"Anonymous",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:i,objectCaching:!1,initialize:function(t,e,i){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e,i)},initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e,t.e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},getElement:function(){return this._element},setElement:function(t,e,i){var n,r;return this._element=t,this._originalElement=t,this._initConfig(i),0===this.resizeFilters.length?n=e:(r=this,n=function(){r.applyFilters(e,r.resizeFilters,r._filteredEl||r._originalElement,!0)}),0!==this.filters.length?this.applyFilters(n):n&&n(this),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,i=-this.height/2,n=this.width,r=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,i,e+n,i,this.strokeDashArray),fabric.util.drawDashedLine(t,e+n,i,e+n,i+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e+n,i+r,e,i+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e,i+r,e,i,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var i=[],n=[],r=1,s=1;this.filters.forEach((function(t){t&&("Resize"===t.type&&(r*=t.scaleX,s*=t.scaleY),i.push(t.toObject()))})),this.resizeFilters.forEach((function(t){t&&n.push(t.toObject())}));var o=e(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(t)),{src:this.getSrc(),filters:i,resizeFilters:n});return o.width/=r,o.height/=s,o},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=-this.width/2,n=-this.height/2,r="none";if(this.group&&"path-group"===this.group.type&&(i=this.left,n=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(r="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',i,'" y="',n,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',r,'"',"></image>\n"),this.stroke||this.strokeDashArray){var s=this.fill;this.fill=null,e.push("<rect ",'x="',i,'" y="',n,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=s}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?fabric.isLikelyNode?e._src:e.src:this.src||""},setSrc:function(t,e,i){fabric.util.loadImage(t,(function(t){return this.setElement(t,e,i)}),this,i&&i.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(t,e,i,n){if(e=e||this.filters,i=i||this._originalElement){var r,s,o=fabric.util.createImage(),a=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,l=this.minimumScaleTrigger/a,c=this;if(0===e.length)return this._element=i,t&&t(this),i;var h=fabric.util.createCanvasElementt();return h.width=i.width,h.height=i.height,h.getContext("2d").drawImage(i,0,0,i.width,i.height),e.forEach((function(t){t&&(n?(r=c.scaleX<l?c.scaleX:1,s=c.scaleY<l?c.scaleY:1,r*a<1&&(r*=a),s*a<1&&(s*=a)):(r=t.scaleX,s=t.scaleY),t.applyTo(h,r,s),n||"Resize"!==t.type||(c.width*=t.scaleX,c.height*=t.scaleY))})),o.width=h.width,o.height=h.height,fabric.isLikelyNode?(o.src=h.toBuffer(void 0,fabric.Image.pngCompression),c._element=o,!n&&(c._filteredEl=o),t&&t(c)):(o.onload=function(){c._element=o,!n&&(c._filteredEl=o),t&&t(c),o.onload=h=null},o.src=h.toDataURL("image/png")),h}},_render:function(t,e){var i,n,r,s=this._findMargins();i=e?this.left:-this.width/2,n=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(i,n,this.width,this.height),t.clip()),!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,r=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):r=this._element,r&&t.drawImage(r,i+s.marginX,n+s.marginY,s.width,s.height),this._stroke(t),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,i=this.width,n=this.height,r=0,s=0;return"none"===this.alignX&&"none"===this.alignY||(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),i=this._element.width*e,n=this._element.height*e,"Mid"===this.alignX&&(r=(this.width-i)/2),"Max"===this.alignX&&(r=this.width-i),"Mid"===this.alignY&&(s=(this.height-n)/2),"Max"===this.alignY&&(s=this.height-n)),{width:i,height:n,marginX:r,marginY:s}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e,i){this.setElement(fabric.util.getById(t),i,e),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?fabric.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()&&this.getElement().width||0,this.height="height"in t?t.height:this.getElement()&&this.getElement().height||0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){if(t._originalElement&&"CANVAS"===t._originalElement.tagName)return new fabric.Image(t._originalElement,t,e);fabric.util.loadImage(t.src,(function(i){fabric.Image.prototype._initFilters.call(t,t.filters,(function(n){t.filters=n||[],fabric.Image.prototype._initFilters.call(t,t.resizeFilters,(function(n){return t.resizeFilters=n||[],new fabric.Image(i,t,e)}))}))}),null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,i){fabric.util.loadImage(t,(function(t){e&&e(new fabric.Image(t,i))}),null,i&&i.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),fabric.Image.fromElement=function(t,i,n){var r,s=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES);s.preserveAspectRatio&&(r=fabric.util.parsePreserveAspectRatioAttribute(s.preserveAspectRatio),e(s,r)),fabric.Image.fromURL(s["xlink:href"],i,e(n?fabric.util.object.clone(n):{},s))},fabric.Image.async=!0,fabric.Image.pngCompression=1}}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},i=(t=t||{}).onComplete||e,n=t.onChange||e,r=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.setAngle(t),n()},onComplete:function(){r.setCoords(),i()},onStart:function(){r.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",initialize:function(t){t=t||{},this.brightness=t.brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,r=this.brightness,s=0,o=n.length;s<o;s+=4)n[s]+=r,n[s+1]+=r,n[s+2]+=r;e.putImageData(i,0,0)},toObject:function(){return i(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=function(t){return new e.Image.filters.Brightness(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Convolute=r(n.BaseFilter,{type:"Convolute",initialize:function(t){t=t||{},this.opaque=t.opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(t){for(var e,i,n,r,s,o,a,l,c,h=this.matrix,u=t.getContext("2d"),f=u.getImageData(0,0,t.width,t.height),d=Math.round(Math.sqrt(h.length)),p=Math.floor(d/2),g=f.data,m=f.width,v=f.height,y=u.createImageData(m,v),_=y.data,b=this.opaque?1:0,x=0;x<v;x++)for(var w=0;w<m;w++){s=4*(x*m+w),e=0,i=0,n=0,r=0;for(var S=0;S<d;S++)for(var T=0;T<d;T++)o=w+T-p,(a=x+S-p)<0||a>v||o<0||o>m||(l=4*(a*m+o),c=h[S*d+T],e+=g[l]*c,i+=g[l+1]*c,n+=g[l+2]*c,r+=g[l+3]*c);_[s]=e,_[s+1]=i,_[s+2]=n,_[s+3]=r+b*(255-r)}u.putImageData(y,0,0)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=function(t){return new e.Image.filters.Convolute(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.GradientTransparency=r(n.BaseFilter,{type:"GradientTransparency",initialize:function(t){t=t||{},this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,r=this.threshold,s=n.length,o=0,a=n.length;o<a;o+=4)n[o+3]=r+255*(s-o)/s;e.putImageData(i,0,0)},toObject:function(){return i(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=function(t){return new e.Image.filters.GradientTransparency(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Grayscale=n(i.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,s=n.width*n.height*4,o=0;o<s;)e=(r[o]+r[o+1]+r[o+2])/3,r[o]=e,r[o+1]=e,r[o+2]=e,o+=4;i.putImageData(n,0,0)}}),e.Image.filters.Grayscale.fromObject=function(){return new e.Image.filters.Grayscale}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Invert=n(i.BaseFilter,{type:"Invert",applyTo:function(t){var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,s=r.length;for(e=0;e<s;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2];i.putImageData(n,0,0)}}),e.Image.filters.Invert.fromObject=function(){return new e.Image.filters.Invert}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Mask=r(n.BaseFilter,{type:"Mask",initialize:function(t){t=t||{},this.mask=t.mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var i,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),s=r.data,o=this.mask.getElement(),a=e.util.createCanvasElementt(),l=this.channel,c=r.width*r.height*4;a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(o,0,0,t.width,t.height);var h=a.getContext("2d").getImageData(0,0,t.width,t.height).data;for(i=0;i<c;i+=4)s[i+3]=h[i+l];n.putImageData(r,0,0)}},toObject:function(){return i(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,i){e.util.loadImage(t.mask.src,(function(n){t.mask=new e.Image(n,t.mask),i&&i(new e.Image.filters.Mask(t))}))},e.Image.filters.Mask.async=!0}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Noise=r(n.BaseFilter,{type:"Noise",initialize:function(t){t=t||{},this.noise=t.noise||0},applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,s=this.noise,o=0,a=r.length;o<a;o+=4)e=(.5-Math.random())*s,r[o]+=e,r[o+1]+=e,r[o+2]+=e;i.putImageData(n,0,0)},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=function(t){return new e.Image.filters.Noise(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",initialize:function(t){t=t||{},this.blocksize=t.blocksize||4},applyTo:function(t){var e,i,n,r,s,o,a,l=t.getContext("2d"),c=l.getImageData(0,0,t.width,t.height),h=c.data,u=c.height,f=c.width;for(i=0;i<u;i+=this.blocksize)for(n=0;n<f;n+=this.blocksize){r=h[e=4*i*f+4*n],s=h[e+1],o=h[e+2],a=h[e+3];for(var d=i,p=i+this.blocksize;d<p;d++)for(var g=n,m=n+this.blocksize;g<m;g++)h[e=4*d*f+4*g]=r,h[e+1]=s,h[e+2]=o,h[e+3]=a}l.putImageData(c,0,0)},toObject:function(){return i(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=function(t){return new e.Image.filters.Pixelate(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.RemoveWhite=r(n.BaseFilter,{type:"RemoveWhite",initialize:function(t){t=t||{},this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,i,n,r=t.getContext("2d"),s=r.getImageData(0,0,t.width,t.height),o=s.data,a=this.threshold,l=this.distance,c=255-a,h=Math.abs,u=0,f=o.length;u<f;u+=4)e=o[u],i=o[u+1],n=o[u+2],e>c&&i>c&&n>c&&h(e-i)<l&&h(e-n)<l&&h(i-n)<l&&(o[u+3]=0);r.putImageData(s,0,0)},toObject:function(){return i(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=function(t){return new e.Image.filters.RemoveWhite(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Sepia=n(i.BaseFilter,{type:"Sepia",applyTo:function(t){var e,i,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),s=r.data,o=s.length;for(e=0;e<o;e+=4)i=.3*s[e]+.59*s[e+1]+.11*s[e+2],s[e]=i+100,s[e+1]=i+50,s[e+2]=i+255;n.putImageData(r,0,0)}}),e.Image.filters.Sepia.fromObject=function(){return new e.Image.filters.Sepia}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Sepia2=n(i.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,i,n,r,s=t.getContext("2d"),o=s.getImageData(0,0,t.width,t.height),a=o.data,l=a.length;for(e=0;e<l;e+=4)i=a[e],n=a[e+1],r=a[e+2],a[e]=(.393*i+.769*n+.189*r)/1.351,a[e+1]=(.349*i+.686*n+.168*r)/1.203,a[e+2]=(.272*i+.534*n+.131*r)/2.14;s.putImageData(o,0,0)}}),e.Image.filters.Sepia2.fromObject=function(){return new e.Image.filters.Sepia2}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Tint=r(n.BaseFilter,{type:"Tint",initialize:function(t){t=t||{},this.color=t.color||"#000000",this.opacity=void 0!==t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var i,n,r,s,o,a,l,c,h,u=t.getContext("2d"),f=u.getImageData(0,0,t.width,t.height),d=f.data,p=d.length;for(n=(h=new e.Color(this.color).getSource())[0]*this.opacity,r=h[1]*this.opacity,s=h[2]*this.opacity,c=1-this.opacity,i=0;i<p;i+=4)o=d[i],a=d[i+1],l=d[i+2],d[i]=n+o*c,d[i+1]=r+a*c,d[i+2]=s+l*c;u.putImageData(f,0,0)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=function(t){return new e.Image.filters.Tint(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Multiply=r(n.BaseFilter,{type:"Multiply",initialize:function(t){t=t||{},this.color=t.color||"#000000"},applyTo:function(t){var i,n,r=t.getContext("2d"),s=r.getImageData(0,0,t.width,t.height),o=s.data,a=o.length;for(n=new e.Color(this.color).getSource(),i=0;i<a;i+=4)o[i]*=n[0]/255,o[i+1]*=n[1]/255,o[i+2]*=n[2]/255;r.putImageData(s,0,0)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=function(t){return new e.Image.filters.Multiply(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.Blend=n(i.BaseFilter,{type:"Blend",initialize:function(t){t=t||{},this.color=t.color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var i,n,r,s,o,a,l,c,h,u,f=t.getContext("2d"),d=f.getImageData(0,0,t.width,t.height),p=d.data,g=!1;if(this.image){g=!0;var m=e.util.createCanvasElementt();m.width=this.image.width,m.height=this.image.height;var v=new e.StaticCanvas(m);v.add(this.image),u=v.getContext("2d").getImageData(0,0,v.width,v.height).data}else i=(u=new e.Color(this.color).getSource())[0]*this.alpha,n=u[1]*this.alpha,r=u[2]*this.alpha;for(var y=0,_=p.length;y<_;y+=4)switch(s=p[y],o=p[y+1],a=p[y+2],g&&(i=u[y]*this.alpha,n=u[y+1]*this.alpha,r=u[y+2]*this.alpha),this.mode){case"multiply":p[y]=s*i/255,p[y+1]=o*n/255,p[y+2]=a*r/255;break;case"screen":p[y]=1-(1-s)*(1-i),p[y+1]=1-(1-o)*(1-n),p[y+2]=1-(1-a)*(1-r);break;case"add":p[y]=Math.min(255,s+i),p[y+1]=Math.min(255,o+n),p[y+2]=Math.min(255,a+r);break;case"diff":case"difference":p[y]=Math.abs(s-i),p[y+1]=Math.abs(o-n),p[y+2]=Math.abs(a-r);break;case"subtract":l=s-i,c=o-n,h=a-r,p[y]=l<0?0:l,p[y+1]=c<0?0:c,p[y+2]=h<0?0:h;break;case"darken":p[y]=Math.min(s,i),p[y+1]=Math.min(o,n),p[y+2]=Math.min(a,r);break;case"lighten":p[y]=Math.max(s,i),p[y+1]=Math.max(o,n),p[y+2]=Math.max(a,r)}f.putImageData(d,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=function(t){return new e.Image.filters.Blend(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,s=Math.abs,o=Math.max,a=Math.round,l=Math.sin,c=Math.ceil,h=e.Image.filters,u=e.util.createClass;h.Resize=u(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,i){if(1!==e||1!==i){this.rcpScaleX=1/e,this.rcpScaleY=1/i;var n,r=t.width,s=t.height,o=a(r*e),l=a(s*i);"sliceHack"===this.resizeType&&(n=this.sliceByTwo(t,r,s,o,l)),"hermite"===this.resizeType&&(n=this.hermiteFastResize(t,r,s,o,l)),"bilinear"===this.resizeType&&(n=this.bilinearFiltering(t,r,s,o,l)),"lanczos"===this.resizeType&&(n=this.lanczosResize(t,r,s,o,l)),t.width=o,t.height=l,t.getContext("2d").putImageData(n,0,0)}},sliceByTwo:function(t,i,r,s,a){var l,c=t.getContext("2d"),h=.5,u=.5,f=1,d=1,p=!1,g=!1,m=i,v=r,y=e.util.createCanvasElementt(),_=y.getContext("2d");for(s=n(s),a=n(a),y.width=o(s,i),y.height=o(a,r),s>i&&(h=2,f=-1),a>r&&(u=2,d=-1),l=c.getImageData(0,0,i,r),t.width=o(s,i),t.height=o(a,r),c.putImageData(l,0,0);!p||!g;)i=m,r=v,s*f<n(m*h*f)?m=n(m*h):(m=s,p=!0),a*d<n(v*u*d)?v=n(v*u):(v=a,g=!0),l=c.getImageData(0,0,i,r),_.putImageData(l,0,0),c.clearRect(0,0,m,v),c.drawImage(y,0,0,i,r,0,0,m,v);return c.getImageData(0,0,s,a)},lanczosResize:function(t,e,o,a,h){var u,f=t.getContext("2d"),d=f.getImageData(0,0,e,o),p=f.getImageData(0,0,a,h),g=d.data,m=p.data,v=(u=this.lanczosLobes,function(t){if(t>u)return 0;if(t*=Math.PI,s(t)<1e-16)return 1;var e=t/u;return l(t)*l(e)/t/e}),y=this.rcpScaleX,_=this.rcpScaleY,b=2/this.rcpScaleX,x=2/this.rcpScaleY,w=c(y*this.lanczosLobes/2),S=c(_*this.lanczosLobes/2),T={},C={},k={};return function t(l){var c,u,f,d,E,O,P,D,M,A,j;for(C.x=(l+.5)*y,k.x=n(C.x),c=0;c<h;c++){for(C.y=(c+.5)*_,k.y=n(C.y),E=0,O=0,P=0,D=0,M=0,u=k.x-w;u<=k.x+w;u++)if(!(u<0||u>=e)){A=n(1e3*s(u-C.x)),T[A]||(T[A]={});for(var L=k.y-S;L<=k.y+S;L++)L<0||L>=o||(j=n(1e3*s(L-C.y)),T[A][j]||(T[A][j]=v(r(i(A*b,2)+i(j*x,2))/1e3)),(f=T[A][j])>0&&(E+=f,O+=f*g[d=4*(L*e+u)],P+=f*g[d+1],D+=f*g[d+2],M+=f*g[d+3]))}m[d=4*(c*a+l)]=O/E,m[d+1]=P/E,m[d+2]=D/E,m[d+3]=M/E}return++l<a?t(l):p}(0)},bilinearFiltering:function(t,e,i,r,s){var o,a,l,c,h,u,f,d,p,g=0,m=this.rcpScaleX,v=this.rcpScaleY,y=t.getContext("2d"),_=4*(e-1),b=y.getImageData(0,0,e,i).data,x=y.getImageData(0,0,r,s),w=x.data;for(l=0;l<s;l++)for(c=0;c<r;c++)for(h=m*c-(o=n(m*c)),u=v*l-(a=n(v*l)),p=4*(a*e+o),f=0;f<4;f++)d=b[p+f]*(1-h)*(1-u)+b[p+4+f]*h*(1-u)+b[p+_+f]*u*(1-h)+b[p+_+4+f]*h*u,w[g++]=d;return x},hermiteFastResize:function(t,e,i,o,a){for(var l=this.rcpScaleX,h=this.rcpScaleY,u=c(l/2),f=c(h/2),d=t.getContext("2d"),p=d.getImageData(0,0,e,i).data,g=d.getImageData(0,0,o,a),m=g.data,v=0;v<a;v++)for(var y=0;y<o;y++){for(var _=4*(y+v*o),b=0,x=0,w=0,S=0,T=0,C=0,k=0,E=(v+.5)*h,O=n(v*h);O<(v+1)*h;O++)for(var P=s(E-(O+.5))/f,D=(y+.5)*l,M=P*P,A=n(y*l);A<(y+1)*l;A++){var j=s(D-(A+.5))/u,L=r(M+j*j);L>1&&L<-1||(b=2*L*L*L-3*L*L+1)>0&&(k+=b*p[(j=4*(A+O*e))+3],w+=b,p[j+3]<255&&(b=b*p[j+3]/250),S+=b*p[j],T+=b*p[j+1],C+=b*p[j+2],x+=b)}m[_]=S/x,m[_+1]=T/x,m[_+2]=C/x,m[_+3]=k/w}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=function(t){return new e.Image.filters.Resize(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",initialize:function(t){t||(t={}),this.matrix=t.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(t){var e,i,n,r,s,o=t.getContext("2d"),a=o.getImageData(0,0,t.width,t.height),l=a.data,c=l.length,h=this.matrix;for(e=0;e<c;e+=4)i=l[e],n=l[e+1],r=l[e+2],s=l[e+3],l[e]=i*h[0]+n*h[1]+r*h[2]+s*h[3]+h[4],l[e+1]=i*h[5]+n*h[6]+r*h[7]+s*h[8]+h[9],l[e+2]=i*h[10]+n*h[11]+r*h[12]+s*h[13]+h[14],l[e+3]=i*h[15]+n*h[16]+r*h[17]+s*h[18]+h[19];o.putImageData(a,0,0)},toObject:function(){return i(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}}),e.Image.filters.ColorMatrix.fromObject=function(t){return new e.Image.filters.ColorMatrix(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",initialize:function(t){t=t||{},this.contrast=t.contrast||0},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,r=259*(this.contrast+255)/(255*(259-this.contrast)),s=0,o=n.length;s<o;s+=4)n[s]=r*(n[s]-128)+128,n[s+1]=r*(n[s+1]-128)+128,n[s+2]=r*(n[s+2]-128)+128;e.putImageData(i,0,0)},toObject:function(){return i(this.callSuper("toObject"),{contrast:this.contrast})}}),e.Image.filters.Contrast.fromObject=function(t){return new e.Image.filters.Contrast(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Saturate=r(n.BaseFilter,{type:"Saturate",initialize:function(t){t=t||{},this.saturate=t.saturate||0},applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,s=.01*-this.saturate,o=0,a=r.length;o<a;o+=4)e=Math.max(r[o],r[o+1],r[o+2]),r[o]+=e!==r[o]?(e-r[o])*s:0,r[o+1]+=e!==r[o+1]?(e-r[o+1])*s:0,r[o+2]+=e!==r[o+2]?(e-r[o+2])*s:0;i.putImageData(n,0,0)},toObject:function(){return i(this.callSuper("toObject"),{saturate:this.saturate})}}),e.Image.filters.Saturate.fromObject=function(t){return new e.Image.filters.Saturate(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var n=e.Object.prototype.stateProperties.concat();n.push("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles");var r=e.Object.prototype.cacheProperties.concat();r.push("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stateProperties:n,cacheProperties:r,stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","textBackgroundColor"],__charBounds:[],initialize:function(t,e){this.styles=e&&e.styles||{},e&&delete e.text,this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElementt().getContext("2d")),e._measuringContext},initDimensions:function(){if(!this.__skipDimension){var t=this._splitTextIntoLines(this.text);this.textLines=t.lines,this._unwrappedTextLines=t._unwrappedLines,this._textLines=t.graphemeLines,this._text=t.graphemeText,this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||2,"justify"===this.textAlign&&this.enlargeSpaces(),this.height=this.calcTextHeight()}},enlargeSpaces:function(){for(var t,e,i,n,r,s,o,a=0,l=this._textLines.length;a<l;a++)if(n=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(o=this.textLines[a].match(this._reSpacesAndTabs))){i=o.length,t=(this.width-e)/i;for(var c=0,h=r.length;c<=h;c++)s=this.__charBounds[a][c],this._reSpaceAndTab.test(r[c])?(s.width+=t,s.kernedWidth+=t,s.left+=n,n+=t):s.left+=n}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){this._renderTextFill(t),this._renderTextStroke(t)},_setTextStyles:function(t,e,i){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,s){this._renderChars(t,e,i,n,r,s)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,s,o,a=0,l=t.fillStyle,c=this._getLeftOffset(),h=this._getTopOffset(),u=0,f=0,d=0,p=this._textLines.length;d<p;d++)if(e=this.getHeightOfLine(d),this.textBackgroundColor||this.styleHas("textBackgroundColor",d)){n=this._textLines[d],i=this._getLineLeftOffset(d),f=0,u=0,r=this.getValueOfPropertyAt(d,0,"textBackgroundColor");for(var g=0,m=n.length;g<m;g++)s=this.__charBounds[d][g],(o=this.getValueOfPropertyAt(d,g,"textBackgroundColor"))!==r?(t.fillStyle=r,r&&t.fillRect(c+i+u,h+a,f,e/this.lineHeight),u=s.left,f=s.width,r=o):f+=s.kernedWidth;o&&(t.fillStyle=o,t.fillRect(c+i+u,h+a,f,e/this.lineHeight)),a+=e}else a+=e;t.fillStyle=l,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var n=e.charWidthsCache[i],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[r]||(n[r]={}),n[r]},_applyCharStyles:function(t,e,i,n,r){this._setFillStyles(e,r),this._setStrokeStyles(e,r),e.font=this._getFontDeclaration(r)},_measureChar:function(t,e,i,n){var r,s,o,a,l=this.getFontCache(e),c=i+t,h=this._getFontDeclaration(e)===this._getFontDeclaration(n),u=e.fontSize/200;if(i&&void 0!==l[i]&&(o=l[i]),l[t]&&(a=r=l[t]),h&&void 0!==l[c]&&(a=(s=l[c])-o),void 0===r||void 0===o||void 0===s){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===r&&(a=r=f.measureText(t).width,l[t]=r),void 0===o&&h&&i&&(o=f.measureText(i).width,l[i]=o),h&&void 0===s&&(s=f.measureText(c).width,l[c]=s,a=s-o),{width:r*u,kernedWidth:a*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,i,n,r,s=0,o=this._textLines[t],a=new Array(o.length);for(this.__charBounds[t]=a,e=0;e<o.length;e++)i=o[e],r=this._getGraphemeBox(i,t,e,n),a[e]=r,s+=r.kernedWidth,n=i;return a[e]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:s,numOfSpaces:0}},_getGraphemeBox:function(t,e,i,n,r){var s=this.getCompleteStyleDeclaration(e,i),o=n?this.getCompleteStyleDeclaration(e,i-1):{},a=this._measureChar(t,s,n,o),l=a.kernedWidth,c=a.width;0!==this.charSpacing&&(c+=this._getWidthOfCharSpacing(),l+=this._getWidthOfCharSpacing());var h={width:c,left:0,height:s.fontSize,kernedWidth:l};if(i>0&&!r){var u=this.__charBounds[e][i-1];h.left=u.left+u.width+a.kernedWidth-a.width}return h},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),s=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),o=0,a=this._textLines.length;o<a;o++){var l=this.getHeightOfLine(o),c=l/this.lineHeight,h=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+h-s.offsetX,r+i+c-s.offsetY,o),i+=l}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,i,n,r,s){var o,a,l,c,h=this.getHeightOfLine(s),u="",f=0;e.save(),r-=h*this._fontSizeFraction/this.lineHeight;for(var d=0,p=i.length-1;d<=p;d++)c=d===p||this.charSpacing,u+=i[d],l=this.__charBounds[s][d],0===f?(n+=l.kernedWidth-l.width,f+=l.width):f+=l.kernedWidth,"justify"!==this.textAlign||c||this._reSpaceAndTab.test(i[d])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(s,d),a=this.getCompleteStyleDeclaration(s,d+1),c=this._hasStyleChanged(o,a)),c&&(this._renderChar(t,e,s,d,u,n,r,h),u="",o=a,n+=f,f=0);e.restore()},_renderChar:function(t,e,i,n,r,s,o){var a=this._getStyleDeclaration(i,n),l=this.getCompleteStyleDeclaration(i,n),c="fillText"===t&&l.fill,h="strokeText"===t&&l.stroke&&l.strokeWidth;(h||c)&&(a&&e.save(),this._applyCharStyles(t,e,i,n,l),a&&a.textBackgroundColor&&this._removeShadow(e),c&&e.fillText(r,s,o),h&&e.strokeText(r,s,o),a&&e.restore())},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__numberOfSpaces=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:(i=this.measureLine(t)).width,this.__lineWidths[t]=e,this.__numberOfSpaces[t]=i.numberOfSpaces,e);var e,i},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var n=this._getStyleDeclaration(t,e);return n&&void 0!==n[i]?n[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n,r,s,o,a,l,c,h,u,f,d=this._getLeftOffset(),p=this._getTopOffset(),g=0,m=this._textLines.length;g<m;g++)if(i=this.getHeightOfLine(g),this[e]||this.styleHas(e,g)){r=this._textLines[g],h=i/this.lineHeight,n=this._getLineLeftOffset(g),o=0,a=0,s=this.getValueOfPropertyAt(g,0,e),f=this.getValueOfPropertyAt(g,0,"fill");for(var v=0,y=r.length;v<y;v++)l=this.__charBounds[g][v],c=this.getValueOfPropertyAt(g,v,e),u=this.getValueOfPropertyAt(g,v,"fill"),(c!==s||u!==f)&&a>0?(t.fillStyle=f,s&&f&&t.fillRect(d+n+o,p+h*(1-this._fontSizeFraction)+this.offsets[e]*this.fontSize,a,this.fontSize/15),o=l.left,a=l.width,s=c,f=u):a+=l.kernedWidth;t.fillStyle=u,c&&u&&t.fillRect(d+n+o,p+h*(1-this._fontSizeFraction)+this.offsets[e]*this.fontSize,a,this.fontSize/15),p+=i}else p+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var n=t||this;return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,i?"200px":n.fontSize+"px",e.isLikelyNode?'"'+n.fontFamily+', Roboto, Noto Sans KR, Noto Sans TC, Taviraj, Lateef"':n.fontFamily+", Roboto, Noto Sans KR, Noto Sans TC, Taviraj, Lateef"].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),n=new Array(i.length),r=["\n"],s=[],o=0;o<i.length;o++)n[o]=e.util.string.graphemeSplit(i[o]),s=s.concat(n[o],r);return s.pop(),{_unwrappedLines:n,lines:i,graphemeText:s,graphemeLines:n}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),n=this.callSuper("toObject",e);return n.styles=i(this.styles,!0),n},_set:function(t,e){this.callSuper("_set",t,e),this._dimensionAffectingProps.indexOf(t)>-1&&(this.initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,r){if(!t)return n(null);var s=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),o=s.textAnchor||"left";if((r=e.util.object.extend(r?i(r):{},s)).top=r.top||0,r.left=r.left||0,s.textDecoration){var a=s.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in s&&(r.left+=s.dx),"dy"in s&&(r.top+=s.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in t?l=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(l=t.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=new e.Text(l,r),h=c.getScaledHeight()/c.height,u=((c.height+c.strokeWidth)*c.lineHeight-c.height)*h,f=c.getScaledHeight()+u,d=0;"center"===o&&(d=c.getScaledWidth()/2),"right"===o&&(d=c.getScaledWidth()),c.set({left:c.left-d,top:c.top-(f-c.fontSize*(.18+c._fontSizeFraction))/c.lineHeight}),n(c)},e.Text.fromObject=function(t,n){var r=new e.Text(t.text,i(t));return n&&n(r),r},e.util.createAccessors&&e.util.createAccessors(e.Text)}}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var i in e)for(var n in e[i])for(var r in e[i][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var i=void 0===e?this.styles:{line:this.styles[e]};for(var n in i)for(var r in i[n])if(void 0!==i[n][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n=this.styles,r=0,s=!1,o=!0,a=0;for(var l in n){for(var c in e=0,n[l])r++,s?n[l][c][t]!==i&&(o=!1):(i=n[l][c][t],s=!0),n[l][c][t]===this[t]&&delete n[l][c][t],0!==Object.keys(n[l][c]).length?e++:delete n[l][c];0===e&&delete n[l]}for(var h=0;h<this._textLines.length;h++)a+=this._textLines[h].length;o&&r===a&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex,{}),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),fabric.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+1}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},s=0;s<this._styleProperties.length;s++)r[i=this._styleProperties[s]]=void 0===n[i]?this[i]:n[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:400,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t),this.ctx=t},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop;e.save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing){"left"===this.textAlign?this.setPositionByOrigin(this.textAlign_point,"left","top"):"center"===this.textAlign?this.setPositionByOrigin(this.textAlign_point,"center","top"):"right"===this.textAlign&&this.setPositionByOrigin(this.textAlign_point,"right","top");var t,e=this._getCursorBoundaries();this.canvas&&this.canvas.contextTop?(t=this.canvas.contextTop,this.clearContextTop(!0)):(t=this.ctx).save(),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var e,i,n=0,r=0,s=this.get2DCursorLocation(t),o=0;o<s.lineIndex;o++)n+=this.getHeightOfLine(o);e=this._getLineLeftOffset(s.lineIndex);var a=this.__charBounds[s.lineIndex][s.charIndex];return a&&(r=a.left),0!==this.charSpacing&&0===this._textLines[0].length&&(r-=this._getWidthOfCharSpacing()),i={top:n,left:e+(r>0?r:0)},this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,s=this.getValueOfPropertyAt(n,r,"fontSize"),o=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/o,l=t.topOffset;l+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-s*(1-this._fontSizeFraction),e.fillStyle=this.getValueOfPropertyAt(n,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,l+t.top,a,s)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=this.get2DCursorLocation(i),s=this.get2DCursorLocation(n),o=r.lineIndex,a=s.lineIndex,l=r.charIndex<0?0:r.charIndex,c=s.charIndex<0?0:s.charIndex,h=o;h<=a;h++){var u,f=this._getLineLeftOffset(h)||0,d=this.getHeightOfLine(h),p=0,g=0;h===o&&(p=this.__charBounds[o][l].left),h>=o&&h<a?g=this.getLineWidth(h)||5:h===a&&(g=0===c?this.__charBounds[a][c].left:this.__charBounds[a][c-1].left+this.__charBounds[a][c-1].width),u=d,(this.lineHeight<1||h===a&&this.lineHeight>1)&&(d/=this.lineHeight),e.fillStyle=this.selectionColor,e.fillRect(t.left+f+p,t.top+t.topOffset,g-p,d),t.topOffset+=u}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}});var e=fabric.util.object.clone;fabric.IText.fromObject=function(i,n){if(t(i),i.styles)for(var r in i.styles)for(var s in i.styles[r])t(i.styles[r][s]);var o=new fabric.IText(i.text,e(i));return n&&n(o),o}}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(t){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],fabric.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){if(t._iTextInstances){var e=t.getActiveObject();t._iTextInstances.forEach((function(t){t.__isMousedown=!1,e!=t&&t.onDeselect()}))}}.bind(this),t.on("selection:cleared",t._mouseUpITextHandler),t.on("object:selected",t._mouseUpITextHandler),t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},selectLast:function(){return this.selectionStart=this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this.text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this.text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._reSpace.test(this.text.charAt(t))?t-1:t,n=this.text.charAt(i),r=/[ \n\.,;!\?\-]/;!r.test(n)&&i>0&&i<this.text.length;)i+=e,n=this.text.charAt(i);return r.test(n)&&"\n"!==n&&(i+=1===e?0:1),i},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?("left"===this.textAlign?this.textAlign_point=this.calcCoords(!0).tl:"center"===this.textAlign?this.textAlign_point=this.calcCoords(!0).mt:"right"===this.textAlign&&(this.textAlign_point=this.calcCoords(!0).tr),this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.renderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==n||i!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var n=i.slice(0,t),r=fabric.util.string.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};var s=i.slice(t,e);return{selectionStart:r,selectionEnd:r+fabric.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd,this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value;var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd)this._calcTextareaPosition()},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,s=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,o=e.leftOffset,a=this.calcTransformMatrix(),l={x:e.left+o,y:e.top+e.topOffset+s},c=this.canvas.upperCanvasEl,h=c.width-s,u=c.height-s;return l=fabric.util.transformPoint(l,a),(l=fabric.util.transformPoint(l,this.canvas.viewportTransform)).x<0&&(l.x=0),l.x>h&&(l.x=h),l.y<0&&(l.y=0),l.y>u&&(l.y=u),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){if(this.isEditing){var t=this._textBeforeEdit!==this.text;if(this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.text=this.text.trim(),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.setCoords(),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas){this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this});try{t&&this.canvas.fire("object:modified",{target:this})}catch(t){}}return this}},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,n,r=this.get2DCursorLocation(t,!0),s=this.get2DCursorLocation(e,!0),o=r.lineIndex,a=r.charIndex,l=s.lineIndex,c=s.charIndex;if(o!==l){if(this.styles[o])for(i=a;i<this._textLines[o].length;i++)delete this.styles[o][i];if(this.styles[l])for(i=c;i<this._textLines[l].length;i++)(n=this.styles[l][i])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][a+i-c]=n);for(i=o+1;i<=l;i++)delete this.styles[i];this.shiftLineStyles(l,o-l)}else if(this.styles[o]){n=this.styles[o];var h,u,f=c-a;for(i=a;i<c;i++)delete n[i];for(u in this.styles[o])(h=parseInt(u,10))>=c&&(n[h-f]=n[u],delete n[u])}},shiftLineStyles:function(e,i){var n=t(this.styles);for(var r in this.styles){var s=parseInt(r,10);s>e&&(this.styles[s+i]=n[s],n[s-i]||delete this.styles[s])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,i,n,r){var s,o={},a=!1;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(s=this.styles[e][0===i?i:i-1]),this.styles[e]){var c=parseInt(l,10);c>=i&&(a=!0,o[c-i]=this.styles[e][l],delete this.styles[e][l])}for(a?this.styles[e+n]=o:delete this.styles[e+n];n>1;)n--,r&&r[n]?this.styles[e+n]={0:t(r[n])}:s?this.styles[e+n]={0:t(s)}:delete this.styles[e+n];this._forceClearCache=!0},insertCharStyleObject:function(e,i,n,r){this.styles||(this.styles={});var s=this.styles[e],o=s?t(s):{};for(var a in n||(n=1),o){var l=parseInt(a,10);l>=i&&(s[l+n]=o[l],o[l-n]||delete s[l])}if(this._forceClearCache=!0,r)for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][i+n]=t(r[n]));else if(s)for(var c=s[i?i-1:1];c&&n--;)this.styles[e][i+n]=t(c)},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],s=0,o=0;o<t.length;o++)"\n"===t[o]?r[++s]=0:r[s]++;r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),s&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],s);for(o=1;o<=s;o++)this.insertCharStyleObject(n.lineIndex+o,0,r[o],i),i=i&&i.slice(r[o]+1)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e,t.e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",(function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))})),this.on("tripleclick",(function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))}))},initMousedownHandler:function(){this.on("mousedown",(function(t){if(this.editable&&(!t.e.button||1===t.e.button)){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}}))},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return Math.abs(this.__mousedownX-e.x)>5||Math.abs(this.__mousedownY-e.y)>5},initMouseupHandler:function(){this.on("mouseup",(function(t){this.__isMousedown=!1,!this.editable||this._isObjectMoved(t.e)||t.e.button&&1!==t.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)}))},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),i=0,n=0,r=0,s=0,o=0,a=0,l=this._textLines.length;a<l&&r<=e.y;a++)r+=this.getHeightOfLine(a)*this.scaleY,o=a,a>0&&(s+=this._textLines[a-1].length+1);n=this._getLineLeftOffset(o)*this.scaleX;for(var c=0,h=this._textLines[o].length;c<h&&(i=n,(n+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=e.x);c++)s++;return this._getNewSelectionStartFromOffset(e,i,n,s,h)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var s=t.x-e,o=i-t.x,a=n+(o>s||o<0?0:1);return this.flipX&&(a=r-a),a>this._text.length&&(a=this._text.length),a}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("class","cv_text_hidden_text_area"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();if(G.is_pc_size())this.hiddenTextarea.style.cssText="position: fixed; top: -20000px !important; left: 0px; z-index: -999; opacity: 0; width: 1px; height: px; font-size: 16px; paddingｰtop: "+t.fontSize+";",fabric.document.body.appendChild(this.hiddenTextarea);else{var e=this.textAlign;$.css(this.hiddenTextarea,{textAlign:e}),fabric.document.body.appendChild(this.hiddenTextarea)}fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this));var i=this;fabric.util.addListener(this.hiddenTextarea,"blur",(function(t){i.exitEditing()})),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"mousedown",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(t){this.hiddenTextarea&&(this.hiddenTextarea.focus(),t.preventDefault())},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,n,r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=r.length,a=o-s;""===this.hiddenTextarea.value&&(this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.renderAll())),this.selectionStart!==this.selectionEnd?(i=this._text.slice(this.selectionStart,this.selectionEnd),a+=this.selectionEnd-this.selectionStart):o<s&&(i=this._text.slice(this.selectionEnd+a,this.selectionEnd));var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);n=r.slice(l.selectionEnd-a,l.selectionEnd),i&&i.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):this.selectionStart>l.selectionStart?this.removeStyleFromTo(this.selectionEnd-i.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+i.length)),n.length&&(e&&n.join("")===fabric.copiedText?this.insertNewStyleBlock(n,this.selectionStart,fabric.copiedTextStyle):this.insertNewStyleBlock(n,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.width+=.01,this.height+=.01,this.setCoords(),this.canvas&&this.canvas.renderAll(),this.width-=.01,this.height-=.01,this.setCoords(),this.canvas.renderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(fabric.copiedText=this.getSelectedText(),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,n=this._getLineLeftOffset(t);return e>0&&(n+=(i=this.__charBounds[t][e-1]).left+i.width),n},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var s=n.charIndex,o=this._getWidthBeforeCursor(r,s),a=this._getIndexOnLine(r+1,o);return this._textLines[r].slice(s).length+a+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-i;var s=n.charIndex,o=this._getWidthBeforeCursor(r,s),a=this._getIndexOnLine(r-1,o),l=this._textLines[r].slice(0,s);return-this._textLines[r-1].length+a-l.length},_getIndexOnLine:function(t,e){for(var i,n,r=this._textLines[t],s=this._getLineLeftOffset(t),o=0,a=0,l=r.length;a<l;a++)if((s+=i=this.__charBounds[t][a].width)>e){n=!0;var c=s-i,h=s,u=Math.abs(c-e);o=Math.abs(h-e)<u?a:a-1;break}return n||(o=r.length-1),o},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==typeof n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.set("dirty",!0),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var i=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(i,this.selectionStart),this.setSelectionStart(i)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),function(){var t=fabric.util.toFixed,e=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.Text.prototype,{toSVG:function(t){var e=this._createBaseSVGMarkup(),i=this._getSVGLeftTopOffsets(),n=this._getSVGTextAndBg(i.textTop,i.textLeft);return this._wrapSVGTextAndBg(e,n),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t,e){var i=this.getSvgFilter(),n=""===i?"":' style="'+i+'"';t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',n,">\n",e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(!0),'" >\n',e.textSpans.join(""),"\t\t</text>\n","\t</g>\n")},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],s=t;this._setSVGBg(r);for(var o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+i,s),this._setSVGTextLineText(n,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(i,n,r,s){var o=this.getSvgSpanStyles(n,i!==i.trim()),a=o?'style="'+o+'"':"";return['\t\t\t<tspan x="',t(r,e),'" y="',t(s,e),'" ',a,">",fabric.util.string.escapeXml(i),"</tspan>\n"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,s,o,a,l,c=this.getHeightOfLine(e),h="",u=0,f=this._textLines[e];n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var d=0,p=f.length-1;d<=p;d++)l=d===p||this.charSpacing,h+=f[d],o=this.__charBounds[e][d],0===u&&(i+=o.kernedWidth-o.width),u+=o.kernedWidth,"justify"!==this.textAlign||l||this._reSpaceAndTab.test(f[d])&&(l=!0),l||(r=r||this.getCompleteStyleDeclaration(e,d),s=this.getCompleteStyleDeclaration(e,d+1),l=this._hasStyleChanged(r,s)),l&&(a=this._getStyleDeclaration(e,d)||{},t.push(this._createTextCharSpan(h,a,i,n)),h="",r=s,i+=u,u=0)},_pushTextBgRect:function(i,n,r,s,o,a){i.push("\t\t<rect ",this._getFillAttributes(n),' x="',t(r,e),'" y="',t(s,e),'" width="',t(o,e),'" height="',t(a,e),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,s,o=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,l=0,c=0,h=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,f=o.length;u<f;u++)r=this.__charBounds[e][u],(s=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==h?(h&&this._pushTextBgRect(t,h,i+c,n,l,a),c=r.left,l=r.width,h=s):l+=r.kernedWidth;s&&this._pushTextBgRect(t,s,i+c,n,l,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new fabric.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,n=0;n<t;n++)i+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return fabric.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,initialize:function(t,i){this.callSuper("initialize",t,i),this.ctx=this.objectCaching?this._cacheContext:e.util.createCanvasElementt().getContext("2d"),this._dimensionAffectingProps.push("width")},initDimensions:function(){if(!this.__skipDimension){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0;var t=this._splitTextIntoLines(this.text);this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,this._styleMap=this._generateStyleMap(t),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),"justify"===this.textAlign&&this.enlargeSpaces(),this.height=this.calcTextHeight()}},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},s=0;s<t.graphemeLines.length;s++)"\n"===t.graphemeText[n]&&s>0?(i=0,n++,e++):this._reSpaceAndTab.test(t.graphemeText[n])&&s>0&&(i++,n++),r[s]={line:e,offset:i},n+=t.graphemeLines[s].length,i+=t.graphemeLines[s].length;return r},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[i];n&&(i=n.line)}return e.Text.prototype.styleHas.call(this,t,i)},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return this.styles[e.line]},_setLineStyle:function(t,e){var i=this._styleMap[t];this.styles[i.line]=e},_deleteLineStyle:function(t){var e=this._styleMap[t];delete this.styles[e.line]},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0;i=i||0;for(var s=0,o=t.length;s<o;s++){r+=this._getGraphemeBox(t[s],e,s+i,n,!0).kernedWidth,n=t[s]}return r},_wrapLine:function(t,i,n){for(var r=0,s=[],o=[],a=t.split(this._reSpaceAndTab),l="",c=0,h=0,u=0,f=0,d=!0,p=this._getWidthOfCharSpacing(),g=0;g<a.length;g++)l=e.util.string.graphemeSplit(a[g]),h=this._measureWord(l,i,c),c+=l.length,(r+=u+h-p)>=n&&!d&&(s.push(o),o=[],r=h,d=!0),d||o.push(" "),o=o.concat(l),u=this._measureWord([" "],i,c),c++,d=!1,h>f&&(f=h);return g&&s.push(o),f>this.dynamicMinWidth&&(this.dynamicMinWidth=f-p),s},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(i.lines,this.width),r=new Array(n.length),s=0;s<n.length;s++)r[s]=n[s].join("");return i.lines=r,i.graphemeLines=n,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),e.Textbox.fromObject=function(t,i){var n=new e.Textbox(t.text,e.util.object.clone(t));return i&&i(n),n}}("undefined"!=typeof exports?exports:this),function(){var t=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(e,i,n,r,s,o,a){var l=i.target;if(!("x"===s&&l instanceof fabric.Textbox))return t.call(fabric.Canvas.prototype,e,i,n,r,s,o,a);var c=l._getTransformedDimensions().x,h=l.width*(e.x/c);return h>=l.getMinWidth()?(l.set("width",h),!0):void 0},fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]}})}(),function(){function t(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function e(e,i){var n=function(e,i){var n=t(e)*t(i);if(0===n)return 0;var r=function(t,e){return t.x*e.x+t.y*e.y}(e,i)/n;return r>1&&(r=1),Math.acos(r)}(e,i);return function(t,e){return t.x*e.y-e.x*t.y}(e,i)>0&&(n*=-1),180*n/Math.PI}var i=function(t){this.handlers=[],this.el=t};function n(t,e){var n=new i(t);return n.add(e),n}i.prototype.add=function(t){this.handlers.push(t)},i.prototype.del=function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)},i.prototype.dispatch=function(){for(var t=0,e=this.handlers.length;t<e;t++){var i=this.handlers[t];"function"==typeof i&&i.apply(this.el,arguments)}};var r=function(t,e){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var i=function(){};this.rotate=n(this.element,e.rotate||i),this.touchStart=n(this.element,e.touchStart||i),this.multipointStart=n(this.element,e.multipointStart||i),this.multipointEnd=n(this.element,e.multipointEnd||i),this.pinch=n(this.element,e.pinch||i),this.swipe=n(this.element,e.swipe||i),this.tap=n(this.element,e.tap||i),this.doubleTap=n(this.element,e.doubleTap||i),this.longTap=n(this.element,e.longTap||i),this.singleTap=n(this.element,e.singleTap||i),this.pressMove=n(this.element,e.pressMove||i),this.twoFingerPressMove=n(this.element,e.twoFingerPressMove||i),this.touchMove=n(this.element,e.touchMove||i),this.touchEnd=n(this.element,e.touchEnd||i),this.touchCancel=n(this.element,e.touchCancel||i),this._cancelAllHandler=this.cancelAll.bind(this),window.removeEventListener("scroll",this._cancelAllHandler),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};r.prototype={start:function(e){if(e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var i=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};i.x=n.x,i.y=n.y,this.pinchStartLen=t(i),this.multipointStart.dispatch(e)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e),this._preventTap=!0}.bind(this),750)}},move:function(i){if(i.touches){var n=this.preV,r=i.touches.length,s=i.touches[0].pageX,o=i.touches[0].pageY;if(this.isDoubleTap=!1,r>1){var a=i.touches[1].pageX,l=i.touches[1].pageY,c={x:i.touches[1].pageX-s,y:i.touches[1].pageY-o};null!==n.x&&(this.pinchStartLen>0&&(this.pinchStartLen=this.pinchStartLen_jip?t(c):this.pinchStartLen,this.pinchStartLen_jip=!1,i.zoom=t(c)/this.pinchStartLen,this.pinch.dispatch(i)),i.angle=e(c,n),this.rotate.dispatch(i)),n.x=c.x,n.y=c.y,null!==this.x2&&null!==this.sx2?(i.deltaX=(s-this.x2+a-this.sx2)/2,i.deltaY=(o-this.y2+l-this.sy2)/2):(i.deltaX=0,i.deltaY=0),this.twoFingerPressMove.dispatch(i),this.sx2=a,this.sy2=l}else null!==this.x2?(i.deltaX=s-this.x2,i.deltaY=o-this.y2):(i.deltaX=0,i.deltaY=0),this.pressMove.dispatch(i);this.touchMove.dispatch(i),this._cancelLongTap(),this.x2=s,this.y2=o,r>1&&i.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&this.multipointEnd.dispatch(t),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){e.swipe.dispatch(t)}),0)):(this.tapTimeout=setTimeout((function(){e._preventTap||e.tap.dispatch(t),e.isDoubleTap&&(e.doubleTap.dispatch(t),clearTimeout(e.singleTapTimeout),e.isDoubleTap=!1)}),0),e.isDoubleTap||(e.singleTapTimeout=setTimeout((function(){e.singleTap.dispatch(t)}),250))),this.touchEnd.dispatch(t),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"},on:function(t,e){this[t]&&this[t].add(e)},off:function(t,e){this[t]&&this[t].del(e)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,null}},"undefined"!=typeof module&&"object"==typeof exports?module.exports=r:window.AlloyFinger=r}(),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function n(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function r(e,i){function r(){var t=s;n(t)&&t.a.parentNode&&i(t.g)}var s=e;t(e.b,r),t(e.c,r),n(e)}function s(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var o=null,a=null,l=null,c=null;function h(){return null===c&&(c=!!document.fonts),c}function u(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}l=""!==t.style.font}return l}function f(t,e){return[t.style,t.weight,u()?t.stretch:"","100px",e].join(" ")}s.prototype.load=function(t,n){var s=this,l=t||"BESbswy",c=0,u=n||3e3,d=(new Date).getTime();return new Promise((function(t,n){if(h()&&!function(){if(null===a)if(h()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);a=!!t&&603>parseInt(t[1],10)}else a=!1;return a}()){var p=new Promise((function(t,e){!function i(){(new Date).getTime()-d>=u?e():document.fonts.load(f(s,'"'+s.family+'"'),l).then((function(e){1<=e.length?t():setTimeout(i,25)}),(function(){e()}))}()})),g=new Promise((function(t,e){c=setTimeout(e,u)}));Promise.race([g,p]).then((function(){clearTimeout(c),t(s)}),(function(){n(s)}))}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function a(){var e;(e=-1!=m&&-1!=v||-1!=m&&-1!=y||-1!=v&&-1!=y)&&((e=m!=v&&m!=y&&v!=y)||(null===o&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),o=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=o&&(m==_&&v==_&&y==_||m==b&&v==b&&y==b||m==x&&v==x&&y==x)),e=!e),e&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(c),t(s))}var h=new e(l),p=new e(l),g=new e(l),m=-1,v=-1,y=-1,_=-1,b=-1,x=-1,w=document.createElement("div");w.dir="ltr",i(h,f(s,"sans-serif")),i(p,f(s,"serif")),i(g,f(s,"monospace")),w.appendChild(h.a),w.appendChild(p.a),w.appendChild(g.a),document.body.appendChild(w),_=h.a.offsetWidth,b=p.a.offsetWidth,x=g.a.offsetWidth,function t(){if((new Date).getTime()-d>=u)w.parentNode&&w.parentNode.removeChild(w),n(s);else{var e=document.hidden;!0!==e&&void 0!==e||(m=h.a.offsetWidth,v=p.a.offsetWidth,y=g.a.offsetWidth,a()),c=setTimeout(t,50)}}(),r(h,(function(t){m=t,a()})),i(h,f(s,'"'+s.family+'",sans-serif')),r(p,(function(t){v=t,a()})),i(p,f(s,'"'+s.family+'",serif')),r(g,(function(t){y=t,a()})),i(g,f(s,'"'+s.family+'",monospace'))}))}))},"object"==typeof module?module.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}(),function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e){function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.create(t.prototype);for(var r in i)n[r]=i[r];return n.constructor=e,e.prototype=n,e}var n={defaultProtocol:"http",events:null,format:s,formatHref:s,nl2br:!1,tagName:"a",target:function(t,e){return"url"===e?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function r(t){t=t||{},this.defaultProtocol=t.hasOwnProperty("defaultProtocol")?t.defaultProtocol:n.defaultProtocol,this.events=t.hasOwnProperty("events")?t.events:n.events,this.format=t.hasOwnProperty("format")?t.format:n.format,this.formatHref=t.hasOwnProperty("formatHref")?t.formatHref:n.formatHref,this.nl2br=t.hasOwnProperty("nl2br")?t.nl2br:n.nl2br,this.tagName=t.hasOwnProperty("tagName")?t.tagName:n.tagName,this.target=t.hasOwnProperty("target")?t.target:n.target,this.validate=t.hasOwnProperty("validate")?t.validate:n.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||n.attributes,this.className=t.hasOwnProperty("className")?t.className:t.linkClass||n.className;for(var e=t.hasOwnProperty("ignoreTags")?t.ignoreTags:n.ignoreTags,i=0;i<e.length;i++)this.ignoreTags.push(e[i].toUpperCase())}function s(t){return t}r.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(e,i,r){var s=void 0,o=this[e];if(!o)return o;switch(void 0===o?"undefined":t(o)){case"function":return o(i,r.type);case"object":return"function"==typeof(s=o.hasOwnProperty(r.type)?o[r.type]:n[e])?s(i,r.type):s}return o},getObject:function(t,e,i){var n=this[t];return"function"==typeof n?n(e,i.type):n}};var o=Object.freeze({defaults:n,Options:r,contains:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}});var a=function(t){this.j=[],this.T=t||null};a.prototype={defaultTransition:!1,on:function(t,e){if(t instanceof Array){for(var i=0;i<t.length;i++)this.j.push([t[i],e]);return this}return this.j.push([t,e]),this},next:function(t){for(var e=0;e<this.j.length;e++){var i=this.j[e],n=i[0],r=i[1];if(this.test(t,n))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,e){return t===e},emit:function(){return this.T}};var l=i(a,(function(t){this.j=[],this.T=t||null}),{test:function(t,e){return t===e||e instanceof RegExp&&e.test(t)}}),c=i(a,(function(t){this.j=[],this.T=t||null}),{jump:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.next(new t(""));return i===this.defaultTransition?(i=new this.constructor(e),this.on(t,i)):e&&(i.T=e),i},test:function(t,e){return t instanceof e}});function h(t,e,i,n){for(var r=0,s=t.length,o=e,a=[],c=void 0;r<s&&(c=o.next(t[r]));)o=c,r++;if(r>=s)return[];for(;r<s-1;)c=new l(n),a.push(c),o.on(t[r],c),o=c,r++;return c=new l(i),a.push(c),o.on(t[s-1],c),a}var u=function(t){t&&(this.v=t)};function f(t){return i(u,(function(t){t&&(this.v=t)}),t?{v:t}:{})}u.prototype={toString:function(){return this.v+""}};var d=f(),p=f("@"),g=f(":"),m=f("."),v=f(),y=f(),_=f("\n"),b=f(),x=f("+"),w=f("#"),S=f(),T=f("mailto:"),C=f("?"),k=f("/"),E=f("_"),O=f(),P=f(),D=f(),M=f("{"),A=f("["),j=f("<"),L=f("("),I=f("}"),z=f("]"),R=f(">"),Y=f(")"),N=f("&"),B=Object.freeze({Base:u,DOMAIN:d,AT:p,COLON:g,DOT:m,PUNCTUATION:v,LOCALHOST:y,NL:_,NUM:b,PLUS:x,POUND:w,QUERY:C,PROTOCOL:S,MAILTO:T,SLASH:k,UNDERSCORE:E,SYM:O,TLD:P,WS:D,OPENBRACE:M,OPENBRACKET:A,OPENANGLEBRACKET:j,OPENPAREN:L,CLOSEBRACE:I,CLOSEBRACKET:z,CLOSEANGLEBRACKET:R,CLOSEPAREN:Y,AMPERSAND:N}),F="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),H="0123456789".split(""),X="0123456789abcdefghijklmnopqrstuvwxyz".split(""),W=[" ","\f","\r","\t","\v"," "," ","᠎"],$=[],G=function(t){return new l(t)},V=G(),q=G(b),U=G(d),K=G(),Z=G(D);V.on("@",G(p)).on(".",G(m)).on("+",G(x)).on("#",G(w)).on("?",G(C)).on("/",G(k)).on("_",G(E)).on(":",G(g)).on("{",G(M)).on("[",G(A)).on("<",G(j)).on("(",G(L)).on("}",G(I)).on("]",G(z)).on(">",G(R)).on(")",G(Y)).on("&",G(N)).on([",",";","!",'"',"'"],G(v)),V.on("\n",G(_)).on(W,Z),Z.on(W,Z);for(var J=0;J<F.length;J++){var Q=h(F[J],V,P,d);$.push.apply($,Q)}var tt=h("file",V,d,d),et=h("ftp",V,d,d),it=h("http",V,d,d),nt=h("mailto",V,d,d);$.push.apply($,tt),$.push.apply($,et),$.push.apply($,it),$.push.apply($,nt);var rt=tt.pop(),st=et.pop(),ot=it.pop(),at=nt.pop(),lt=G(d),ct=G(S),ht=G(T);st.on("s",lt).on(":",ct),ot.on("s",lt).on(":",ct),$.push(lt),rt.on(":",ct),lt.on(":",ct),at.on(":",ht);var ut=h("localhost",V,y,d);$.push.apply($,ut),V.on(H,q),q.on("-",K).on(H,q).on(X,U),U.on("-",K).on(X,U);for(var ft=0;ft<$.length;ft++)$[ft].on("-",K).on(X,U);K.on("-",K).on(H,U).on(X,U),V.defaultTransition=G(O);var dt=function(t){for(var e=t.replace(/[A-Z]/g,(function(t){return t.toLowerCase()})),i=t.length,n=[],r=0;r<i;){for(var s=V,o=null,a=0,l=null,c=-1;r<i&&(o=s.next(e[r]));)(s=o).accepts()?(c=0,l=s):c>=0&&c++,a++,r++;if(!(c<0)){r-=c,a-=c;var h=l.emit();n.push(new h(t.substr(r-a,a)))}}return n},pt=V,gt=Object.freeze({State:l,TOKENS:B,run:dt,start:pt});function mt(t){return t instanceof d||t instanceof P}var vt=function(t){t&&(this.v=t)};vt.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var yt=i(vt,(function(t){t&&(this.v=t)}),{type:"email",isLink:!0}),_t=i(vt,(function(t){t&&(this.v=t)}),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),bt=i(vt,(function(t){t&&(this.v=t)}),{type:"text"}),xt=i(vt,(function(t){t&&(this.v=t)}),{type:"nl"}),wt=i(vt,(function(t){t&&(this.v=t)}),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",e=!1,i=!1,n=this.v,r=[],s=0;n[s]instanceof S;)e=!0,r.push(n[s].toString().toLowerCase()),s++;for(;n[s]instanceof k;)i=!0,r.push(n[s].toString()),s++;for(;mt(n[s]);)r.push(n[s].toString().toLowerCase()),s++;for(;s<n.length;s++)r.push(n[s].toString());return r=r.join(""),e||i||(r=t+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof S}}),St=Object.freeze({Base:vt,MAILTOEMAIL:yt,EMAIL:_t,NL:xt,TEXT:bt,URL:wt}),Tt=function(t){return new c(t)},Ct=Tt(),kt=Tt(),Et=Tt(),Ot=Tt(),Pt=Tt(),Dt=Tt(),Mt=Tt(),At=Tt(wt),jt=Tt(),Lt=Tt(wt),It=Tt(wt),zt=Tt(),Rt=Tt(),Yt=Tt(),Nt=Tt(),Bt=Tt(),Ft=Tt(wt),Ht=Tt(wt),Xt=Tt(wt),Wt=Tt(wt),$t=Tt(),Gt=Tt(),Vt=Tt(),qt=Tt(),Ut=Tt(),Kt=Tt(),Zt=Tt(_t),Jt=Tt(),Qt=Tt(_t),te=Tt(yt),ee=Tt(),ie=Tt(),ne=Tt(),re=Tt(),se=Tt(xt);Ct.on(_,se).on(S,kt).on(T,Et).on(k,Ot),kt.on(k,Ot),Ot.on(k,Pt),Ct.on(P,Dt).on(d,Dt).on(y,At).on(b,Dt),Pt.on(P,It).on(d,It).on(b,It).on(y,It),Dt.on(m,Mt),Ut.on(m,Kt),Mt.on(P,At).on(d,Dt).on(b,Dt).on(y,Dt),Kt.on(P,Zt).on(d,Ut).on(b,Ut).on(y,Ut),At.on(m,Mt),Zt.on(m,Kt),At.on(g,jt).on(k,It),jt.on(b,Lt),Lt.on(k,It),Zt.on(g,Jt),Jt.on(b,Qt);var oe=[d,p,y,b,x,w,S,k,P,E,O,N],ae=[g,m,C,v,I,z,R,Y,M,A,j,L];It.on(M,Rt).on(A,Yt).on(j,Nt).on(L,Bt),zt.on(M,Rt).on(A,Yt).on(j,Nt).on(L,Bt),Rt.on(I,It),Yt.on(z,It),Nt.on(R,It),Bt.on(Y,It),Ft.on(I,It),Ht.on(z,It),Xt.on(R,It),Wt.on(Y,It),$t.on(I,It),Gt.on(z,It),Vt.on(R,It),qt.on(Y,It),Rt.on(oe,Ft),Yt.on(oe,Ht),Nt.on(oe,Xt),Bt.on(oe,Wt),Rt.on(ae,$t),Yt.on(ae,Gt),Nt.on(ae,Vt),Bt.on(ae,qt),Ft.on(oe,Ft),Ht.on(oe,Ht),Xt.on(oe,Xt),Wt.on(oe,Wt),Ft.on(ae,Ft),Ht.on(ae,Ht),Xt.on(ae,Xt),Wt.on(ae,Wt),$t.on(oe,Ft),Gt.on(oe,Ht),Vt.on(oe,Xt),qt.on(oe,Wt),$t.on(ae,$t),Gt.on(ae,Gt),Vt.on(ae,Vt),qt.on(ae,qt),It.on(oe,It),zt.on(oe,It),It.on(ae,zt),zt.on(ae,zt),Et.on(P,te).on(d,te).on(b,te).on(y,te),te.on(oe,te).on(ae,ee),ee.on(oe,te).on(ae,ee);var le=[d,b,x,w,C,E,O,N,P];Dt.on(le,ie).on(p,ne),At.on(le,ie).on(p,ne),Mt.on(le,ie),ie.on(le,ie).on(p,ne).on(m,re),re.on(le,ie),ne.on(P,Ut).on(d,Ut).on(y,Zt);var ce=function(t){for(var e=t.length,i=0,n=[],r=[];i<e;){for(var s=Ct,o=null,a=null,l=0,c=null,h=-1;i<e&&!(o=s.next(t[i]));)r.push(t[i++]);for(;i<e&&(a=o||s.next(t[i]));)o=null,(s=a).accepts()?(h=0,c=s):h>=0&&h++,i++,l++;if(h<0)for(var u=i-l;u<i;u++)r.push(t[u]);else{r.length>0&&(n.push(new bt(r)),r=[]),i-=h,l-=h;var f=c.emit();n.push(new f(t.slice(i-l,i)))}}return r.length>0&&n.push(new bt(r)),n},he=Object.freeze({State:c,TOKENS:St,run:ce,start:Ct});Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var ue=function(t){return ce(dt(t))};e.find=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=ue(t),n=[],r=0;r<i.length;r++){var s=i[r];!s.isLink||e&&s.type!==e||n.push(s.toObject())}return n},e.inherits=i,e.options=o,e.parser=he,e.scanner=gt,e.test=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=ue(t);return 1===i.length&&i[0].isLink&&(!e||i[0].type===e)},e.tokenize=ue}(self.linkify=self.linkify||{})}(),function(t,e){var i=function(t){"use strict";var e=t.tokenize,i=t.options.Options;function n(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(t){return t.replace(/"/g,"&quot;")}function s(t){if(!t)return"";var e=[];for(var i in t){var n=t[i]+"";e.push(i+'="'+r(n)+'"')}return e.join(" ")}function o(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=new i(o);for(var a=e(t),l=[],c=0;c<a.length;c++){var h=a[c];if("nl"===h.type&&o.nl2br)l.push("<br>\n");else if(h.isLink&&o.check(h)){var u=o.resolve(h),f=u.formatted,d=u.formattedHref,p=u.tagName,g=u.className,m=u.target,v=u.attributes,y="<"+p+' href="'+r(d)+'"';g&&(y+=' class="'+r(g)+'"'),m&&(y+=' target="'+r(m)+'"'),v&&(y+=" "+s(v)),y+=">"+n(f)+"</"+p+">",l.push(y)}else l.push(n(h.toString()))}return l.join("")}if(!String.prototype.linkify)try{Object.defineProperty(String.prototype,"linkify",{set:function(){},get:function(){return function(t){return o(this,t)}}})}catch(t){String.prototype.linkify||(String.prototype.linkify=function(t){return o(this,t)})}return o}(e);t.linkifyStr=i}(window,linkify),
/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */
function(t,e,i){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},r=function(){var n={},r=e.createElement("div").style,s=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in r)return t[e].substr(0,t[e].length-1);return!1}();function o(t){return!1!==s&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},n.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},n.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},n.momentum=function(t,e,n,r,s,o){var a,l,c=t-e,h=i.abs(c)/n;return l=h/(o=void 0===o?6e-4:o),(a=t+h*h/(2*o)*(c<0?-1:1))<r?(a=s?r-s/2.5*(h/8):r,l=(c=i.abs(a-t))/h):a>0&&(a=s?s/2.5*(h/8):0,l=(c=i.abs(t)+a)/h),{destination:i.round(a),duration:l}};var a=o("transform");return n.extend(n,{hasTransform:!1!==a,hasPerspective:o("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:o("transition")in r}),n.isBadAndroid=function(){var e=t.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var i=e.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&i.length>=2)||parseFloat(i[1])<535.19}return!1}(),n.extend(n.style={},{transform:a,transitionTimingFunction:o("transitionTimingFunction"),transitionDuration:o("transitionDuration"),transitionDelay:o("transitionDelay"),transformOrigin:o("transformOrigin"),touchAction:o("touchAction")}),n.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*i.pow(2,-10*t)*i.sin((t-.055)*(2*i.PI)/.22)+1}}}),n.tap=function(t,i){var n=e.createEvent("Event");n.initEvent(i,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},n.click=function(i){var n,r=i.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||((n=e.createEvent(t.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),n.view=i.view||t,n.detail=1,n.screenX=r.screenX||0,n.screenY=r.screenY||0,n.clientX=r.clientX||0,n.clientY=r.clientY||0,n.ctrlKey=!!i.ctrlKey,n.altKey=!!i.altKey,n.shiftKey=!!i.shiftKey,n.metaKey=!!i.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,r.dispatchEvent(n))},n.getTouchAction=function(t,e){var i="none";return"vertical"===t?i="pan-y":"horizontal"===t&&(i="pan-x"),e&&"none"!=i&&(i+=" pinch-zoom"),i},n.getRect=function(t){if(t instanceof SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}},n}();function s(i,n){for(var s in this.wrapper="string"==typeof i?e.querySelector(i):i,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!r.hasPointer,disableTouch:r.hasPointer||!r.hasTouch,disableMouse:r.hasPointer||r.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===t.onmousedown},n)this.options[s]=n[s];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,n){var r=e.createElement("div"),s=e.createElement("div");return!0===n&&(r.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(!0===n&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(!0===n&&(r.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),r.className="iScrollVerticalScrollbar"),r.style.cssText+=";overflow:hidden",i||(r.style.pointerEvents="none"),r.appendChild(s),r}function a(i,s){for(var o in this.wrapper="string"==typeof s.el?e.querySelector(s.el):s.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},s)this.options[o]=s[o];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(t,"touchend",this)),this.options.disablePointer||(r.addEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.addEvent(t,r.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[r.style.transform]=this.scroller.translateZ;var a=r.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=r.isBadAndroid?"0.0001ms":"0ms";var l=this;r.isBadAndroid&&n((function(){"0.0001ms"===l.wrapperStyle[a]&&(l.wrapperStyle[a]="0s")})),this.wrapperStyle.opacity="0"}}s.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=r.eventType[t.type]&&0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return;if(this.enabled&&(!this.initiated||r.eventType[t.type]===this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=r.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,s,o,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,c=a.pageY-this.pointY,h=r.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=c,s=i.abs(this.distX),o=i.abs(this.distY),!(h-this.endTime>300&&s<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(s>o+this.options.directionLockThreshold?this.directionLocked="h":o>=s+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,n=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+c/3:n>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var e,n,s=r.getTime()-this.startTime,o=i.round(this.x),a=i.round(this.y),l=i.abs(o-this.startX),c=i.abs(a-this.startY),h=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,a),!this.moved)return this.options.tap&&r.tap(t,this.options.tap),this.options.click&&r.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&s<200&&l<100&&c<100)this._execEvent("flick");else{if(this.options.momentum&&s<300&&(e=this.hasHorizontalScroll?r.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?r.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},o=e.destination,a=n.destination,h=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(o,a);this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-f.x),1e3),i.min(i.abs(a-f.y),1e3)),300),o=f.x,a=f.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(o!=this.x||a!=this.y)return(o>0||o<this.maxScrollX||a>0||a<this.maxScrollY)&&(u=r.ease.quadratic),void this.scrollTo(o,a,h,u);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){t.refresh()}),this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){r.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var t=r.getRect(this.scroller);this.scrollerWidth=t.width,this.scrollerHeight=t.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,r.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[r.style.touchAction]=r.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[r.style.touchAction]||(this.wrapper.style[r.style.touchAction]=r.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||r.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var s=this.options.useTransition&&n.style;!i||s?(s&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,s,o){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t))){var a=r.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top;var l=r.getRect(t),c=r.getRect(this.wrapper);!0===n&&(n=i.round(l.width/2-c.width/2)),!0===s&&(s=i.round(l.height/2-c.height/2)),a.left-=n||0,a.top-=s||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=null==e||"auto"===e?i.max(i.abs(this.x-a.left),i.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,o)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=r.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&r.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;n((function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")}))}if(this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[r.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var i=e?r.removeEvent:r.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,r.prefixPointerEvent("pointerdown"),this),i(n,r.prefixPointerEvent("pointermove"),this),i(n,r.prefixPointerEvent("pointercancel"),this),i(n,r.prefixPointerEvent("pointerup"),this)),r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(e=+((n=n[r.style.transform].split(")")[0].split(", "))[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,n=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:o("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:o("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var s=n.length;s--;)this.indicators.push(new a(this,n[s]));function l(t){if(r.indicators)for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){l((function(){this.fade()}))})),this.on("scrollCancel",(function(){l((function(){this.fade()}))})),this.on("scrollStart",(function(){l((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){l((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){l((function(){this.refresh()}))})),this.on("destroy",(function(){l((function(){this.destroy()})),delete this.indicators}))},_initWheel:function(){r.addEvent(this.wrapper,"wheel",this),r.addEvent(this.wrapper,"mousewheel",this),r.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,r.removeEvent(this.wrapper,"wheel",this),r.removeEvent(this.wrapper,"mousewheel",this),r.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},_wheel:function(t){if(this.enabled){t.stopPropagation(),t.preventDefault();var e,n,r,s,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0}),400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return r=this.currentPage.pageX,s=this.currentPage.pageY,e>0?r--:e<0&&r++,n>0?s--:n<0&&s++,void this.goToPage(r,s);r=this.x+i.round(this.hasHorizontalScroll?e:0),s=this.y+i.round(this.hasVerticalScroll?n:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=n>0?-1:n<0?1:0,r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(r,s,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){var t,e,n,s,o,a,l,c=0,h=0,u=0,f=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=i.round(f/2),s=i.round(d/2);u>-this.scrollerWidth;){for(this.pages[c]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[c][t]={x:i.max(u,this.maxScrollX),y:i.max(o,this.maxScrollY),width:f,height:d,cx:u-n,cy:o-s},o-=d,t++;u-=f,c++}else for(t=(a=this.options.snap).length,e=-1;c<t;c++)l=r.getRect(a[c]),(0===c||l.left<=r.getRect(a[c-1]).left)&&(h=0,e++),this.pages[h]||(this.pages[h]=[]),u=i.max(-l.left,this.maxScrollX),o=i.max(-l.top,this.maxScrollY),n=u-i.round(l.width/2),s=o-i.round(l.height/2),this.pages[h][e]={x:u,y:o,width:l.width,height:l.height,cx:n,cy:s},u>this.maxScrollX&&h++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})),this.on("flick",(function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)}))},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,r=this.pages.length,s=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<r;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(r=this.pages[n].length;s<r;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),s==this.currentPage.pageY&&((s+=this.directionY)<0?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:n,pageY:s}},goToPage:function(t,e,n,r){r=r||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var s=this.pages[t][e].x,o=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-this.x),1e3),i.min(i.abs(o-this.y),1e3)),300):n,this.currentPage={x:s,y:o,pageX:t,pageY:e},this.scrollTo(s,o,n,r)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(e){var i,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in n)this.options.keyBindings[i]=this.options.keyBindings[i]||n[i];r.addEvent(t,"keydown",this),this.on("destroy",(function(){r.removeEvent(t,"keydown",this)}))},_key:function(t){if(this.enabled){var e,n=this.options.snap,s=n?this.currentPage.pageX:this.x,o=n?this.currentPage.pageY:this.y,a=r.getTime(),l=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-l<200?i.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?s+=n?1:this.wrapperWidth:o+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?s-=n?1:this.wrapperWidth:o-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:s=n?this.pages.length-1:this.maxScrollX,o=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:s=0,o=0;break;case this.options.keyBindings.left:s+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(s,o):(s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollX&&(s=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(s,o,0),this.keyTime=a)}},_animate:function(t,e,i,s){var o=this,a=this.x,l=this.y,c=r.getTime(),h=c+i;this.isAnimating=!0,function u(){var f,d,p,g=r.getTime();if(g>=h)return o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));p=s(g=(g-c)/i),f=(t-a)*p+a,d=(e-l)*p+l,o._translate(f,d),o.isAnimating&&n(u)}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},a.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(t,"touchmove",this),r.removeEvent(t,r.prefixPointerEvent("pointermove"),this),r.removeEvent(t,"mousemove",this),r.removeEvent(t,"touchend",this),r.removeEvent(t,r.prefixPointerEvent("pointerup"),this),r.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=r.getTime(),this.options.disableTouch||r.addEvent(t,"touchmove",this),this.options.disablePointer||r.addEvent(t,r.prefixPointerEvent("pointermove"),this),this.options.disableMouse||r.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,s,o=t.touches?t.touches[0]:t;r.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,i=o.pageY-this.lastPointY,this.lastPointY=o.pageY,n=this.x+e,s=this.y+i,this._pos(n,s),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),r.removeEvent(t,"touchmove",this),r.removeEvent(t,r.prefixPointerEvent("pointermove"),this),r.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),s=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,s,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=r.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&r.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;n((function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")}))}},transitionTimingFunction:function(t){this.indicatorStyle[r.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),r.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[r.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},s.utils=r,"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define((function(){return s})):t.IScroll=s}(window,document,Math),
/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Blazy=e()}(this,(function(){function t(t){var i=t._util;i.elements=function(t){for(var e=[],i=(t=t.root.querySelectorAll(t.selector)).length;i--;e.unshift(t[i]));return e}(t.options),i.count=i.elements.length,i.destroyed&&(i.destroyed=!1,t.options.container&&u(t.options.container,(function(t){c(t,"scroll",i.validateT)})),c(window,"resize",i.saveViewportOffsetT),c(window,"resize",i.validateT),c(window,"scroll",i.validateT)),e(t)}function e(t){for(var e=t._util,n=0;n<e.count;n++){var r,s=e.elements[n],a=s;r=t.options;var l=a.getBoundingClientRect();r.container&&m&&(a=a.closest(r.containerClass))?r=!!i(a=a.getBoundingClientRect(),p)&&i(l,{top:a.top-r.offset,right:a.right+r.offset,bottom:a.bottom+r.offset,left:a.left-r.offset}):r=i(l,p),(r||o(s,t.options.successClass))&&(t.load(s),e.elements.splice(n,1),e.count--,n--)}0===e.count&&t.destroy()}function i(t,e){return t.right>=e.left&&t.bottom>=e.top&&t.left<=e.right&&t.top<=e.bottom}function n(t,e,i){if(!o(t,i.successClass)&&(e||i.loadInvisible||0<t.offsetWidth&&0<t.offsetHeight))if(e=t.getAttribute(d)||t.getAttribute(i.src)){var n=(e=e.split(i.separator))[g&&1<e.length?1:0],l=t.getAttribute(i.srcset),f="img"===t.nodeName.toLowerCase(),p=(e=t.parentNode)&&"picture"===e.nodeName.toLowerCase();if(f||void 0===t.src){var m=new Image,v=function(){i.error&&i.error(t,"invalid"),a(t,i.errorClass),h(m,"error",v),h(m,"load",y)},y=function(){f?p||s(t,n,l):t.style.backgroundImage='url("'+n+'")',r(t,i),h(m,"load",y),h(m,"error",v)};p&&(m=t,u(e.getElementsByTagName("source"),(function(t){var e=i.srcset,n=t.getAttribute(e);n&&(t.setAttribute("srcset",n),t.removeAttribute(e))}))),c(m,"error",v),c(m,"load",y),s(m,n,l)}else t.src=n,r(t,i)}else"video"===t.nodeName.toLowerCase()?(u(t.getElementsByTagName("source"),(function(t){var e=i.src,n=t.getAttribute(e);n&&(t.setAttribute("src",n),t.removeAttribute(e))})),t.load(),r(t,i)):(i.error&&i.error(t,"missing"),a(t,i.errorClass))}function r(t,e){a(t,e.successClass),e.success&&e.success(t),t.removeAttribute(e.src),t.removeAttribute(e.srcset),u(e.breakpoints,(function(e){t.removeAttribute(e.src)}))}function s(t,e,i){i&&t.setAttribute("srcset",i),t.src=e}function o(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function a(t,e){o(t,e)||(t.className+=" "+e)}function l(t){p.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,p.right=(window.innerWidth||document.documentElement.clientWidth)+t}function c(t,e,i){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,i):t.addEventListener(e,i,{capture:!1,passive:!0})}function h(t,e,i){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,i):t.removeEventListener(e,i,{capture:!1,passive:!0})}function u(t,e){if(t&&e)for(var i=t.length,n=0;n<i&&!1!==e(t[n],n);n++);}function f(t,e,i){var n=0;return function(){var r=+new Date;r-n<e||(n=r,t.apply(i,arguments))}}var d,p,g,m;return function(i){if(!document.querySelectorAll){var r=document.createStyleSheet();document.querySelectorAll=function(t,e,i,n,s){for(s=document.all,e=[],i=(t=t.replace(/\[for\b/gi,"[htmlFor").split(",")).length;i--;){for(r.addRule(t[i],"k:v"),n=s.length;n--;)s[n].currentStyle.k&&e.push(s[n]);r.removeRule(0)}return e}}var s=this,o=s._util={};o.elements=[],o.destroyed=!0,s.options=i||{},s.options.error=s.options.error||!1,s.options.offset=s.options.offset||100,s.options.root=s.options.root||document,s.options.success=s.options.success||!1,s.options.selector=s.options.selector||".b-lazy",s.options.separator=s.options.separator||"|",s.options.containerClass=s.options.container,s.options.container=!!s.options.containerClass&&document.querySelectorAll(s.options.containerClass),s.options.errorClass=s.options.errorClass||"b-error",s.options.breakpoints=s.options.breakpoints||!1,s.options.loadInvisible=s.options.loadInvisible||!1,s.options.successClass=s.options.successClass||"b-loaded",s.options.validateDelay=s.options.validateDelay||25,s.options.saveViewportOffsetDelay=s.options.saveViewportOffsetDelay||50,s.options.srcset=s.options.srcset||"data-srcset",s.options.src=d=s.options.src||"data-src",m=Element.prototype.closest,g=1<window.devicePixelRatio,(p={}).top=0-s.options.offset,p.left=0-s.options.offset,s.revalidate=function(){t(s)},s.load=function(t,e){var i=this.options;void 0===t.length?n(t,e,i):u(t,(function(t){n(t,e,i)}))},s.destroy=function(){var t=this._util;this.options.container&&u(this.options.container,(function(e){h(e,"scroll",t.validateT)})),h(window,"scroll",t.validateT),h(window,"resize",t.validateT),h(window,"resize",t.saveViewportOffsetT),t.count=0,t.elements.length=0,t.destroyed=!0},o.validateT=f((function(){e(s)}),s.options.validateDelay,s),o.saveViewportOffsetT=f((function(){l(s.options.offset)}),s.options.saveViewportOffsetDelay,s),l(s.options.offset),u(s.options.breakpoints,(function(t){if(t.width>=window.screen.width)return d=t.src,!1})),setTimeout((function(){t(s)}))}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.StickySidebar={})}(this,(function(t){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,i=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i,n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=(i=".stickySidebar",n={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1},function(){function t(i){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,t),this.options=t.extend(n,s),this.sidebar="string"==typeof i?document.querySelector(i):i,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this.dimensions={translateY:0,maxTranslateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach((function(t){r[t]=r[t].bind(r)})),this.initialize()}return r(t,[{key:"initialize",value:function(){var t=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var e=document.createElement("div");for(e.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(e);this.sidebar.firstChild!=e;)e.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var i=document.querySelectorAll(this.options.containerSelector);if((i=Array.prototype.slice.call(i)).forEach((function(e,i){e.contains(t.sidebar)&&(t.container=e)})),!i.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+i,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(t){this.updateSticky(t)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var e=this.dimensions;e.containerTop=t.offsetRelative(this.container).top,e.containerHeight=this.container.clientHeight,e.containerBottom=e.containerTop+e.containerHeight,e.sidebarHeight=this.sidebarInner.offsetHeight,e.sidebarWidth=this.sidebarInner.offsetWidth,e.viewportHeight=window.innerHeight,e.maxTranslateY=e.containerHeight-e.sidebarHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var e=this.dimensions;e.sidebarLeft=t.offsetRelative(this.sidebar).left,e.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,e.viewportBottom=e.viewportTop+e.viewportHeight,e.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,e.topSpacing=this.options.topSpacing,e.bottomSpacing=this.options.bottomSpacing,"function"==typeof e.topSpacing&&(e.topSpacing=parseInt(e.topSpacing(this.sidebar))||0),"function"==typeof e.bottomSpacing&&(e.bottomSpacing=parseInt(e.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?e.topSpacing<e.lastTopSpacing&&(e.translateY+=e.lastTopSpacing-e.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&e.bottomSpacing<e.lastBottomSpacing&&(e.translateY+=e.lastBottomSpacing-e.bottomSpacing,this._reStyle=!0),e.lastTopSpacing=e.topSpacing,e.lastBottomSpacing=e.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){var t=this.dimensions,e="down"===this.scrollDirection?t.lastBottomSpacing:t.lastTopSpacing;return this.dimensions.sidebarHeight+e<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){this._calcDimensionsWithScroll();var t=this.dimensions,e=t.viewportTop+t.topSpacing,i=this.affixedType;return e<=t.containerTop||t.containerHeight<=t.sidebarHeight?(t.translateY=0,i="STATIC"):i="up"===this.direction?this._getAffixTypeScrollingUp():this._getAffixTypeScrollingDown(),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.translateY=Math.round(t.translateY),t.lastViewportTop=t.viewportTop,i}},{key:"_getAffixTypeScrollingDown",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,r=this.affixedType;return this.isSidebarFitsViewport()?t.sidebarHeight+i>=t.containerBottom?(t.translateY=t.containerBottom-e,r="CONTAINER-BOTTOM"):i>=t.containerTop&&(t.translateY=i-t.containerTop,r="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,r="CONTAINER-BOTTOM"):e+t.translateY<=n?(t.translateY=n-e,r="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(r="VIEWPORT-UNBOTTOM"),r}},{key:"_getAffixTypeScrollingUp",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,r=this.affixedType;return i<=t.translateY+t.containerTop?(t.translateY=i-t.containerTop,r="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,r="CONTAINER-BOTTOM"):this.isSidebarFitsViewport()||t.containerTop<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(r="VIEWPORT-UNBOTTOM"),r}},{key:"_getStyle",value:function(e){if(void 0!==e){var i={inner:{},outer:{}},n=this.dimensions;switch(e){case"VIEWPORT-TOP":i.inner={position:"fixed",top:n.topSpacing,left:n.sidebarLeft-n.viewportLeft,width:n.sidebarWidth};break;case"VIEWPORT-BOTTOM":i.inner={position:"fixed",top:"auto",left:n.sidebarLeft,bottom:n.bottomSpacing,width:n.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var r=this._getTranslate(0,n.translateY+"px");i.inner=r?{transform:r}:{position:"absolute",top:n.translateY,width:n.sidebarWidth}}switch(e){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":i.outer={height:n.sidebarHeight,position:"relative"}}return i.outer=t.extend({height:"",position:""},i.outer),i.inner=t.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:""},i.inner),i}}},{key:"stickyPosition",value:function(e){if(!this._breakpoint){e=this._reStyle||e||!1,this.options.topSpacing,this.options.bottomSpacing;var n=this.getAffixType(),r=this._getStyle(n);if((this.affixedType!=n||e)&&n){var s="affix."+n.toLowerCase().replace("viewport-","")+i;for(var o in t.eventTrigger(this.sidebar,s),"STATIC"===n?t.removeClass(this.sidebar,this.options.stickyClass):t.addClass(this.sidebar,this.options.stickyClass),r.outer){var a="number"==typeof r.outer[o]?"px":"";this.sidebar.style[o]=r.outer[o]+a}for(var l in r.inner){var c="number"==typeof r.inner[l]?"px":"";this.sidebarInner.style[l]=r.inner[l]+c}var h="affixed."+n.toLowerCase().replace("viewport-","")+i;t.eventTrigger(this.sidebar,h)}else this._initialized&&(this.sidebarInner.style.left=r.inner.left);this.affixedType=n}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),t.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,t=i.type,requestAnimationFrame((function(){switch(t){case"scroll":e._calcDimensionsWithScroll(),e.observeScrollDir(),e.stickyPosition();break;case"resize":default:e._widthBreakpoint(),e.calcDimensions(),e.stickyPosition(!0)}e._running=!1})))}},{key:"_setSupportFeatures",value:function(){var e=this.support;e.transform=t.supportTransform(),e.transform3d=t.supportTransform(!0)}},{key:"_getTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+t+", "+e+", "+i+")":!!this.support.translate&&"translate("+t+", "+e+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{capture:!1}),window.removeEventListener("scroll",this,{capture:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+i,this);var t={inner:{},outer:{}};for(var e in t.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},t.outer={height:"",position:""},t.outer)this.sidebar.style[e]=t.outer[e];for(var n in t.inner)this.sidebarInner.style[n]=t.inner[n];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}],[{key:"supportTransform",value:function(t){var e=!1,i=t?"perspective":"transform",n=i.charAt(0).toUpperCase()+i.slice(1),r=document.createElement("support").style;return(i+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ").forEach((function(t,i){if(void 0!==r[t])return e=t,!1})),e}},{key:"eventTrigger",value:function(t,e,i){try{var n=new CustomEvent(e,{detail:i})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i)}t.dispatchEvent(n)}},{key:"extend",value:function(t,e){var i={};for(var n in t)void 0!==e[n]?i[n]=e[n]:i[n]=t[n];return i}},{key:"offsetRelative",value:function(t){var e={left:0,top:0};do{var i=t.offsetTop,n=t.offsetLeft;isNaN(i)||(e.top+=i),isNaN(n)||(e.left+=n),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}},{key:"addClass",value:function(e,i){t.hasClass(e,i)||(e.classList?e.classList.add(i):e.className+=" "+i)}},{key:"removeClass",value:function(e,i){t.hasClass(e,i)&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{key:"defaults",get:function(){return n}}]),t}());
/**
   * Sticky Sidebar JavaScript Plugin.
   * @version 3.3.4
   * @author Ahmed Bouhuolia <a.bouhuolia@gmail.com>
   * @license The MIT License (MIT)
   */t.default=s,window.StickySidebar=s})(e)})),n=(e=i)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;t.default=n,t.__moduleExports=i,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=libs-10bdd3ac.js.map