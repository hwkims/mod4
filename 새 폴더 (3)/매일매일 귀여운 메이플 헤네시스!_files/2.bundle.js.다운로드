(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{560:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=function(){return a.a.createElement("div",{className:"spinner_wrapper",style:{height:"calc(100vh - 70px)"}},a.a.createElement("div",{className:"area_spinner",style:{height:"calc(100vh - 520px)",marginBottom:"250px"}},a.a.createElement("div",{className:"inner_spinner"},a.a.createElement("div",{className:"spinner"},a.a.createElement("div",null,a.a.createElement("span",{className:"screen_out"},"로딩중입니다."))))))};t.a=a.a.memo(c)},561:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(559);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.src,r=e.className,o=e.alt,i=e.aspectRatio,s=void 0===i?"1 / 1":i,u=e.defaultImg,m=void 0===u?null:u,f=Object(n.useRef)(),d=l(Object(n.useState)(!1),2),b=d[0],y=d[1],p=m||c.o,E=Object(n.useCallback)((function(e){var t=l(e,1)[0].isIntersecting;!b&&t&&y(!0)}),[b]);return Object(n.useEffect)((function(){var e=new IntersectionObserver(E);return e.observe(f.current),function(){e.unobserve(f.current)}}),[t,E]),a.a.createElement("img",{src:b?t:p,className:r,alt:o,ref:f,style:{aspectRatio:s}})}},562:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(560);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.children,r=e.fetchItem,o=e.rootMargin,i=void 0===o?"0px 0px 33% 0px":o,s=e.root,u=void 0===s?null:s,m=e.isLoading,f=void 0!==m&&m,d=e.fallback,b=void 0===d?a.a.createElement(c.a,null):d,y=Object(n.useRef)();return Object(n.useEffect)((function(){var e=new IntersectionObserver((function(e){l(e,1)[0].isIntersecting&&r()}),{root:u,rootMargin:i});return e.observe(y.current),function(){return e.disconnect()}}),[r,i,t]),a.a.createElement(a.a.Fragment,null,t,a.a.createElement("div",{ref:y}),f&&b)}},564:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t={};return 0===e.length||e.substr(1).split("&").forEach((function(e){var r=n(e.split("="),2),a=r[0],c=r[1];a&&c&&(t[a]=decodeURIComponent(c))})),t}},579:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(116),l=r.n(c),o=r(80),i=r(559),s=r(184),u=r(182),m=r(15);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.actions,r=e.children,c=e.coupons,f=e.item,p=e.headerInfo,E=e.setVisible,v=e.selectedFriend,g=e.giftPayload,_=e.disabled,h=void 0!==_&&_,N=e.isPcTalkPurchase,S=c.activeCoupons.content,O=v?"선물하기":"구매하기",I=[{id:-1,ticketName:"쿠폰 선택 안함",saleFactor:1}].concat(y(S)),j=function(e){return 100-100*e.saleFactor},C=-1!==p.classString.indexOf(o.a.HEAD_BNR)?"-100px 0px 0px 0px":"-50px 0px 0px 0px",A=N?v?m.e.PCTALK_BEFORE_GIFT:m.e.PCTALK_BEFORE_PURCHASE:v?m.e.ITEM_BEFORE_GIFT:m.e.ITEM_BEFORE_PURCHASE,w=b(Object(n.useState)(!1),2),T=w[0],k=w[1],P=b(Object(n.useState)(!1),2),x=P[0],F=P[1],R=b(Object(n.useState)(0),2),L=R[0],M=R[1],U=b(Object(n.useState)(!1),2),H=U[0],B=U[1],D=Object(n.useRef)(),G=Object(n.useRef)(),K=Object(n.useCallback)((function(e){b(e,1)[0].isIntersecting?t.resetPurchaseLayerScroll():t.setPurchaseLayerScroll()}),[t]);return Object(n.useEffect)((function(){var e=function(e){x&&!G.current.contains(e.target)&&F(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[x]),Object(n.useEffect)((function(){return t.setHeaderClassString(o.a.HEAD_ORDER,!1),t.setHeaderPurchaseLayerTitle(O),t.resetCoupons(),B(!0),t.fetchCoupons(100),function(){t.unsetHeaderClassString(o.a.HEAD_ORDER),t.resetHeaderPurchaseLayerTitle()}}),[t,O]),Object(n.useEffect)((function(){var e=new IntersectionObserver(K,{rootMargin:C});return e.observe(D.current),function(){return e.disconnect()}}),[K,C]),Object(n.useEffect)((function(){0!==S.length&&H&&M(1)}),[S,H]),a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{className:"dim_layer",closeFunction:function(){return!N&&E(!1)},actions:t}),a.a.createElement("div",{className:"emoticon_layer order_layer"},a.a.createElement("div",{className:l()("inner_layer",d({},"gift_layer",v))},a.a.createElement("strong",{className:"screen_out"},"이모티콘 주문하기 입력폼"),a.a.createElement("div",{className:"layer_head"},a.a.createElement("strong",{className:"tit_layer"},O)),a.a.createElement("div",{className:"layer_body"},a.a.createElement("div",{className:"inner_body"},a.a.createElement("div",{ref:D}),r,a.a.createElement("div",{className:"box_order box_coupon"},a.a.createElement("strong",{className:"tit_order"},"할인쿠폰"),a.a.createElement("div",{className:"item_order"},a.a.createElement("select",{className:"sel_opt",value:L,onChange:function(e){M(e.target.value)}},I.map((function(e,t){return a.a.createElement("option",{value:t,key:e.id},e.ticketName," ",-1!==e.id&&"(".concat(j(e),"%)"))}))),a.a.createElement("div",{className:l()("opt_order",d({},"opt_open",x))},a.a.createElement("a",{className:"link_opt",onClick:function(e){e.preventDefault(),F(!0)}},a.a.createElement("span",{className:"txt_opt"},-1!==I[L].id&&a.a.createElement("span",{className:"opt_percent"},a.a.createElement("span",{className:"opt_num"},j(I[L])),"%"),I[L].ticketName,a.a.createElement("span",{className:"ico_comm ico_opt"},"펼치기"))),a.a.createElement("div",{className:"box_opt"},a.a.createElement("div",{className:"inner_opt",ref:G},a.a.createElement("span",{className:"screen_out"},"선택상자"),a.a.createElement("ul",{className:"list_opt"},I.map((function(e,t){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{className:"link_opt",onClick:function(e){e.preventDefault(),M(t),F(!1)}},e.ticketName," ",-1!==e.id&&"(".concat(j(e),"%)")))}))))))),a.a.createElement("strong",{className:"tit_order"},"결제금액"),a.a.createElement("div",{className:"item_price"},a.a.createElement("strong",{className:"tit_price"},"판매금액"),a.a.createElement("span",{className:"txt_price"},f.price.toLocaleString(),a.a.createElement("span",{className:"txt_unit"},"원"))),a.a.createElement("div",{className:"item_price"},a.a.createElement("strong",{className:"tit_price"},"할인금액"),a.a.createElement("span",{className:"txt_price"},"- ",(f.price-f.price*I[L].saleFactor).toLocaleString(),a.a.createElement("span",{className:"txt_unit"},"원"))),a.a.createElement("div",{className:"item_price item_result"},a.a.createElement("strong",{className:"tit_price"},"최종 결제금액"),a.a.createElement("span",{className:"txt_price"},(f.price*I[L].saleFactor).toLocaleString(),a.a.createElement("span",{className:"txt_unit"},"원")))),a.a.createElement("div",{className:"box_order box_agree"},a.a.createElement("div",{className:"item_order"},a.a.createElement("strong",{className:"screen_out"},"결제동의"),a.a.createElement("div",{className:"item_agree"},a.a.createElement("div",{className:"inp_agree"},a.a.createElement("div",{className:"chk_agree"},a.a.createElement("input",{type:"checkbox",id:"inpAgree",name:"agree",className:"inp_check",checked:T,onChange:function(){u.a.trackEvent({section:N&&m.f.PCTALK,pageName:A,actionName:v?m.b.CLICK_PURCHASE_GIFT_AGREEMENT:m.b.CLICK_PURCHASE_ITEM_AGREEMENT,clickInfo:{layer1:m.d.AGREEMENT}}),k(!T)}}),a.a.createElement("label",{htmlFor:"inpAgree",className:"lab_agree"},a.a.createElement("span",{className:"ico_comm ico_orderagree"}),"아래 내용에 동의합니다.")),a.a.createElement("ul",{className:"info_agree"},a.a.createElement("li",null,"쿠폰은 중복사용 불가하며, 일부 결제수단은 할인쿠폰 적용이 불가합니다."),a.a.createElement("li",null,"주문취소 및 환불 시 이미 사용한 쿠폰은 재발급되지 않습니다.")))))))),a.a.createElement("div",{className:"layer_foot"},a.a.createElement("div",{className:"wrap_btn"},a.a.createElement("button",{className:"btn_g",disabled:!T||h,onClick:function(){u.a.trackEvent({section:N&&m.f.PCTALK,pageName:A,actionKind:m.a.BEGIN_CHECKOUT,actionName:v?m.b.CLICK_PURCHASE_GIFT_PURCHASE_BUTTON:m.b.CLICK_PURCHASE_ITEM_PURCHASE_BUTTON,clickInfo:{layer1:v?m.d.SEND_BTN:m.d.BUY_BTN},customProps:v?{message_length:g.msg.length,ordnum:g.emotIdx,bg_color:g.colorSet.cardBgColor,sale_percent:j(I[L])}:{sale_percent:j(I[L])}}),k(!1);var e=-1!==I[L].id?I[L].id:null;v?t.initPay(f.titleUrl,e,JSON.stringify(g),v.id,N):t.initPay(f.titleUrl,e,null,null,N)}},v&&a.a.createElement("span",{className:"wrap_thumb"},a.a.createElement("span",{className:"inner_thumb"},a.a.createElement("img",{className:"thumb_user",src:v.profileImgUrl||i.a,alt:"사용자"}))),O))),a.a.createElement("button",{type:"button",className:"btn_close",onClick:function(){!N&&E(!1)}},a.a.createElement("span",{className:"ico_comm ico_orderclose"},"닫기")))))}},587:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(116),l=r.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.keyword,r=e.setKeyword,c=s(Object(n.useState)(t),2),o=c[0],u=c[1];return Object(n.useEffect)((function(){u(t)}),[t]),a.a.createElement("div",{className:"search_gift"},a.a.createElement("div",{className:"friend_search"},a.a.createElement("strong",{className:"screen_out"},"친구 검색"),a.a.createElement("div",{className:l()("box_tf",i({},"box_on",t))},a.a.createElement("label",{htmlFor:"schGift",className:"screen_out"},"이모티콘을 선물할 친구를 검색해보세요!"),a.a.createElement("input",{tabIndex:-1,type:"text",name:"schGift",id:"schGift",className:"tf_g",placeholder:"이모티콘을 선물할 친구를 검색해보세요!",onChange:function(e){u(e.target.value)},onKeyDown:function(e){e.stopPropagation(),"Enter"!==e.key&&"Return"!==e.key||r(o)},value:o}),a.a.createElement("button",{type:"button",className:"btn_remove",onClick:function(){r("")}},a.a.createElement("span",{className:"ico_comm ico_remove"},"지우기")),a.a.createElement("button",{type:"submit",className:"btn_search",onClick:function(){r(o)}},a.a.createElement("span",{className:"ico_comm ico_giftsearch"},"검색")))))}},588:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(559);t.a=function(e){var t=e.selectedFriend,r=e.callback,n=t.profileImgUrl||c.a;return a.a.createElement("div",{className:"wrap_btn"},a.a.createElement("button",{className:"btn_g",disabled:!t.id,onClick:function(){r&&r(t)}},a.a.createElement("span",{className:"wrap_thumb"},a.a.createElement("span",{className:"inner_thumb"},a.a.createElement("img",{className:"thumb_user",src:n,alt:"사용자"}))),"선물하기"))}},595:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(116),l=r.n(c),o=r(559),i=r(561),s=function(e){var t=e.friend,r=e.selectedFriend,n=e.setSelectedFriend,c=e.name,l=void 0===c?"inpResult":c,s=t.displayName,u=t.id,m=t.profileImgUrl||o.a;return a.a.createElement("li",null,a.a.createElement("input",{type:"radio",name:l,id:u,className:"inp_g",value:u,onChange:function(){n(t)},checked:r.id===u}),a.a.createElement("label",{htmlFor:u,className:"lab_g"},a.a.createElement("span",{className:"ico_comm ico_radio"}),a.a.createElement("span",{className:"wrap_thumb"},a.a.createElement("span",{className:"inner_thumb"},a.a.createElement(i.a,{src:m,className:"thumb_user",alt:"사용자"}))),a.a.createElement("span",{className:"txt_name"},s)))},u=r(560),m=r(562),f=r(566);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.friends,r=e.selectedFriend,c=e.setSelectedFriend,i=e.keyword,d=e.refreshCallback,p=e.setIsEmpty,E=e.actions,v=e.isLoggedIn,g=e.innerBody,_=void 0===g?null:g,h=t.result||{},N=h.content,S=void 0===N?[]:N,O=h.favList,I=void 0===O?[]:O,j=h.last,C=y(Object(n.useState)(window.innerWidth<=f.a.MOBILE_WIDTH),2),A=C[0],w=C[1],T=t.loading,k=0===I.length&&0===S.length;Object(n.useEffect)((function(){p&&p(k)}),[S,p]),Object(n.useEffect)((function(){var e=function(){w(window.innerWidth<=f.a.MOBILE_WIDTH)};return _&&_.current&&window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[_&&_.current]);var P=Object(n.useCallback)((function(){j||k||E.fetchFriends({query:i,isAppend:!0})}),[E,j,i,S]);return a.a.createElement("div",{className:l()("wrap_friend",b(b({},"friend_on",r.id),"wrap_empty",k))},a.a.createElement("h2",{id:"kakaoBody",className:"screen_out"},"카카오톡으로 친구에게 선물하기"),T&&v&&a.a.createElement(u.a,null),!T&&a.a.createElement("div",{className:"search_friend"},a.a.createElement("strong",{className:"screen_out"},"친구목록"),a.a.createElement(m.a,{fetchItem:P,root:!_||A?null:_.current,rootMargin:"0px 0px 1080px 0px"},I.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{className:"tit_friend"},"즐겨찾기"),a.a.createElement("ul",{className:"list_friend"},I.map((function(e){return a.a.createElement(s,{friend:e,selectedFriend:r,setSelectedFriend:c,name:"inpFav",key:e.id})})))),S.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{className:"tit_friend"},"친구"),a.a.createElement("ul",{className:"list_friend"},S.map((function(e){return a.a.createElement(s,{friend:e,selectedFriend:r,setSelectedFriend:c,key:e.id})}))))),!T&&k&&v&&a.a.createElement("div",{className:"area_empty"},a.a.createElement("div",{className:"inner_area"},a.a.createElement("img",{className:"img_empty",src:o.j,alt:"검색결과가 없습니다."}),a.a.createElement("strong",{className:"tit_empty"},i?"검색 결과가 없습니다.":"선물할 친구가 없습니다."),a.a.createElement("p",{className:"desc_empty"},"최근에 추가한 친구가 리스트에 없다면",a.a.createElement("br",null),"새로고침 해보세요!"),a.a.createElement("button",{type:"button",className:"btn_refresh",onClick:function(){d()}},"새로고침")))))}},599:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(80),l=r(587),o=r(595),i=r(588),s=r(116),u=r.n(s),m=r(184),f=r(564),d=r(182),b=r(15),y=r(566);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.actions,r=e.setVisible,s=e.friends,p=e.setFriend,g=e.setPurchaseGiftLayerVisible,_=e.headerInfo,h=e.isPcTalkPurchase,N=e.isLoggedIn,S=v(Object(n.useState)({}),2),O=S[0],I=S[1],j=v(Object(n.useState)(!1),2),C=j[0],A=j[1],w=Object(n.useRef)(),T=Object(n.useRef)(),k=-1!==_.classString.indexOf(c.a.HEAD_BNR)?"-100px 0px 0px 0px":"-50px 0px 0px 0px",P=h?b.e.PCTALK_SELECT_FRIEND:b.e.ITEM_SELECT_FRIEND,x=Object(n.useCallback)((function(e){v(e,1)[0].isIntersecting?t.unsetHeaderClassString(c.a.SCROLL_LAYER):t.setHeaderClassString(c.a.SCROLL_LAYER,!1)}),[t]),F=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.fetchFriends({query:e,isInit:!0})}),[t]);return Object(n.useEffect)((function(){var e=Object(f.a)(location.search).referer,t=h&&{referer:e};d.a.trackPage({section:h&&b.f.PCTALK,pageName:P,actionName:b.b.PAGE_VIEW_ITEM_GIFT_SELECT_FRIEND,customProps:t})}),[h,P]),Object(n.useEffect)((function(){return t.setHeaderClassString(c.a.HEAD_ORDER,!1),t.setFooterClassString(c.a.FOOTER_SET_BOTTOM,!1),t.setHeaderPurchaseLayerTitle("선물하기"),function(){t.unsetHeaderClassString(c.a.HEAD_ORDER),t.unsetFooterClassString(c.a.FOOTER_SET_BOTTOM),t.resetHeaderPurchaseLayerTitle(),t.resetFriends()}}),[t]),Object(n.useEffect)((function(){var e=new IntersectionObserver(x,{rootMargin:k});return e.observe(w.current),function(){return e.disconnect()}}),[x,k]),Object(n.useEffect)((function(){F()}),[]),Object(n.useEffect)((function(){window.innerWidth>y.a.MOBILE_WIDTH?T.current.scrollTop=0:window.scrollTo(0,0)}),[s.query]),a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{className:"dim_layer",closeFunction:function(){return!h&&r(!1)},actions:t}),a.a.createElement("div",{className:u()("emoticon_layer friend_layer",E({},"completed_layer",C))},a.a.createElement("div",{className:"inner_layer"},a.a.createElement("strong",{className:"screen_out"},"이모티콘 주문하기 입력폼"),a.a.createElement("div",{className:"layer_head"},a.a.createElement("strong",{className:"tit_layer"},"선물하기")),a.a.createElement("div",{className:"layer_body"},a.a.createElement(l.a,{keyword:s.query,setKeyword:F}),a.a.createElement("div",{className:"inner_body",ref:T},a.a.createElement("div",{ref:w}),a.a.createElement(o.a,{friends:s,selectedFriend:O,setSelectedFriend:I,keyword:s.query,refreshCallback:F,innerBody:T,setIsEmpty:A,actions:t,isLoggedIn:N}))),a.a.createElement("div",{className:"layer_foot"},a.a.createElement(i.a,{selectedFriend:O,callback:function(e){p(e),r(!1),g(!0),d.a.trackEvent({section:h&&b.f.PCTALK,pageName:P,actionName:b.b.CLICK_PURCHASE_SELECT_FRIEND,clickInfo:{layer1:b.d.SELECT_FRIEND,layer2:O.favorite?b.d.FAVORITE:b.d.FRIEND}})}}))),a.a.createElement("button",{type:"button",className:"btn_close",onClick:function(){r(!1)}},a.a.createElement("span",{className:"ico_comm ico_orderclose"},"닫기"))))}},600:function(e,t,r){"use strict";var n=r(3),a=r.n(n),c=r(116),l=r.n(c),o=r(579),i=r(559),s=r(560),u=r(184),m=function(e,t){var r=Object(n.useRef)(e);return Object(n.useEffect)((function(){r.current=e}),[e]),Object(n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=null;return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];r&&clearTimeout(r),r=setTimeout((function(){return e.apply(void 0,a)}),t)}}((function(){return r.current.apply(r,arguments)}),t),[t])},f=r(182),d=r(15),b=r(564);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.actions,r=e.coupons,c=e.item,y=e.setVisible,v=e.headerInfo,g=e.giftCardProps,_=e.multiProfile,h=e.selectedFriend,N=e.setSelectedFriend,S=e.setPurchaseFriendLayerVisible,O=e.isPcTalkPurchase,I=void 0!==O&&O,j=e.isBirthday,C=void 0!==j&&j,A=g.loading,w=g.colorList,T=g.defaultMsg,k=g.defaultIndex,P=g.birthdayMsg,x=g.birthdayIndex,F=E(Object(n.useState)(0),2),R=F[0],L=F[1],M=E(Object(n.useState)(0),2),U=M[0],H=M[1],B=E(Object(n.useState)(!1),2),D=B[0],G=B[1],K=E(Object(n.useState)(""),2),V=K[0],W=K[1],$=A||_.loading,q=w[U],J=U===x,z=J?P:T,Y=c.title,Q=c.isEmoji,X=c.titleImageUrl,Z=c.thumbnailUrls,ee={msg:V||z,emotIdx:Q?0:R+1,colorSet:q},te=Object(n.useCallback)(m((function(){t.openDialog({message:"선물 카드 메시지는 최대 30자까지 입력 가능합니다."})}),300),[]);return Object(n.useEffect)((function(){var e=Object(b.a)(location.search).referer,t=I&&{referer:e};f.a.trackPage({section:I&&d.f.PCTALK,pageName:I?d.e.PCTALK_BEFORE_GIFT:d.e.ITEM_BEFORE_GIFT,actionName:d.b.PAGE_VIEW_ITEM_GIFT_DETAIL,pageMeta:{name:Y,type:Q?d.c.EMOJI:d.c.EMOTICON},customProps:t})}),[I,Y,Q]),Object(n.useEffect)((function(){A&&t.fetchGiftCardProps()}),[t,A]),Object(n.useEffect)((function(){A||H(C?x:k)}),[A,k,x,C]),a.a.createElement(o.a,{actions:t,item:c,coupons:r,headerInfo:v,setVisible:y,selectedFriend:h,giftPayload:ee,isPcTalkPurchase:I,disabled:$},$&&a.a.createElement("div",{className:"box_order"},a.a.createElement(s.a,null)),!$&&a.a.createElement("div",{className:"box_order box_gift",style:{backgroundImage:q.cardBgPath&&"url(".concat(q.cardBgPath,")"),backgroundSize:"100%",backgroundColor:q.cardBgColor,backgroundPosition:"0 top",backgroundRepeat:"no-repeat"}},a.a.createElement("div",{className:"area_friend"},a.a.createElement("strong",{className:"screen_out"},"선물 할 친구"),a.a.createElement("span",{className:l()("wrap_thumb",p({}," type_birth",J))},a.a.createElement("span",{className:"inner_thumb"},a.a.createElement("img",{className:"thumb_user",src:h.profileImgUrl||i.a,alt:"사용자"}))),a.a.createElement("span",{className:"txt_name"},h.displayName),a.a.createElement("button",{className:"btn_change",onClick:function(){y(!1),N(null),S(!0)}},a.a.createElement("span",{className:"txt_change"},"친구 변경"))),a.a.createElement("div",{className:"area_goods"},a.a.createElement("div",{className:"cont_goods"},a.a.createElement("strong",{className:"screen_out"},"메세지 대표 이모티콘"),a.a.createElement("div",{className:"wrap_emoticon"},a.a.createElement("img",{src:Q?X:Z[R],className:"img_default",alt:"카카오 이모티콘"}),!Q&&a.a.createElement("button",{className:"btn_emolist",onClick:function(){return G(!0)}},a.a.createElement("span",{className:"ico_comm ico_emolist"},"카드 이미지 선택 팝업 열기"))),D&&a.a.createElement(u.a,{className:"dim_layer",closeFunction:function(){return G(!1)},actions:t}),a.a.createElement("div",{className:"wrap_goods",style:{display:D&&"block"}},a.a.createElement("strong",{className:"tit_goods"},"카드 이미지 선택"),a.a.createElement("div",{className:"area_items"},a.a.createElement("div",{className:"list_goods"},Z.map((function(e,t){return a.a.createElement("div",{className:l()("unit_goods",p({},"on",R===t)),key:e},a.a.createElement("a",{href:"#",className:"link_thumb",onClick:function(e){e.preventDefault(),L(t)}},a.a.createElement("img",{src:e,className:"thumb_img",alt:"이미지 썸네일"}),a.a.createElement("span",{className:"ico_comm ico_emochk"})))})))),a.a.createElement("button",{type:"button",className:"btn_close",onClick:function(){return G(!1)}},a.a.createElement("span",{className:"ico_comm ico_closeemo"},"닫기")))),a.a.createElement("div",{className:"cont_message",style:{backgroundColor:q.cardColor}},a.a.createElement("span",{className:"screen_out"},"메세지 편집 영역"),a.a.createElement("div",{className:"wrap_message"},a.a.createElement("textarea",{id:"message",className:"tf_message",placeholder:z,value:V,onChange:function(e){var t=e.target.value;t.length>30?te():W(t)}})),a.a.createElement("div",{className:"wrap_dear"},"From. ",a.a.createElement("span",{className:"txt_dear"},_.displayName)))),a.a.createElement("div",{className:"area_style"},a.a.createElement("strong",{className:"screen_out"},"메세지 배경 선택"),a.a.createElement("ul",{className:"list_style"},w.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("input",{type:"radio",name:"msgTheme",id:"msgTheme".concat(t),className:"inp_g",checked:U===t,onChange:function(){return H(t)}}),a.a.createElement("label",{htmlFor:"msgTheme".concat(t),className:"lab_g"},a.a.createElement("span",{className:"wrap_theme",style:{backgroundColor:e.cardColor}},a.a.createElement("img",{src:e.cardThumbnail,className:"img_theme",alt:""})),a.a.createElement("span",{className:"ico_comm ico_emoradio"})))}))))))}}}]);